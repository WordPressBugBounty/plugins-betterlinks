"use strict";(globalThis.webpackChunkbetterlinks=globalThis.webpackChunkbetterlinks||[]).push([[899],{4958(e,t,n){n.d(t,{A:()=>o});var l=n(3453),r=n(1609),a=n(5556),i=n.n(a),s=n(9735),c={siteUrl:i().string,shortUrl:i().string};function o(e){e.siteUrl;var t=e.shortUrl,n=(0,r.useState)(!1),a=(0,l.A)(n,2),i=a[0],c=a[1];return(0,r.createElement)("button",{type:"button",onClick:function(){return function(e){(0,s.Nj)(e),c(!0)}(t)},className:"btl-link-copy-button"},i?(0,r.createElement)("span",{className:"dashicons dashicons-yes"}):(0,r.createElement)("i",{className:"btl btl-copy"}))}o.propTypes=c},9255(e,t,n){n.d(t,{A:()=>m});var l=n(4467),r=n(3453),a=n(1609),i=n.n(a),s=n(4949),c=n(6005);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,l)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,l.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n(7723),n(9735);const m=function(e){var t=(0,s.Mt)(e.name),n=(0,r.A)(t,3),l=n[0],o=n[2].setValue,m=(0,a.useState)(null),d=(0,r.A)(m,2),p=d[0],b=d[1];return(0,a.useEffect)(function(){var t=(e.value||[]).find(function(e){return e.value===l.value});if(t)b(t);else{var n=(e.value||[]).find(function(t){return t.value===(e.defaultValue||"307")});n&&(b(n),o(n.value,!1),e.setFieldValue(l.name,n.value))}},[l.value,e.value,e.defaultValue]),(0,a.createElement)(i().Fragment,null,(0,a.createElement)(c.Ay,{className:"btl-modal-select--full ".concat(e.value&&e.value.find(function(e){return"pro"==e.value})?"btl-modal-select-need-pro-teaser":""),classNamePrefix:"btl-react-select",id:l.id,name:l.name,onChange:function(t){if(null==t)return e.setFieldValue(l.name,"");"pro"!==(null==t?void 0:t.value)?(b(t),null!=e&&e.isQuickSetup?(e.setFieldValue(l.name,null==t?void 0:t.value),null==e||e.setSettings(function(n){return u(u({},n),{},{redirect_type:e.isMulti?t.map(function(e){return e.value}):t.value})})):e.setFieldValue(l.name,e.isMulti?t.map(function(e){return e.value}):t.value)):e.setUpgradeToProModal&&e.setUpgradeToProModal(!0)},options:e.value,value:p,isMulti:e.isMulti}))}},8767(e,t,n){n.d(t,{A:()=>m});var l=n(4467),r=n(3453),a=n(1609),i=n(4949),s=n(6005),c=n(9735);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,l)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,l.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const m=function(e){var t=(0,i.Mt)(e.name),n=(0,r.A)(t,3),l=n[0],o=n[2].setValue,m=["cloak","pro"].includes(l.value)&&!c.JT,d=m?"307":l.value;return m&&o("307"),(0,a.createElement)(React.Fragment,null,(0,a.createElement)(s.Ay,{className:"btl-modal-select--full ".concat(e.value&&e.value.find(function(e){return"pro"==e.value})?"btl-modal-select-need-pro-teaser":""),classNamePrefix:"btl-react-select",id:l.id,name:l.name,defaultValue:e.value&&e.value.filter(function(e){return e.value==(d||"307")}),onChange:function(t){return null==t?e.setFieldValue(l.name,""):(null!=e&&e.isQuickSetup&&(null==e||e.setLinkOptions(function(n){return u(u({},n),{},{redirect_type:e.isMulti?t.map(function(e){return e.value}):t.value})})),e.setFieldValue(l.name,e.isMulti?t.map(function(e){return e.value}):t.value))},options:e.value,isMulti:e.isMulti,isDisabled:e.disabled,isOptionDisabled:function(e){return e.disabled}}))}},5464(e,t,n){n.d(t,{A:()=>g});var l=n(4467),r=n(2284),a=n(467),i=n(3453),s=n(1609),c=n.n(s),o=n(9280),u=n.n(o),m=n(7723),d=n(6663),p=n(2078),b=n(9735);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,l)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){(0,l.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e){var t=e.targetUrl,n=e.saveValueHandler,l=e.closeModalHandler,o=e.categoryId,_=void 0===o?1:o,g=(0,s.useState)(!1),v=(0,i.A)(g,2),k=v[0],h=v[1],E=(0,s.useState)(b.sD||{}),y=(0,i.A)(E,2),N=y[0],O=y[1],w=(0,s.useState)(!1),C=(0,i.A)(w,2),P=(C[0],C[1]),j=d.parseUrl(t,{parseFragmentIdentifier:!0}),S=function(){var e=(0,a.A)(u().mark(function e(){var t,n;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!0),e.next=1,b.nC.get(b.MF+"settings");case 1:return t=e.sent,n=JSON.parse(t.data.data),O(n),e.abrupt("return",n);case 2:return e.prev=2,e.catch(0),e.abrupt("return",N);case 3:return e.prev=3,P(!1),e.finish(3);case 4:case"end":return e.stop()}},e,null,[[0,2,3,4]])}));return function(){return e.apply(this,arguments)}}(),x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N;if(!t||"object"!==(0,r.A)(t))return{};var n=t.global_utm_templates||[],l=t.global_utm_defaults||{},a=t.utm_last_applied_templates||{},i=Array.isArray(n)?n:[n],s=parseInt(e)||1,c=a[s],o=null,u=!1;if(c){var m=i.find(function(e){return e.template_index===c.template_index});m&&m.categories&&Array.isArray(m.categories)&&m.categories.some(function(e){return parseInt(e)===parseInt(s)})&&(u=!0,m.utm_auto_apply_new_link&&(o=m))}return o||u||(o=i.find(function(e){return!!e.utm_auto_apply_new_link&&!(!e.categories||!Array.isArray(e.categories))&&e.categories.some(function(e){return parseInt(e)===parseInt(s)})})),o?{utm_source:o.utm_source||"",utm_medium:o.utm_medium||"",utm_campaign:o.utm_campaign||"",utm_term:o.utm_term||"",utm_content:o.utm_content||""}:l},A=x(_),D=(0,s.useState)({utm_source:j.query.utm_source?j.query.utm_source:A.utm_source||"",utm_medium:j.query.utm_medium?j.query.utm_medium:A.utm_medium||"",utm_campaign:j.query.utm_campaign?j.query.utm_campaign:A.utm_campaign||"",utm_term:j.query.utm_term?j.query.utm_term:A.utm_term||"",utm_content:j.query.utm_content?j.query.utm_content:A.utm_content||""}),M=(0,i.A)(D,2),L=M[0],F=M[1];(0,s.useEffect)(function(){var e=function(){var e=(0,a.A)(u().mark(function e(){var t,n;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,S();case 1:t=e.sent,n=x(_,t),F(function(e){return{utm_source:j.query.utm_source||n.utm_source||e.utm_source||"",utm_medium:j.query.utm_medium||n.utm_medium||e.utm_medium||"",utm_campaign:j.query.utm_campaign||n.utm_campaign||e.utm_campaign||"",utm_term:j.query.utm_term||n.utm_term||e.utm_term||"",utm_content:j.query.utm_content||n.utm_content||e.utm_content||""}});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();e()},[]),(0,s.useEffect)(function(){var e=x(_,N),n=d.parseUrl(t,{parseFragmentIdentifier:!0});F(function(t){return Object.values(e).some(function(e){return e&&""!==e.trim()})?{utm_source:n.query.utm_source||e.utm_source||t.utm_source||"",utm_medium:n.query.utm_medium||e.utm_medium||t.utm_medium||"",utm_campaign:n.query.utm_campaign||e.utm_campaign||t.utm_campaign||"",utm_term:n.query.utm_term||e.utm_term||t.utm_term||"",utm_content:n.query.utm_content||e.utm_content||t.utm_content||""}:t})},[_,t,N]);var T=function(){h(!0)};return(0,s.createElement)(c().Fragment,null,(0,s.createElement)(p.A,{isOpenModal:k,closeModal:function(){h(!1)}}),(0,s.createElement)("div",{className:"btl-modal-utm-builder"},(0,s.createElement)("h3",{className:"btl-modal-utm-builder__title"},(0,m.__)("UTM Builder","betterlinks"),(0,s.createElement)("div",{className:"btl-tooltip"},(0,s.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,s.createElement)("span",{className:"btl-tooltiptext",style:{width:"220px"}},(0,m.__)("Add Campaign Parameters to Track Custom Campaigns","betterlinks")))),(0,s.createElement)("div",{className:"btl-modal-utm-builder__body"},!betterLinksHooks.applyFilters("isActivePro",!1)&&(0,s.createElement)("div",{className:"btl-modal-utm-builder__form-group btl-modal-utm-templates"},(0,s.createElement)("label",{htmlFor:"savedtemplate"},(0,m.__)("Template","betterlinks")),(0,s.createElement)("div",null,(0,s.createElement)("div",{name:"savedtemplate",id:"savedtemplate",onClick:function(){return T()}},(0,m.__)("Pick a Template","betterlinks")," ",(0,s.createElement)("img",{src:b.hq+"assets/images/locked.svg",alt:"locked",style:{marginLeft:5}})))),(0,s.createElement)("div",{className:"btl-modal-utm-builder__form-group"},(0,s.createElement)("label",{htmlFor:"utmCampaign"},(0,m.__)("Campaign","betterlinks")),(0,s.createElement)("div",null,(0,s.createElement)("input",{id:"utmCampaign",value:L.utm_campaign,onChange:function(e){return F(f(f({},L),{},{utm_campaign:e.target.value}))},type:"text",name:"utm_campaign",placeholder:(0,m.__)("e.g: Example-campaign","betterlinks")}))),(0,s.createElement)("div",{className:"btl-modal-utm-builder__form-group"},(0,s.createElement)("label",{htmlFor:"utmMedium"},(0,m.__)("Medium","betterlinks")),(0,s.createElement)("div",null,(0,s.createElement)("input",{id:"utmMedium",value:L.utm_medium,onChange:function(e){return F(f(f({},L),{},{utm_medium:e.target.value}))},type:"text",name:"utm_medium",placeholder:(0,m.__)("e.g: cpc, banner, email","betterlinks")}))),(0,s.createElement)("div",{className:"btl-modal-utm-builder__form-group"},(0,s.createElement)("label",{htmlFor:"utmSource"},(0,m.__)("Source","betterlinks")),(0,s.createElement)("div",null,(0,s.createElement)("input",{id:"utmSource",value:L.utm_source,onChange:function(e){return F(f(f({},L),{},{utm_source:e.target.value}))},type:"text",name:"utm_source",placeholder:(0,m.__)("e.g: Twitter, Facebook","betterlinks")}))),(0,s.createElement)("div",{className:"btl-modal-utm-builder__form-group"},(0,s.createElement)("label",{htmlFor:"utmTerm"},(0,m.__)("Term","betterlinks")),(0,s.createElement)("div",null,(0,s.createElement)("input",{id:"utmTerm",value:L.utm_term,onChange:function(e){return F(f(f({},L),{},{utm_term:e.target.value}))},type:"text",name:"utm_term",placeholder:(0,m.__)("e.g: paid keywords","betterlinks")}))),(0,s.createElement)("div",{className:"btl-modal-utm-builder__form-group"},(0,s.createElement)("label",{htmlFor:"utmContent"},(0,m.__)("Content","betterlinks")),(0,s.createElement)("div",null,(0,s.createElement)("input",{id:"utmContent",value:L.utm_content,onChange:function(e){return F(f(f({},L),{},{utm_content:e.target.value}))},type:"text",name:"utm_content",placeholder:(0,m.__)("e.g: text AD name","betterlinks")}))),(0,s.createElement)("div",{className:"btl-modal-utm-builder__form-group"},(0,s.createElement)("button",{type:"button",onClick:function(){return e=d.exclude(t,["utm_source","utm_medium","utm_campaign","utm_term","utm_content"]),n("target_url",d.stringifyUrl({url:e,query:Object.entries(L).reduce(function(e,t){var n=(0,i.A)(t,2),l=n[0],r=n[1];return r&&""!=r?(e[l]=r,e):e},{})})),void l();var e}},(0,m.__)("Save Link","betterlinks")),!betterLinksHooks.applyFilters("isActivePro",!1)&&(0,s.createElement)("button",{type:"button",onClick:function(e){return T()}},(0,m.__)("Save New Template","betterlinks")," ",(0,s.createElement)("img",{src:b.hq+"assets/images/locked-white.svg",alt:"locked"}))))))}g.propTypes={}},5679(e,t,n){n.r(t),n.d(t,{default:()=>pe});var l=n(4467),r=n(3453),a=n(1609),i=n(7723),s=n(2078),c=n(467),o=n(9280),u=n.n(o),m=n(378),d=n(5146),p=n(4434),b=n(172),_=n(9735);const f=function(){var e=(0,a.useContext)(b.P),t=e.setActiveStep,n=e.setClientConsent,l=(0,a.useState)(!1),s=(0,r.A)(l,2),o=s[0],m=s[1],d=function(){var e=(0,c.A)(u().mark(function e(t){var l,r;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,(0,_.In)({action:"betterlinks__client_consent",opt_in_value:t});case 1:r=e.sent,n(null===(l=r.data)||void 0===l?void 0:l.success);case 2:case"end":return e.stop()}},e)}));return function(_x){return e.apply(this,arguments)}}();return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"getting-started"},(0,a.createElement)("h3",null,(0,i.__)("Getting Started","betterlinks")),(0,a.createElement)("p",null,(0,i.__)("Easily get started with the easy setup wizard and complete setting up to streamline website's link management strategy.","betterlinks")),(0,a.createElement)("iframe",{width:450,height:258,src:"https://www.youtube-nocookie.com/embed/ZJqBrFhQC1A",title:"YouTube video player",frameBorder:0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0}),(0,a.createElement)("div",{className:"actions"},(0,a.createElement)("p",null,(0,a.createElement)("span",null,(0,i.__)("By clicking this button I am allowing this app to collect my information.","betterlinks"),(0,a.createElement)("span",{className:"what-we-collect",onClick:function(e){e.preventDefault(),m(!o)}},(0,i.__)("What We Collect?","betterlinks"))),(0,a.createElement)("span",{className:"consent-info ".concat(o?"show":"hide")},(0,a.createElement)("span",null,(0,i.__)("We collect non-sensitive diagnostic data and plugin usage information. Your site URL, WordPress & PHP version, plugins & themes and email address to send you the discount coupon. This data lets us make sure this plugin always stays compatible with the most popular plugins and themes. No spam, I promise.","betterlinks")))),(0,a.createElement)("button",{className:"button button-primary",onClick:function(){d("yes"),t(1)}},(0,i.__)("Proceed to Next Step","betterlinks")),(0,a.createElement)("a",{href:"#",onClick:function(e){e.preventDefault(),d("no"),t(1)}},(0,i.__)("Skip This Step","betterlinks")))))};var g=n(5458),v=n(150),k=n(9255),h=n(4949),E=n(7783);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,l)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){(0,l.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const O=function(){var e=(0,a.useContext)(b.P),t=e.settings,n=e.setSettings,r=e.modal,s=r.setUpgradeToProModal,c=r.openUpgradeToProModal,o=function(e,t){var r;e.setFieldValue(t,!(null!==(r=e.values)&&void 0!==r&&r[t])),n(function(n){var r;return N(N({},n),{},(0,l.A)({},t,!(null!==(r=e.values)&&void 0!==r&&r[t])))})};return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"configuration"},(0,a.createElement)("div",{className:"header"},(0,a.createElement)("h3",null,(0,i.__)("Configuration","betterlinks")),(0,a.createElement)("p",null,(0,i.__)("Let’s adjust core settings to match your preferences, including link options, redirect types and tracking options, for a seamless setup experience.","betterlinks"))),(0,a.createElement)("div",{className:"option"},(0,a.createElement)(h.l1,{initialValues:N({},t)},function(e){var l,r;return(0,a.createElement)(h.lV,null,(0,a.createElement)("div",{className:"btl-tab-panel-inner"},(0,a.createElement)("span",{className:"btl-form-group"},(0,a.createElement)("label",{className:"btl-form-label"},(0,i.__)("Link Options","betterlinks")),(0,a.createElement)("div",{className:"link-options__body"},(0,a.createElement)("label",{className:"btl-checkbox-field block"},(0,a.createElement)(h.D0,{className:"btl-check",name:"nofollow",type:"checkbox",onChange:function(){o(e,"nofollow")}}),(0,a.createElement)("span",{className:"text"},(0,i.__)("No Follow","betterlinks"),(0,a.createElement)("div",{className:"btl-tooltip"},(0,a.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,a.createElement)("span",{className:"btl-tooltiptext"},(0,i.__)("This will add nofollow attribute to your link. (Recommended)","betterlinks"))))),(0,a.createElement)("label",{className:"btl-checkbox-field block"},(0,a.createElement)(h.D0,{className:"btl-check",name:"sponsored",type:"checkbox",onChange:function(){o(e,"sponsored")}}),(0,a.createElement)("span",{className:"text"},(0,i.__)("Sponsored","betterlinks"),(0,a.createElement)("div",{className:"btl-tooltip"},(0,a.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,a.createElement)("span",{className:"btl-tooltiptext"},(0,i.__)("This will add sponsored attribute to your link. (Recommended for Affiliate links)","betterlinks"))))),(0,a.createElement)("label",{className:"btl-checkbox-field block"},(0,a.createElement)(h.D0,{className:"btl-check",name:"param_forwarding",type:"checkbox",onChange:function(){return o(e,"param_forwarding")}}),(0,a.createElement)("span",{className:"text"},(0,i.__)("Parameter Forwarding","betterlinks"),(0,a.createElement)("div",{className:"btl-tooltip"},(0,a.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,a.createElement)("span",{className:"btl-tooltiptext"},(0,i.__)("This will pass the parameters you have set in the target URL","betterlinks"))))),(0,a.createElement)("label",{className:"btl-checkbox-field block"},(0,a.createElement)(h.D0,{className:"btl-check",name:"track_me",type:"checkbox",onChange:function(){return o(e,"track_me")}}),(0,a.createElement)("span",{className:"text"},(0,i.__)("Tracking","betterlinks"),(0,a.createElement)("div",{className:"btl-tooltip"},(0,a.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,a.createElement)("span",{className:"btl-tooltiptext"},(0,i.__)("This will let you check Analytics report of your links","betterlinks"))))))),(0,a.createElement)("span",{className:"btl-form-group btl-form-group--top"},(0,a.createElement)("label",{className:"btl-form-label"},(0,i.__)("Link Prefix","betterlinks")),(0,a.createElement)("div",{className:"link-options__body",style:{flexDirection:"column"}},(0,a.createElement)("div",{style:{maxWidth:"200px"}},(0,a.createElement)(h.D0,{className:"btl-text-field",name:"prefix",value:null!==(l=null===(r=e.values)||void 0===r?void 0:r.prefix)&&void 0!==l?l:"go",type:"text",onChange:function(t){e.setFieldValue("prefix",t.target.value),n(function(e){return N(N({},e),{},{prefix:t.target.value})})}})),(0,a.createElement)("div",{className:"short-description"},(0,a.createElement)("span",{className:"dashicons dashicons-info-outline"})," ",(0,i.__)("The prefix will be added before your Shortened URL’s slug eg.","betterlinks"),betterLinksHooks.applyFilters("site_url",_.IV),e.values.prefix&&(0,a.createElement)(a.Fragment,null,"/",(0,a.createElement)("strong",null,e.values.prefix)),(0,i.__)("/your-affiliate-link-name.","betterlinks")))),(0,a.createElement)("span",{className:"btl-form-group"},(0,a.createElement)("label",{className:"btl-form-label"},(0,i.__)("Redirect Type","betterlinks")),(0,a.createElement)(k.A,{className:"btl-modal-select--full",classNamePrefix:"btl-react-select",id:"redirect_type",name:"redirect_type",setUpgradeToProModal:s,value:[].concat((0,g.A)(E.XN),[{value:_.JT?"cloak":"pro",label:_.JT?(0,i.__)("Cloaked","betterlinks"):(0,a.createElement)(a.Fragment,null,(0,i.__)("Cloaked","betterlinks"),(0,a.createElement)(v.A,null))}]),defaultValue:"cloak"!=t.redirect_type||_.JT?t.redirect_type:"307",setFieldValue:e.setFieldValue,isMulti:!1,isQuickSetup:!0,setSettings:n})),(0,a.createElement)("span",{className:"btl-form-group"},(0,a.createElement)("label",{className:"btl-form-label"},(0,i.__)("Wildcards","betterlinks")),(0,a.createElement)("div",{className:"link-options__body"},(0,a.createElement)("label",{className:"btl-checkbox-field block"},(0,a.createElement)(h.D0,{className:"btl-check",name:"wildcards",type:"checkbox",onChange:function(){return o(e,"wildcards")}}),(0,a.createElement)("span",{className:"text"},(0,i.__)("Use Wildcards?","betterlinks"),(0,a.createElement)("div",{className:"btl-tooltip"},(0,a.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,a.createElement)("span",{className:"btl-tooltiptext"},(0,i.__)("To use wildcards, put an asterisk (*) after the folder name that you want to redirect.","betterlinks"))))))),betterLinksHooks.applyFilters("BetterLinksQuickSetupConfig",(0,a.createElement)("span",{className:"btl-form-group btl-form-group--teaser"},(0,a.createElement)("label",{className:"btl-form-label",onClick:c},(0,i.__)("Force HTTPS","betterlinks")," ",(0,a.createElement)(v.A,null)),(0,a.createElement)("div",{className:"link-options__body"},(0,a.createElement)("label",{className:"btl-checkbox-field block",onClick:c},(0,a.createElement)("input",{className:"btl-check",name:"force_https",type:"checkbox",disabled:!0}),(0,a.createElement)("span",{className:"text"},(0,i.__)("Enable HTTPS Redirection","betterlinks"),(0,a.createElement)("div",{className:"btl-tooltip"},(0,a.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,a.createElement)("span",{className:"btl-tooltiptext"},(0,i.__)("This will allow you to redirect your Target URLs in HTTPS.","betterlinks"))))))),N(N({},e),{},{handleOptions:o}))))}))))};var w=n(1383),C=function(){return(0,a.createElement)("svg",{className:"MuiSvgIcon-root jss360",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true"},(0,a.createElement)("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}))},P=function(){return(0,a.createElement)("svg",{className:"MuiSvgIcon-root jss360 MuiSvgIcon-fontSizeSmall",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true"},(0,a.createElement)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}))},j=function(){return(0,a.createElement)("svg",{className:"MuiSvgIcon-root",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true"},(0,a.createElement)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}))},S=function(e){var t=e.status;return{"in-progress":(0,a.createElement)(C,null),failed:(0,a.createElement)(P,null),complete:(0,a.createElement)(j,null)}[t]},x=n(312),A=n.n(x),D=n(1225),M=n(5857),L=function(e){return function(t){t({type:"UPDATE_OPTIONS",payload:e})}},F=function(e){return function(t){t({type:"UPDATE_RESULTS",payload:e})}};const T=(0,D.Ng)(function(e){return{quickSetup:e.quickSetup}},function(e){return{update_quick_setup:(0,M.zH)(L,e)}})(function(e){var t,n,l,r,s,c,o=e.quickSetup,u=(0,a.useContext)(b.P),m=u.modalIsOpen,d=u.setModalIsOpen,p=u.setModalConfirm,f=u.migrationSettings,g=(u.migrationStatus,u.setActiveStep),v=function(){d(!1),p(!1)},k=o.results,h=k.pl,E=k.ta,y=k.s3r,N=Object.keys(status).filter(function(e){return f[e]}).every(Boolean);return(0,a.createElement)(A(),{isOpen:m,onRequestClose:v,style:_.Qu,ariaHideApp:!1,parentSelector:function(){return document.querySelector(".migration")}},(0,a.createElement)("div",{className:"btl-manage-tags-form"},(0,a.createElement)("span",{className:"btl-close-modal",onClick:v},(0,a.createElement)("i",{className:"btl btl-cancel"})),(0,a.createElement)("div",{className:"btl-confirmation-alert"},(0,a.createElement)("h3",{className:"btl-modal-utm-builder__title",style:{textAlign:"center",fontSize:"22px"}},(0,i.__)("Migration Logs","betterlinks")),(0,a.createElement)("div",{className:"btl-migration-logs"},!(k.pl||k.ta||k.s3r)&&(0,a.createElement)("div",{className:"btl-migration-logs__item"},(0,a.createElement)("span",null,(0,i.__)("Running Migration....","betterlinks"))),E&&(0,a.createElement)("div",{className:"btl-migration-logs__item"},(0,a.createElement)("span",null,(0,a.createElement)("strong",null,(0,i.__)("Thirsty Affiliates:","betterlinks"))),null==E||null===(t=E.links)||void 0===t?void 0:t.map(function(e){return(0,a.createElement)("span",null,e)})),h&&(0,a.createElement)("div",{className:"btl-migration-logs__item"},(0,a.createElement)("span",null,(0,a.createElement)("strong",null,(0,i.__)("Pretty Links:","betterlinks"))),null==h||null===(n=h.links)||void 0===n?void 0:n.map(function(e){return(0,a.createElement)("span",null,e)}),(null==h?void 0:h.duplicate_migration_detected__so_prevented_it_here)&&(0,a.createElement)("span",null,(0,i.__)("Pretty Links:Duplicate migration detected. So prevented it here.","betterlinks")),(null==h?void 0:h.btl_prettylinks_migration_running_in_background)&&(0,a.createElement)("span",null,(0,i.__)("Pretty Links migration running in background.","betterlinks"))),((null==y||null===(l=y.links)||void 0===l?void 0:l.length)>0||(null==y||null===(r=y.wildcard)||void 0===r?void 0:r.length)>0)&&(0,a.createElement)("div",{className:"btl-migration-logs__item"},(0,a.createElement)("span",null,(0,a.createElement)("strong",null,(0,i.__)("Simple 301 Redirects:","betterlinks"))),null==y||null===(s=y.links)||void 0===s?void 0:s.map(function(e){return(0,a.createElement)("span",null,e)}),null==y||null===(c=y.wildcard)||void 0===c?void 0:c.map(function(e){return(0,a.createElement)("span",null,e)}))),(0,a.createElement)("div",{className:"next-tab-confirmation"},(0,a.createElement)("button",{className:"button",onClick:v},(0,i.__)("Cancel","betterlinks")),(0,a.createElement)("button",{className:"button button-primary",disabled:!N,onClick:function(){g(3),d(!1)}},(0,i.__)("Continue","betterlinks"))))))});function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,l)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach(function(t){(0,l.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const V=function(){var e=(0,a.useContext)(b.P),t=e.migrationSettings,n=e.setMigrationSettings,r=e.migrationStatus,s=t.simple301redirects,c=t.thirstyaffiliates,o=t.prettylinks,u=function(e){n(function(t){return H(H({},t),{},(0,l.A)({},e,!t[e]))})};return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"migration"},(0,a.createElement)(T,null),(0,a.createElement)("div",{className:"header"},(0,a.createElement)("h3",null,(0,i.__)("Migration","betterlinks")),(0,a.createElement)("p",null,(0,i.__)("Already using another link management tool? Let’s import existing links and data to BetterLinks without facing any hassle.","betterlinks"))),(0,a.createElement)("div",{className:"option"},_.MH.simple301redirects&&(0,a.createElement)(U,{title:(0,i.__)("Simple 301 Redirects","betterlinks"),show:s,onClick:function(){return u("simple301redirects")},status:r.simple301redirects}),_.MH.thirstyaffiliates&&(0,a.createElement)(U,{title:(0,i.__)("ThirstyAffiliates","betterlinks"),show:c,onClick:function(){return u("thirstyaffiliates")},status:r.thirstyaffiliates}),_.MH.prettylinks&&(0,a.createElement)(U,{title:(0,i.__)("Pretty Links","betterlinks"),show:o,onClick:function(){return u("prettylinks")},status:r.prettylinks}))))};var U=function(e){var t=e.title,n=e.show,l=void 0!==n&&n,r=e.onClick,s=e.status,c=void 0===s?"":s,o={complete:(0,i.__)("Complete","betterlinks"),"in-progress":(0,i.__)("In Progress","betterlinks"),failed:(0,i.__)("Failed","betterlinks")};return(0,a.createElement)("div",{className:"plugin-single",style:{cursor:"pointer",borderColor:l?"#3f51b5":"transparent"}},(0,a.createElement)("div",{className:"left-side"},(0,a.createElement)(w.A,{color:"primary",checked:l,onClick:r}),(0,a.createElement)("span",null,t),""!==c&&(0,a.createElement)("div",{className:"badge ".concat(c)},(0,a.createElement)(S,{status:c}),(0,a.createElement)("span",null,o[c]))),"failed"===c&&(0,a.createElement)("div",{className:"right-side failed"},(0,a.createElement)("button",{className:"button button-failed"},(0,a.createElement)(S,{status:"in-progress"}),(0,a.createElement)("span",null,(0,i.__)("Retry","betterlinks")))))},I=n(8767),R=n(5464),z=n(4958);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,l)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach(function(t){(0,l.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Q=(0,D.Ng)(function(e){var t;return{duplicateLink:null===(t=e.quickSetup)||void 0===t?void 0:t.duplicateLink}},function(e){return{update_quick_setup:(0,M.zH)(L,e)}})(function(e){var t=(0,a.useContext)(b.P),n=t.linkOptions,l=t.setLinkOptions,s=t.modal,c=t.settings,o=(0,a.useState)(!1),u=(0,r.A)(o,2),m=u[0],d=u[1],p=(0,a.useState)(!1),f=(0,r.A)(p,2),v=f[0],k=f[1],y=(0,a.useState)(!0),N=(0,r.A)(y,2),O=N[0],w=N[1],C=s.setUpgradeToProModal,P=s.openUpgradeToProModal,j=(0,a.useState)(J(J({},n),c)),S=(0,r.A)(j,2),x=S[0],D=(S[1],betterLinksHooks.applyFilters("isDisableLinkFormEditView",!1,x)),M=function(){k(!0)},L=function(){w(!0),k(!1)},F=function(){_.JT?(w(!1),M()):P()},T=function(){e.update_quick_setup({duplicateLink:!1})};return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"create-links"},(0,a.createElement)("div",{className:"header"},(0,a.createElement)("h3",null,(0,i.__)("Create Link","betterlinks")),(0,a.createElement)("p",null,(0,i.__)("Let’s create a new link in seconds! Just set the slug, choose redirect rules, adjust link options and start tracking right away.","betterlinks"))),(0,a.createElement)("div",{className:"option"},(null==e?void 0:e.duplicateLink)&&(0,a.createElement)("div",{className:"duplicate-link-modal"},(0,a.createElement)(A(),{isOpen:e.duplicateLink,onRequestClose:T,style:_.Qu,ariaHideApp:!1,parentSelector:function(){return document.querySelector(".create-links .option")}},(0,a.createElement)("span",{className:"btl-close-modal",onClick:T},(0,a.createElement)("i",{className:"btl btl-cancel"})),(0,a.createElement)("h3",null,(0,i.__)("Duplicate Link","betterlinks")),(0,a.createElement)("p",null,(0,i.__)("The short URL you entered is already exists. Please enter a different short URL.","betterlinks")))),(0,a.createElement)(h.l1,{initialValues:betterLinksHooks.applyFilters("linkFormInitialValues",x),onSubmit:function(){}},function(e){var t=e.errors;return(0,a.createElement)(h.lV,{className:"ReactModal__Content"},(0,a.createElement)("div",{className:"btl-entry-content"},(0,a.createElement)(A(),{isOpen:v,onRequestClose:L,style:_.Qu,ariaHideApp:!1},(0,a.createElement)("span",{className:"btl-close-modal",onClick:L},(0,a.createElement)("i",{className:"btl btl-cancel"})),O?(0,a.createElement)(a.Fragment,null,betterLinksHooks.applyFilters("linksUTMBuilderField",(0,a.createElement)(R.A,{targetUrl:e.values.target_url,saveValueHandler:e.setFieldValue,closeModalHandler:L,categoryId:e.values.cat_id}),e.values.target_url,e.setFieldValue,L,e.values.cat_id)):(0,a.createElement)(React.Fragment,null,betterLinksHooks.applyFilters("linksBuiltInUTMBuilderField","",e.values.target_url,e.setFieldValue,L))),(0,a.createElement)("div",{className:"btl-entry-content-left",style:{marginBottom:"20px"}},(0,a.createElement)("div",{className:"btl-modal-form-group"},(0,a.createElement)("label",{className:"btl-modal-form-label btl-required",htmlFor:"link_title"},(0,i.__)("Title","betterlinks")),(0,a.createElement)("div",{className:"btl-modal-form-title-wrapper"},(0,a.createElement)("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},(0,a.createElement)(h.D0,{className:"btl-modal-form-control",id:"link_title",name:"link_title",disabled:D,onChange:function(t){var n,r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(e("link_title",t),"from_title"===((null==c?void 0:c.url_slug_generation_type)||(null!=c&&c.is_random_string?"random_number":"from_title"))){var r=(0,_.dM)(c,n||t,l,!1);if(r&&r.length>0)return e("short_url",r),d(!1),r}return""}(e.setFieldValue,t.target.value,null,null===(n=e.values)||void 0===n?void 0:n.target_url);l(r?function(e){return J(J({},e),{},{link_title:t.target.value,short_url:r})}:function(e){return J(J({},e),{},{link_title:t.target.value})})},required:!0}),(null==t?void 0:t.link_title)&&(0,a.createElement)("span",{style:{color:"red"}},null==t?void 0:t.link_title)))),(0,a.createElement)("div",{className:"btl-modal-form-group"},(0,a.createElement)("label",{className:"btl-modal-form-label btl-required",htmlFor:"redirect_type"},(0,i.__)("Redirect Type","betterlinks")),(0,a.createElement)(I.A,{id:"redirect_type",name:"redirect_type",value:[].concat((0,g.A)(E.XN),[{value:_.JT?"cloak":"pro",label:(0,i.__)("Cloaked","betterlinks"),disabled:!_.JT}]),setUpgradeToProModal:C,setFieldValue:e.setFieldValue,disabled:D,isMulti:!1,enable_password:!1,isQuickSetup:!0,setLinkOptions:l})),(0,a.createElement)("div",{className:"btl-modal-form-group btl-has-utm-button"},(0,a.createElement)("label",{className:"btl-modal-form-label btl-required",htmlFor:"target_url"},(0,i.__)("Target URL","betterlinks")),(0,a.createElement)(h.D0,{className:"btl-modal-form-control",id:"target_url",name:"target_url",onChange:function(t){var n,r=t.target.value.replace(/\s+/g,"");e.setFieldValue("target_url",r),l(function(e){return J(J({},e),{},{target_url:r})}),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("from_url"===((null==c?void 0:c.url_slug_generation_type)||(null!=c&&c.is_random_string?"random_number":"from_title"))){var l=(0,_.dM)(c,n,t,!1);l&&l.length>0&&(e("short_url",l),d(!1))}}(e.setFieldValue,r,null===(n=e.values)||void 0===n?void 0:n.link_title)},placeholder:"",disabled:D,required:!0}),(0,a.createElement)("div",{className:"btl-utm-button-group"},(0,a.createElement)("button",{type:"button",className:"btl-utm-button ".concat(e.values.target_url&&(e.values.target_url.includes("utm_source")||e.values.target_url.includes("utm_medium")||e.values.target_url.includes("utm_campaign")||e.values.target_url.includes("utm_term")||e.values.target_url.includes("utm_content"))?"btl-utm-button--applied":"btl-utm-button--not-applied"),onClick:M,disabled:D},(0,i.__)("UTM","betterlinks"),e.values.target_url&&(e.values.target_url.includes("utm_source")||e.values.target_url.includes("utm_medium")||e.values.target_url.includes("utm_campaign")||e.values.target_url.includes("utm_term")||e.values.target_url.includes("utm_content"))&&(0,a.createElement)("span",{className:"btl-utm-badge"},(0,a.createElement)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,a.createElement)("path",{d:"M10.332 1.22725C11.3375 1.80782 12.174 2.64093 12.7586 3.64411C13.3432 4.6473 13.6556 5.78576 13.665 6.94681C13.6744 8.10785 13.3803 9.25121 12.812 10.2637C12.2437 11.2762 11.4209 12.1227 10.4249 12.7195C9.42886 13.3162 8.29428 13.6425 7.13343 13.666C5.97258 13.6894 4.82573 13.4094 3.8064 12.8534C2.78707 12.2975 1.93061 11.4849 1.32181 10.4963C0.713006 9.50758 0.372971 8.37705 0.335365 7.21658L0.332031 7.00058L0.335365 6.78458C0.3727 5.63324 0.70773 4.51122 1.30779 3.52791C1.90785 2.5446 2.75247 1.73355 3.75929 1.17383C4.76612 0.614121 5.90079 0.324844 7.0527 0.334205C8.20461 0.343565 9.33443 0.651244 10.332 1.22725ZM9.47003 5.19591C9.35524 5.08113 9.2025 5.01217 9.04048 5.00199C8.87847 4.9918 8.7183 5.04108 8.59003 5.14058L8.52736 5.19591L6.33203 7.39058L5.47003 6.52925L5.40736 6.47391C5.27909 6.37448 5.11895 6.32526 4.95697 6.33548C4.79499 6.3457 4.6423 6.41466 4.52754 6.52942C4.41278 6.64418 4.34382 6.79687 4.3336 6.95885C4.32338 7.12083 4.3726 7.28097 4.47203 7.40925L4.52736 7.47191L5.8607 8.80525L5.92336 8.86058C6.04028 8.95129 6.18405 9.00052 6.33203 9.00052C6.48001 9.00052 6.62378 8.95129 6.7407 8.86058L6.80336 8.80525L9.47003 6.13858L9.52536 6.07591C9.62486 5.94764 9.67414 5.78748 9.66396 5.62546C9.65377 5.46344 9.58482 5.31071 9.47003 5.19591Z",fill:"#6FD965"})))),_.JT?(0,a.createElement)("button",{type:"button",className:"btl-share-button",onClick:F,disabled:D},(0,a.createElement)("i",{className:"btl btl-share"})):(0,a.createElement)("button",{type:"button",className:"btl-share-button btl-share-button--locked",onClick:F,disabled:D},(0,a.createElement)("i",{className:"btl btl-share"}),(0,a.createElement)("img",{className:"locked",src:_.hq+"assets/images/lock-round.svg",alt:"icon"})))),(0,a.createElement)("div",{className:"btl-modal-shorturl-wrap"},(0,a.createElement)("div",{className:"btl-modal-form-group shorturl"},(0,a.createElement)("label",{className:"btl-modal-form-label",htmlFor:"short_url"},(0,i.__)("Shortened URL","betterlinks")),(0,a.createElement)("div",{className:m?"btl-link-field-copyable is-invalid":"btl-link-field-copyable"},(0,a.createElement)("span",{className:"btl-static-link"},_.IV+"/"),(0,a.createElement)(h.D0,{className:"btl-dynamic-link",id:"short_url",name:"short_url",onChange:function(t){var n=t.target.value.replace(/\s+/g,"-");e.setFieldValue("short_url",n),l(function(e){return J(J({},e),{},{short_url:n})}),d(!1)},disabled:D,required:!0}),(0,a.createElement)(z.A,{siteUrl:_.IV,shortUrl:e.values.short_url}))),1==m&&(0,a.createElement)("div",{className:"errorlog"},(0,i.__)("Already Exists","betterlinks")))),(0,a.createElement)("div",{className:"btl-entry-content-right"},(0,a.createElement)("div",{className:"link-options link-options--open"},(0,a.createElement)("button",{className:"link-options__head",type:"button"},(0,a.createElement)("h4",{className:"link-options__head--title"},(0,i.__)("Link Options","betterlinks"))),(0,a.createElement)("div",{className:"link-options__body"},(0,a.createElement)("label",{className:"btl-checkbox-field"},(0,a.createElement)(h.D0,{className:"btl-check",name:"nofollow",type:"checkbox",onChange:function(){e.setFieldValue("nofollow",!e.values.nofollow),l(function(t){return J(J({},t),{},{nofollow:!e.values.nofollow})})},disabled:D}),(0,a.createElement)("span",{className:"text"},(0,i.__)("No Follow","betterlinks"),(0,a.createElement)("div",{className:"btl-tooltip"},(0,a.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,a.createElement)("span",{className:"btl-tooltiptext"},(0,i.__)("This will add nofollow attribute to your link. (Recommended)","betterlinks"))))),(0,a.createElement)("label",{className:"btl-checkbox-field"},(0,a.createElement)(h.D0,{className:"btl-check",name:"sponsored",type:"checkbox",onChange:function(){e.setFieldValue("sponsored",!e.values.sponsored),l(function(t){return J(J({},t),{},{sponsored:!e.values.sponsored})})},disabled:D}),(0,a.createElement)("span",{className:"text"},(0,i.__)("Sponsored","betterlinks"),(0,a.createElement)("div",{className:"btl-tooltip"},(0,a.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,a.createElement)("span",{className:"btl-tooltiptext"},(0,i.__)("This will add sponsored attribute to your link. (Recommended for Affiliate links)","betterlinks"))))),(0,a.createElement)("label",{className:"btl-checkbox-field"},(0,a.createElement)(h.D0,{className:"btl-check",name:"param_forwarding",type:"checkbox",onChange:function(){e.setFieldValue("param_forwarding",!e.values.param_forwarding),l(function(t){return J(J({},t),{},{param_forwarding:!e.values.param_forwarding})})},disabled:D}),(0,a.createElement)("span",{className:"text"},(0,i.__)("Parameter Forwarding","betterlinks"),(0,a.createElement)("div",{className:"btl-tooltip"},(0,a.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,a.createElement)("span",{className:"btl-tooltiptext"},(0,i.__)("This will pass the parameters you have set in the target URL","betterlinks"))))),(0,a.createElement)("label",{className:"btl-checkbox-field"},(0,a.createElement)(h.D0,{className:"btl-check",name:"track_me",type:"checkbox",onChange:function(){e.setFieldValue("track_me",!e.values.track_me),l(function(t){return J(J({},t),{},{track_me:!e.values.track_me})})},disabled:D}),(0,a.createElement)("span",{className:"text"},(0,i.__)("Tracking","betterlinks"),(0,a.createElement)("div",{className:"btl-tooltip"},(0,a.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,a.createElement)("span",{className:"btl-tooltiptext"},(0,i.__)("This will let you check Analytics report of your links","betterlinks"))))))))))}))))});var W=n(4685);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,l)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach(function(t){(0,l.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const X=(0,D.Ng)(function(e){var t,n;return{isCreated:null===(t=e.quickSetup)||void 0===t?void 0:t.isCreated,createdLink:null===(n=e.quickSetup)||void 0===n?void 0:n.createdLink}},function(e){return{update_quick_setup:(0,M.zH)(L,e)}})(function(e){var t=(0,a.useState)(!1),n=(0,r.A)(t,2),l=n[0],s=n[1];(0,a.useEffect)(function(){window.scrollTo(0,0),e.update_quick_setup({isCreated:!1,duplicateLink:!1});var t=setTimeout(function(){c()},150);return function(){clearTimeout(t)}},[]);var c=function(){var e={origin:{y:.5,x:.55}};function t(t,n){(0,W.A)(G(G(G({},e),n),{},{particleCount:Math.floor(500*t)}))}t(.25,{spread:26,startVelocity:55}),t(.2,{spread:60}),t(.35,{spread:100,decay:.91,scalar:.8}),t(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),t(.1,{spread:120,startVelocity:45})};return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"finish"},(0,a.createElement)("div",{id:"confetti"}),(0,a.createElement)("div",{className:"header"},(0,a.createElement)("h3",null,(0,i.__)("Great Job!","betterlinks")),(0,a.createElement)("p",null,(0,i.__)("Link creation is complete and ready to help you, share, track, manage and optimize your links efficiently.","betterlinks")),(null==e?void 0:e.createdLink)&&Object.keys(e.createdLink).length&&(0,a.createElement)("div",{className:"btl-shortened-url"},(0,a.createElement)("span",null,"".concat(_.IV,"/").concat(e.createdLink.short_url)),(0,a.createElement)("div",null,(0,a.createElement)("button",{className:"btl-short-url-copy-button btl-tooltip",onClick:function(){s(!0),(0,_.lW)("".concat(_.IV,"/").concat(e.createdLink.short_url)),setTimeout(function(){s(!1)},1e3)}},(0,a.createElement)("span",{className:"icon"},!l&&(0,a.createElement)("img",{width:15,src:_.hq+"/assets/images/copy-icon-1.svg",alt:"icon"}),l&&(0,a.createElement)("span",{className:"dashicons dashicons-yes"}))),(0,a.createElement)("a",{href:"".concat(_.IV,"/").concat(e.createdLink.short_url),target:"_blank",className:"dashicons dashicons"},(0,a.createElement)("img",{width:15,src:_.hq+"/assets/images/icons/target.svg"})))),(0,a.createElement)("img",{src:_.hq+"/assets/images/finish-setup.png",alt:"Setup Finish"}))))});var Z=n(2505),K=n.n(Z);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,l)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach(function(t){(0,l.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var te=function(){var e=(0,c.A)(u().mark(function e(t,n,l){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object.entries(t).forEach(function(e){var t=(0,r.A)(e,2),a=t[0];t[1]&&(le(a,n,l),"prettylinks"===a&&le(a,n,l,"clicks"))});case 1:case"end":return e.stop()}},e)}));return function(_x,t,n){return e.apply(this,arguments)}}(),ne={prettylinks:"pl",simple301redirects:"s3r",thirstyaffiliates:"ta"},le=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"links",a=new FormData;"prettylinks"===e?a.append("action","betterlinks/admin/run_prettylinks_migration"):"simple301redirects"===e?a.append("action","betterlinks/admin/run_simple301redirects_migration"):"thirstyaffiliates"===e&&a.append("action","betterlinks/admin/run_thirstyaffiliates_migration"),a.append("security",_.sL),a.append("type",r),t(function(t){return ee(ee({},t),{},(0,l.A)({},e,"in-progress"))}),K().post(ajaxurl,a).then(function(r){if(r.data)return t(function(t){return ee(ee({},t),{},(0,l.A)({},e,"complete"))}),n((0,l.A)({},ne[e],r.data.data)),r.data;t(function(t){return ee(ee({},t),{},(0,l.A)({},e,"failed"))})},function(e){console.log(e)})},re=n(7400),ae=n(3348);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,l)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach(function(t){(0,l.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const ce=(0,D.Ng)(function(e){var t,n,l,r,a;return{isCreated:null===(t=e.quickSetup)||void 0===t?void 0:t.isCreated,duplicateLink:null===(n=e.quickSetup)||void 0===n?void 0:n.duplicateLink,ta:null===(l=e.quickSetup)||void 0===l?void 0:l.ta,pl:null===(r=e.quickSetup)||void 0===r?void 0:r.pl,s3r:null===(a=e.quickSetup)||void 0===a?void 0:a.s3r}},function(e){return{update_quick_setup:(0,M.zH)(L,e),update_migration_result:(0,M.zH)(F,e),add_new_link:(0,M.zH)(re.add_new_link,e)}})(function(e){var t=(0,ae.useHistory)(),n=Object.values(_.MH).some(function(e){return e})?[(0,i.__)("Getting Started","betterlinks"),(0,i.__)("Configuration","betterlinks"),(0,i.__)("Migration","betterlinks"),(0,i.__)("Create Link","betterlinks"),(0,i.__)("Finish","betterlinks")]:[(0,i.__)("Getting Started","betterlinks"),(0,i.__)("Configuration","betterlinks"),(0,i.__)("Create Link","betterlinks"),(0,i.__)("Finish","betterlinks")],l=(0,a.useContext)(b.P),s=l.activeStep,o=l.setActiveStep,g=l.clientConsent,v=l.update_option,k=l.settings,h=l.linkOptions,E=l.setLinkOptions,y=l.setErrors,N=l.terms,w=l.migrationSettings,C=l.setModalIsOpen,P=l.modalConfirm,j=l.setModalConfirm,S=l.setMigrationStatus,x=(0,a.useState)(!1),A=(0,r.A)(x,2),D=A[0],M=A[1],L=Object.values(_.MH).some(function(e){return e});(0,a.useEffect)(function(){e.isCreated&&o(4),P&&te(w,S,e.update_migration_result)},[e.isCreated,s,P]);var F,T=function(e,t){/<script\b[^>]*>[\s\S]*?<\/script\b[^>]*>/.test(e.link_title)?t(function(e){return se(se({},e),{},{link_title:(0,i.__)("Please ensure the link title does not contain any script.","betterlinks")})}):q(e)},q=function(t){var n=t.short_url;t.short_url=n.substring(0,n.length-+(n.lastIndexOf("/")==n.length-1)),(0,_.X4)(null==t?void 0:t.short_url,null==t?void 0:t.ID,function(){}).then(function(n){if(!n){if(!t.cat_id){var l,r=null==N||null===(l=N.terms)||void 0===l?void 0:l.find(function(e){return"uncategorized"==(null==e?void 0:e.term_slug)});t.cat_id=(null==r?void 0:r.ID)||1}if(t.link_slug||(t.link_slug=(0,_.z9)(t.link_title)),isNaN(null==t?void 0:t.cat_id)&&(t.cat_slug=(0,_.z9)(t.cat_id)),t.wildcards=Number(t.short_url.includes("*")),t.cat_id){var a=t.link_title.trim();a&&(t.link_title=a,e.add_new_link(t).then(function(t){var n;null!=t&&t.data&&(e.update_quick_setup({isCreated:!0,createdLink:(null===(n=t.data)||void 0===n?void 0:n.data)||null}),o(L?4:3))}).catch(function(e){return console.log("---error (submitHandler)--",{error:e})}))}}e.update_quick_setup({duplicateLink:n})})},H=function(){var e=(0,c.A)(u().mark(function e(){var n,l,r;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,(0,_.In)({action:"betterlinks__complete_setup"});case 1:l=e.sent,"complete"===(null==(r=null===(n=l.data)||void 0===n?void 0:n.data)?void 0:r.result)&&(t.push(_.Y3+"admin.php?page=betterlinks"),t.go(0));case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)(function(){if(L&&2==s){var e=!Object.keys(_.MH).filter(function(e){return _.MH[e]}).some(function(e){return w[e]});M(e)}else M(!!(L&&3==s||!L&&2==s)&&(""==h.link_title||""==h.target_url))},[s,w,h.link_title,h.target_url]),(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"btl-quick-setup"},(0,a.createElement)(m.A,{activeStep:s,connector:(0,a.createElement)("span",{className:"dashicons dashicons-arrow-right-alt2"})},n.map(function(e,t){return(0,a.createElement)(d.A,se({key:e},{}),(0,a.createElement)(p.A,se({},{}),e))})),(0,a.createElement)("div",{className:"btl-setup-steps"},(F=s,Object.values(_.MH).some(function(e){return e})?{0:(0,a.createElement)(f,null),1:(0,a.createElement)(O,null),2:(0,a.createElement)(V,null),3:(0,a.createElement)(Q,null),4:(0,a.createElement)(X,null)}[F]:{0:(0,a.createElement)(f,null),1:(0,a.createElement)(O,null),2:(0,a.createElement)(Q,null),3:(0,a.createElement)(X,null)}[F])),(0,a.createElement)("div",{className:"btl-setup-slider"},(0,a.createElement)("div",null,[2,3].includes(s)&&(3!=s||L)&&(0,a.createElement)("a",{className:"skip",href:"#",disabled:0===s,onClick:function(e){e.preventDefault(),o(s+1)}},(0,i.__)("Skip This Step","betterlinks"))),s>0?(0,a.createElement)("div",null,(1!==s||!g)&&(0,a.createElement)("button",{className:"button",disabled:0===s,onClick:function(){return o(s-1)}},(0,a.createElement)("span",{className:"dashicons dashicons-arrow-left-alt2"}),(0,i.__)("Back","betterlinks")),(0,a.createElement)("button",{className:"button button-primary",onClick:function(){switch(s){case 1:v(k),E(se(se({},k),h)),o(2);break;case 2:L?(C(!0),j(!0)):T(h,y);break;case 3:L?T(h,y):H();break;case 4:H()}},disabled:D},s===n.length-1?(0,i.__)("Finish","betterlinks"):(0,a.createElement)(a.Fragment,null,(0,i.__)("Next","betterlinks"),(0,a.createElement)("span",{className:"dashicons dashicons-arrow-right-alt2"})))):(0,a.createElement)("div",null))))});var oe=n(138),ue=n(1582);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,l)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach(function(t){(0,l.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const pe=(0,D.Ng)(function(e){return{terms:e.terms,links:e.links}},function(e){return{fetch_terms_data:(0,M.zH)(ue.fetch_terms_data,e),update_option:(0,M.zH)(oe.YD,e),add_new_link:(0,M.zH)(re.add_new_link,e),fetch_links_data:(0,M.zH)(re.fetch_links_data,e)}})(function(e){var t=(0,a.useState)(_.hC?1:0),n=(0,r.A)(t,2),l=n[0],i=n[1],c=(0,a.useState)(+_.hC),o=(0,r.A)(c,2),u=o[0],m=o[1],d=(0,a.useState)(de(de({},_.sD),{},{redirect_type:(null===_.sD||void 0===_.sD?void 0:_.sD.redirect_type)||"307",nofollow:(null===_.sD||void 0===_.sD?void 0:_.sD.nofollow)||!0,track_me:(null===_.sD||void 0===_.sD?void 0:_.sD.track_me)||!0,prefix:(null===_.sD||void 0===_.sD?void 0:_.sD.prefix)||"go",is_allow_gutenberg:(null===_.sD||void 0===_.sD?void 0:_.sD.is_allow_gutenberg)||!0})),p=(0,r.A)(d,2),f=p[0],g=p[1],v=(0,a.useState)(_.MH),k=(0,r.A)(v,2),h=k[0],E=k[1],y=(0,a.useState)(be(f)),N=(0,r.A)(y,2),O=N[0],w=N[1],C=(0,a.useState)(!1),P=(0,r.A)(C,2),j=P[0],S=P[1],x=(0,a.useState)({isCreated:!1}),A=(0,r.A)(x,2),D=A[0],M=A[1],L=(0,a.useState)(!1),F=(0,r.A)(L,2),T=F[0],q=F[1],H=(0,a.useState)(!1),V=(0,r.A)(H,2),U=V[0],I=V[1],R=(0,a.useState)(de(de(de({},(null===_.MH||void 0===_.MH?void 0:_.MH.simple301redirects)&&{simple301redirects:""}),(null===_.MH||void 0===_.MH?void 0:_.MH.thirstyaffiliates)&&{thirstyaffiliates:""}),(null===_.MH||void 0===_.MH?void 0:_.MH.prettylinks)&&{prettylinks:""})),z=(0,r.A)(R,2),B=z[0],J=z[1];(0,a.useEffect)(function(){0===Object.keys(e.terms).length&&e.fetch_terms_data(),e.links.links||e.fetch_links_data()},[]);var Q=function(){S(!1)},W={activeStep:l,setActiveStep:i,settings:f,setSettings:g,migrationSettings:h,setMigrationSettings:E,linkOptions:O,getInitialValues:be,setLinkOptions:w,modal:{isOpenUpgradeToProModal:j,setUpgradeToProModal:S,openUpgradeToProModal:function(){S(!0)},closeUpgradeToProModal:Q},terms:null==e?void 0:e.terms,clientConsent:u,setClientConsent:m,update_option:null==e?void 0:e.update_option,add_new_link:null==e?void 0:e.add_new_link,errors:D,setErrors:M,modalIsOpen:T,setModalIsOpen:q,modalConfirm:U,setModalConfirm:I,migrationStatus:B,setMigrationStatus:J};return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(b.P.Provider,{value:W},(0,a.createElement)(s.A,{isOpenModal:j,closeModal:Q}),(0,a.createElement)(ce,null)))});var be=function(e){var t=(0,_.Yq)(new Date,"yyyy-mm-dd h:m:s");return de({link_title:"",link_slug:"",target_url:"",short_url:(0,_.dM)(e,null,null,!0),link_note:"",link_date:t,link_date_gmt:t,link_modified:t,link_modified_gmt:t,cat_id:(null==e?void 0:e.default_category)||"1"},e)}}}]);