"use strict";(globalThis.webpackChunkbetterlinks=globalThis.webpackChunkbetterlinks||[]).push([[841],{220(e,t,n){n.d(t,{h:()=>i});var a,r=n(1609);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(null,arguments)}var i=function(e){return r.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 40 47"},e),a||(a=r.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m19.557 26.171-2.514-1.864a5.6 5.6 0 0 0-7.834 1.162l-5.873 7.92a5.6 5.6 0 0 0 1.162 7.834l2.514 1.864a5.6 5.6 0 0 0 7.834-1.162l5.874-7.92a5.6 5.6 0 0 0-1.163-7.834M35.109 5.2l-2.514-1.864a5.6 5.6 0 0 0-7.834 1.162l-5.873 7.92a5.6 5.6 0 0 0 1.162 7.834l2.514 1.864a5.6 5.6 0 0 0 7.834-1.162l5.873-7.92A5.6 5.6 0 0 0 35.11 5.2M12.89 32.524l13.82-18.63"})))}},907(e,t,n){n.d(t,{A:()=>c});var a=n(4467),r=n(1609),l=n(3516);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}const c=function(e){return(0,r.createElement)(l.Ay,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,a.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({speed:2,width:"100%",height:"100%",viewBox:"0 0 532 148",backgroundColor:"#e8e8e8",foregroundColor:"#c2c2c2"},e),(0,r.createElement)("rect",{x:"2",y:"2",rx:"0",ry:"0",width:"530",height:"11"}),(0,r.createElement)("rect",{x:"3",y:"21",rx:"0",ry:"0",width:"527",height:"10"}),(0,r.createElement)("rect",{x:"2",y:"46",rx:"0",ry:"0",width:"530",height:"3"}),(0,r.createElement)("rect",{x:"2",y:"61",rx:"0",ry:"0",width:"530",height:"3"}),(0,r.createElement)("rect",{x:"2",y:"76",rx:"0",ry:"0",width:"530",height:"3"}),(0,r.createElement)("rect",{x:"2",y:"91",rx:"0",ry:"0",width:"530",height:"3"}),(0,r.createElement)("rect",{x:"2",y:"106",rx:"0",ry:"0",width:"530",height:"3"}),(0,r.createElement)("rect",{x:"1",y:"2",rx:"0",ry:"0",width:"3",height:"107"}),(0,r.createElement)("rect",{x:"529",y:"2",rx:"0",ry:"0",width:"3",height:"106"}),(0,r.createElement)("rect",{x:"2",y:"8",rx:"0",ry:"0",width:"8",height:"16"}),(0,r.createElement)("rect",{x:"25",y:"8",rx:"0",ry:"0",width:"84",height:"17"}),(0,r.createElement)("rect",{x:"144",y:"10",rx:"0",ry:"0",width:"83",height:"14"}),(0,r.createElement)("rect",{x:"264",y:"9",rx:"0",ry:"0",width:"77",height:"16"}),(0,r.createElement)("rect",{x:"476",y:"8",rx:"0",ry:"0",width:"54",height:"18"}),(0,r.createElement)("rect",{x:"374",y:"8",rx:"0",ry:"0",width:"71",height:"16"}),(0,r.createElement)("rect",{x:"10",y:"39",rx:"0",ry:"0",width:"16",height:"2"}),(0,r.createElement)("rect",{x:"110",y:"38",rx:"0",ry:"0",width:"39",height:"2"}),(0,r.createElement)("rect",{x:"227",y:"38",rx:"0",ry:"0",width:"65",height:"3"}),(0,r.createElement)("rect",{x:"341",y:"38",rx:"0",ry:"0",width:"39",height:"2"}),(0,r.createElement)("rect",{x:"445",y:"38",rx:"0",ry:"0",width:"54",height:"3"}),(0,r.createElement)("rect",{x:"10",y:"55",rx:"0",ry:"0",width:"16",height:"2"}),(0,r.createElement)("rect",{x:"110",y:"54",rx:"0",ry:"0",width:"39",height:"2"}),(0,r.createElement)("rect",{x:"227",y:"54",rx:"0",ry:"0",width:"58",height:"3"}),(0,r.createElement)("rect",{x:"341",y:"54",rx:"0",ry:"0",width:"39",height:"2"}),(0,r.createElement)("rect",{x:"445",y:"54",rx:"0",ry:"0",width:"49",height:"3"}),(0,r.createElement)("rect",{x:"10",y:"70",rx:"0",ry:"0",width:"16",height:"2"}),(0,r.createElement)("rect",{x:"110",y:"69",rx:"0",ry:"0",width:"39",height:"2"}),(0,r.createElement)("rect",{x:"227",y:"69",rx:"0",ry:"0",width:"60",height:"3"}),(0,r.createElement)("rect",{x:"341",y:"69",rx:"0",ry:"0",width:"39",height:"2"}),(0,r.createElement)("rect",{x:"445",y:"68",rx:"0",ry:"0",width:"56",height:"3"}),(0,r.createElement)("rect",{x:"10",y:"85",rx:"0",ry:"0",width:"16",height:"2"}),(0,r.createElement)("rect",{x:"110",y:"84",rx:"0",ry:"0",width:"39",height:"2"}),(0,r.createElement)("rect",{x:"227",y:"84",rx:"0",ry:"0",width:"54",height:"3"}),(0,r.createElement)("rect",{x:"341",y:"84",rx:"0",ry:"0",width:"39",height:"2"}),(0,r.createElement)("rect",{x:"445",y:"84",rx:"0",ry:"0",width:"45",height:"3"}),(0,r.createElement)("rect",{x:"10",y:"100",rx:"0",ry:"0",width:"16",height:"2"}),(0,r.createElement)("rect",{x:"110",y:"99",rx:"0",ry:"0",width:"39",height:"2"}),(0,r.createElement)("rect",{x:"227",y:"99",rx:"0",ry:"0",width:"58",height:"3"}),(0,r.createElement)("rect",{x:"341",y:"99",rx:"0",ry:"0",width:"39",height:"2"}),(0,r.createElement)("rect",{x:"445",y:"99",rx:"0",ry:"0",width:"54",height:"3"}))}},5051(e,t,n){n.d(t,{A:()=>c});var a=n(7723),r=n(1609),l=n(9735),i=n(6436);const c=function(e){e.mode,e.noticeType;var t=e.compatibleProVersion,n=e.notice,c=(0,l.OS)(t),s=(0,r.useRef)(!1);return(0,r.useEffect)(function(){c||s.current||(s.current=!0,(0,i._O)(n,{title:(0,a.__)("Update Required","betterlinks"),duration:6e3}))},[c,n]),null}},2057(e,t,n){n.d(t,{M:()=>f});var a,r,l=n(1609),i=n(426),c=n(6272),s=n(4392),o=n(7723);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(null,arguments)}var d=function(e){return l.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",width:21,height:21,fill:"none"},e),a||(a=l.createElement("g",{clipPath:"url(#locked-2_svg__a)"},l.createElement("path",{fill:"#3C3A60",d:"M15.171 11.09a.807.807 0 0 1-.806-.806V5.979a3.87 3.87 0 0 0-3.866-3.866 3.87 3.87 0 0 0-3.867 3.866v4.305a.806.806 0 1 1-1.612 0V5.979A5.485 5.485 0 0 1 10.499.5a5.485 5.485 0 0 1 5.479 5.48v4.304a.807.807 0 0 1-.807.806"}),l.createElement("path",{fill:"#9FACBA",d:"M10.5.5q-.41 0-.805.06a5.49 5.49 0 0 1 4.675 5.42v4.304l-.002.046a.806.806 0 0 0 1.61-.046V5.979A5.485 5.485 0 0 0 10.5.5"}),l.createElement("path",{fill:"#FEB137",d:"M16.999 20.5H4a1.36 1.36 0 0 1-1.36-1.36V9.506c0-.75.61-1.359 1.36-1.359h12.999c.75 0 1.359.609 1.359 1.36v9.634c0 .75-.608 1.359-1.36 1.359"}),l.createElement("path",{fill:"#F6AB31",d:"M16.999 8.147H15.39c.75 0 1.359.609 1.359 1.36v9.634c0 .75-.609 1.359-1.36 1.359H17c.75 0 1.36-.609 1.36-1.36V9.506c0-.75-.61-1.359-1.36-1.359"}),l.createElement("path",{fill:"#272847",d:"M12.56 13.249a2.061 2.061 0 1 0-3.095 1.783v2.377a1.034 1.034 0 1 0 2.067 0v-2.377a2.06 2.06 0 0 0 1.028-1.783"}))),r||(r=l.createElement("defs",null,l.createElement("clipPath",{id:"locked-2_svg__a"},l.createElement("path",{fill:"#fff",d:"M.5.5h20v20H.5z"})))))},m=n(9735),f=function(e){var t=e.title,n=void 0===t?null:t,a=e.description,r=void 0===a?"":a,u=e.children;return m.JT?null:(0,l.createElement)("div",{className:"btl-analytics-chart-overlay",style:{zIndex:"10"}},(0,l.createElement)(i.A,{sx:{minWidth:275}},(0,l.createElement)(c.A,null,(0,l.createElement)(s.A,{variant:"h5",color:"text.secondary",gutterBottom:!0},n||(0,o.__)("Get BetterLinks PRO ","betterlinks"),(0,l.createElement)(d,null)),(0,l.createElement)(s.A,{variant:"p",color:"text.secondary",gutterBottom:!0},r),(0,l.createElement)("div",null,u),(0,l.createElement)("div",{className:"analytics-upgrade-btn"},(0,l.createElement)("a",{href:"https://wpdeveloper.com/in/upgrade-betterlinks",target:"_blank"},(0,l.createElement)("img",{src:m.hq+"/assets/images/crown.svg",alt:""}),(0,o.__)("Upgrade To BetterLinks PRO","betterlinks"))))))}},6560(e,t,n){n.d(t,{A:()=>P});var a=n(3453),r=n(45),l=n(1609),i=n.n(l),c=n(1225),s=n(5857),o=n(7723),u=n(9735),d=n(4086),m=n(7154),f=n(5458),h=n(8766),b=n(7400),g=n(6436),y=n(312),p=n.n(y),v=n(20),_=n(979),k=n(2505),E=n.n(k),w=n(3348),N=[].concat((0,f.A)(v.c),[{label:"Delete All",range:function(){return{startDate:new Date("2000-01-01"),endDate:new Date}},isSelected:function(e){var t=new Date("2000-01-01"),n=new Date;return e.startDate.toDateString()===t.toDateString()&&e.endDate.toDateString()===n.toDateString()}}]);const A=(0,c.Ng)(function(){return{}},function(e){return{fetchCustomClicksData:(0,s.zH)(h.lC,e),dispatch_new_links_data:(0,s.zH)(b.dispatch_new_links_data,e),fetch_clicks_data:(0,s.zH)(h.AK,e),get_chart_data:(0,s.zH)(h.Hr,e),get_graph_data:(0,s.zH)(h.rF,e),get_medium_data:(0,s.zH)(h._I,e)}})(function(e){var t=e.fetchCustomClicksData,n=e.dispatch_new_links_data,r=e.fetch_clicks_data,i=e.get_chart_data,c=e.get_graph_data,s=e.get_medium_data,d=(e.propsForAnalytics||{}).customDateFilter,m=(0,l.useState)(0),f=(0,a.A)(m,2),h=f[0],b=f[1],y=(0,l.useState)(!1),k=(0,a.A)(y,2),A=k[0],x=k[1],O=(0,l.useState)(0),D=(0,a.A)(O,2),S=D[0],L=D[1],C=(0,l.useState)("reset_modal_step_1"),P=(0,a.A)(C,2),j=P[0],q=P[1],F=(0,l.useState)([{startDate:(0,_.A)(new Date,30),endDate:new Date,key:"selection"}]),H=(0,a.A)(F,2),T=H[0],M=H[1],z=(0,l.useState)(""),R=(0,a.A)(z,2),I=R[0],Y=R[1],B=(0,l.useState)(0),U=(0,a.A)(B,2),V=U[0],W=U[1],J=(0,l.useState)((0,o.__)("Refresh Stats","betterlinks")),G=(0,a.A)(J,2),K=G[0],Q=G[1],X=(0,l.useState)((0,o.__)("Active Now","betterlinks")),$=(0,a.A)(X,2),Z=$[0],ee=$[1],te=(0,l.useState)(u.cw),ne=(0,a.A)(te,2),ae=ne[0],re=ne[1];(0,l.useEffect)(function(){var e,t;return A?null===(e=document)||void 0===e||null===(e=e.body)||void 0===e||null===(e=e.classList)||void 0===e||e.add("betterlinks-delete-clicks-modal-popup-opened"):null===(t=document)||void 0===t||null===(t=t.body)||void 0===t||null===(t=t.classList)||void 0===t||t.remove("betterlinks-delete-clicks-modal-popup-opened"),function(){var e;null===(e=document)||void 0===e||null===(e=e.body)||void 0===e||null===(e=e.classList)||void 0===e||e.remove("betterlinks-delete-clicks-modal-popup-opened")}},[A]);var le=function(){clearTimeout(h),q("reset_modal_step_1"),x(!1),M([{startDate:(0,_.A)(new Date,30),endDate:new Date,key:"selection"}]),Y("")},ie=function(){le()},ce=(0,w.useLocation)(),se=new URLSearchParams(ce.search).get("id"),oe="RESET CLICKS"===I.trim();return(0,l.createElement)("div",{className:"btl-analytic-reset-wrapeer btl-btn-groups betterlinks"},(0,l.createElement)("button",{className:"button-secondary-gray btl-reset-analytics-initial-button",onClick:function(){x(!0),q("reset_modal_step_1")}},se?"Reset Link Clicks":"Reset"),(0,l.createElement)("div",{className:"status btl-refresh-btn"},ae?(0,l.createElement)(l.Fragment,null,(0,l.createElement)("img",{width:18,height:18,src:u.hq+"/assets/images/icons/refresh.svg",alt:"Refresh"}),(0,l.createElement)("button",{type:"button",onClick:function(){Q((0,o.__)("Refreshing...","betterlinks")),E().post("".concat(ajaxurl,"?action=betterlinks/admin/analytics&security=").concat(u.sL)).then(function(e){if(e.data)if((0,u.o6)(null,(0,o.__)("Done!","betterlinks"),(0,o.__)("Refresh Stats","betterlinks"),Q),(0,g.tP)((0,o.__)("Analytics data has been refreshed successfully","betterlinks"),{title:(0,o.__)("Stats Refreshed","betterlinks")}),d&&d[0]){var t={from:(0,u.Yq)(d[0].startDate,"yyyy-mm-dd"),to:(0,u.Yq)(d[0].endDate,"yyyy-mm-dd"),setLoading:function(){}};r(t),i(t),c(t),s(t)}else{var n={setLoading:function(){}};r(n),i(n),c(n),s(n)}},function(e){console.log(e)})},className:"btl-refresh-btn button button-primary"},K)):(0,l.createElement)(l.Fragment,null,(0,l.createElement)("button",{type:"button",onClick:function(){ee((0,o.__)("Activating...","betterlinks")),E().post("".concat(ajaxurl,"?action=betterlinks/admin/write_json_clicks&security=").concat(u.sL)).then(function(e){e.data&&((0,u.o6)(null,(0,o.__)("Activated!","betterlinks"),(0,o.__)("Active Now","betterlinks"),ee),setTimeout(function(){re(!0)},1500))},function(e){console.log(e)})},className:"btl-refresh-btn button button-primary"},Z))),(0,l.createElement)(p(),{isOpen:A,onRequestClose:le,ariaHideApp:!1,className:"".concat("reset_modal_step_1"!==j?"btl-anl-delete-clicks-modal":""),style:{position:"absolute",inset:"40px"}},(0,l.createElement)("div",{className:"btl-reset-modal-popup-wrapper ".concat("reset_modal_step_1"===j?"step-1-active":""," ").concat("reset_modal_step_2"===j?"step-2-active":"")},"reset_modal_step_1"!==j&&(0,l.createElement)("span",{className:"btl-close-modal",onClick:le},(0,l.createElement)("i",{className:"btl btl-cancel"})),"reset_modal_step_1"===j&&(0,l.createElement)("div",{className:"btl-reset-modal-popup btl-reset-modal-popup-step-1 betterlinks-body"},(0,l.createElement)("div",{className:"btl-compact-date-picker"},(0,l.createElement)("div",{className:"btl-date-picker-title"},se?"Select Date Range for Link Clicks":"Pick the range of BetterLinks Analytics that you want to reset."),(0,l.createElement)("button",{onClick:ie,className:"btn-date-range-close"},(0,l.createElement)("span",{className:"dashicons dashicons-no-alt"})),(0,l.createElement)(v.Ur,{onChange:function(e){M([e.selection])},showSelectionPreview:!0,moveRangeOnFirstSelection:!1,months:2,ranges:T,direction:"horizontal",showMonthAndYearPickers:!0,showDateDisplay:!0,rangeColors:["#007cba"],color:"#007cba",staticRanges:N,inputRanges:[]}),(0,l.createElement)("div",{className:"btl-date-picker-actions"},(0,l.createElement)("button",{className:"button-primary btl-apply-date-range",onClick:function(){if(T&&T[0]){var e=(0,u.Yq)(T[0].startDate,"yyyy-mm-dd"),t=(0,u.Yq)(T[0].endDate,"yyyy-mm-dd"),n=new FormData;n.append("action","betterlinks/admin/get_clicks_count"),n.append("security",u.sL),n.append("from",e),n.append("to",t),null!==se&&n.append("link_id",se),E().post(ajaxurl,n).then(function(e){e.data&&e.data.success&&W(e.data.data.count||0),q("reset_modal_step_2"),Y("")},function(e){console.log(e),W(0),q("reset_modal_step_2"),Y("")})}}},(0,l.createElement)("img",{width:16,height:16,src:u.hq+"/assets/images/icons/trash-red.svg"}),"Reset Click"),(0,l.createElement)("button",{className:"button-primary btl-cancel-date-range",onClick:ie},"Cancel")))),"reset_modal_step_2"===j&&(0,l.createElement)("div",{className:"btl-reset-modal-popup btl-reset-modal-popup-step-2 betterlinks-body"},(0,l.createElement)("img",{width:48,height:48,src:u.hq+"/assets/images/icons/warning.svg",alt:"Warning",className:"btl-warning-icon"}),(0,l.createElement)("div",{className:"btl-reset-modal-popup-title"},"This Action Cannot be Undone"),(0,l.createElement)("p",{className:"btl-delete-description"},"You are about to permanently delete click analytics from"),(0,l.createElement)("div",{className:"btl-analytics-dlt-date"},(0,l.createElement)("span",{className:"btl-date-range"},T[0].startDate.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})," – ",T[0].endDate.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})),"."),(0,l.createElement)("div",{className:"btl-delete-count-box"},"A total of ",(0,l.createElement)("strong",{className:"btl-delete-count"},V.toLocaleString())," click record",1!==V?"s":""," will be removed."),(0,l.createElement)("div",{className:"btl-confirmation-section"},(0,l.createElement)("div",{className:"btl-confirmation-label"},"To confirm, type ",(0,l.createElement)("b",null,"RESET CLICKS")),(0,l.createElement)("input",{type:"text",required:!0,className:"btl-modal-form-control btl-reset-confirmation-input",placeholder:"RESET CLICKS",value:I,onChange:function(e){Y(e.target.value)}})),(0,l.createElement)("div",{className:"btl-btn-reset-popup-step-2-buttons"},(0,l.createElement)("button",{className:"btl-button-cancel btl-btn-reset-cancel",onClick:function(){return q("reset_modal_step_1")}},"Cancel"),(0,l.createElement)("button",{className:"btl-button-danger btl-btn-reset-apply-2 ".concat(oe?"":"disabled"),onClick:function(){if("RESET CLICKS"===I.trim()){if(T&&T[0]){var e=(0,u.Yq)(T[0].startDate,"yyyy-mm-dd"),a=(0,u.Yq)(T[0].endDate,"yyyy-mm-dd");q("deleting"),(0,u.Xq)(!1,e,a,se).then(function(e){var a,l=setTimeout(function(){le()},444e3);if(b(l),null!=e&&null!==(a=e.data)&&void 0!==a&&a.success){var o,m,f;if(L(null==e||null===(o=e.data)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.count),t({data:null==e||null===(m=e.data)||void 0===m||null===(m=m.data)||void 0===m?void 0:m.new_clicks_data}),n({data:null==e||null===(f=e.data)||void 0===f||null===(f=f.data)||void 0===f?void 0:f.new_links_data}),d&&d[0]){var h={from:(0,u.Yq)(d[0].startDate,"yyyy-mm-dd"),to:(0,u.Yq)(d[0].endDate,"yyyy-mm-dd"),setLoading:function(){}};r(h),i(h),c(h),s(h)}else{var g={setLoading:function(){}};r(g),i(g),c(g),s(g)}q("success")}else q("failed")}).catch(function(e){console.log("---caught error on DeleteClicks",{err:e});var t=setTimeout(function(){le()},3e3);b(t)})}}else{var l=document.querySelector(".btl-confirmation-input");l&&l.focus()}},disabled:!oe},(0,l.createElement)("img",{width:14,height:14,src:u.hq+"/assets/images/icons/delete.svg",alt:"Delete"}),"Delete"))),"deleting"===j&&(0,l.createElement)("div",{className:"btl-reset-deleting-modal"},(0,l.createElement)("img",{width:48,height:48,src:u.hq+"/assets/images/icons/warning.svg",alt:"Deleting",className:"btl-deleting-icon"}),(0,l.createElement)("div",{className:"btl-reset-deleting-modal-title"},"Processing..."),(0,l.createElement)("div",{className:"btl-reset-deleting-modal-description"},"Deleting click analytics data from ",(0,l.createElement)("span",{className:"btl-date-range-processing"}," ",T[0].startDate.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"})," to ",T[0].endDate.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"})," ")," ."),(0,l.createElement)("div",{className:"btl-reset-deleting-modal-processing"}," This may take a moment.")),"success"===j&&0!==S&&(0,l.createElement)("div",{className:"btl-reset-finish-modal"},(0,l.createElement)("img",{width:90,height:90,src:u.hq+"/assets/images/icons/completed.svg"}),(0,l.createElement)("span",{className:"btl-reset-finish-modal-title"},S," Click data has been successfully deleted"),(0,l.createElement)("span",{className:"btl-reset-finish-modal-description"},"Click data has been successfully deleted for ",T[0].startDate.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"})," to ",T[0].endDate.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"}),"."),(0,l.createElement)("button",{className:"button-primary btl-cancel-finish-date-range",onClick:ie},"Back to Analytics")),"success"===j&&0===S&&(0,l.createElement)("div",{className:"btl-reset-not-found-wrapper"},(0,l.createElement)("img",{width:90,height:90,src:u.hq+"/assets/images/icons/not-found.svg"}),(0,l.createElement)("h2",{className:"btl-reset-not-found-modal-title"},"No clicks data found ",se?"for this link ":"","in the selected date range ",(0,l.createElement)("span",{className:"btl-reset-date-range"}," ",T[0].startDate.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"})," to ",T[0].endDate.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"})," "))),"failed"===j&&(0,l.createElement)("h2",null,"Failed!!"))))});var x=n(5556),O=n.n(x),D=n(150),S=["is_pro","render"],L={label:O().string,render:O().func},C=function(e){var t=e.is_pro,n=void 0!==t&&t,c=e.render,s=void 0===c?function(){}:c,d=(0,r.A)(e,S),m=d.propsForAnalytics,f=d.activity.darkMode,h=(0,l.useState)(f),b=(0,a.A)(h,2),g=b[0],y=b[1];(0,l.useEffect)(function(){f?document.body.classList.add("betterlinks-dark-mode"):document.body.classList.remove("betterlinks-dark-mode")},[]);var p=betterLinksQuery.get("page"),v=d.favouriteSort.sortByFav;return(0,l.createElement)("div",{className:"topbar"},(0,l.createElement)("div",{className:"topbar__logo_container"},(0,l.createElement)("div",{className:"topbar__logo"},(0,l.createElement)("img",{src:u.hq+"assets/images/logo-large".concat(g?"-white":"",".svg"),alt:"logo"}),(0,l.createElement)("span",{className:"topbar__logo__text"},d.label),n&&(0,l.createElement)(D.A,null)),s()),(0,l.createElement)("div",{className:"topbar-inner"},"betterlinks"===p&&(0,l.createElement)(i().Fragment,null,(0,l.createElement)("div",{className:"btl-view-control"},(0,l.createElement)("button",{title:(0,o.__)("Favorite Links","betterlinks"),className:"btl-link-view-toggler btl-sortby-fav ".concat(v?"active":""),onClick:function(){return d.sortFavourite(!v)}},(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"favorite-svg",viewBox:"0 0 512 512",xmlSpace:"preserve"},(0,l.createElement)("path",{className:"fav-icon-svg-path",d:"M392.2 317.5c-3 2.9-4.4 7.1-3.7 11.3L414 477.4c1.2 7-3.5 13.6-10.5 14.9-2.8.5-5.6 0-8.1-1.3L262 420.9c-3.7-2-8.2-2-12 0L116.6 491c-3.1 1.7-6.8 1.9-10.1.8-6-2.1-9.5-8.1-8.5-14.4l25.4-148.5c.7-4.2-.7-8.4-3.7-11.4L11.9 212.4c-5.1-5-5.2-13.1-.2-18.2 2-2 4.6-3.3 7.3-3.7l149.1-21.7c4.2-.6 7.8-3.2 9.7-7l66.7-135c2.6-5.3 8.4-8.1 14.2-6.9 3.9.7 7.2 3.3 8.9 6.9l66.7 135c1.9 3.8 5.5 6.4 9.7 7l149 21.6c7 1 11.9 7.6 10.9 14.6-.4 2.7-1.7 5.3-3.7 7.2l-108 105.3z"}))),(0,l.createElement)("button",{title:(0,o.__)("List View","betterlinks"),className:"btl-link-view-toggler ".concat("list"==d.activity.linksView?"active":""),onClick:function(){return d.linksView("list")}},(0,l.createElement)("i",{className:"btl btl-list"})),(0,l.createElement)("button",{title:(0,o.__)("Grid View","betterlinks"),className:"btl-link-view-toggler ".concat("grid"==d.activity.linksView?"active":""),onClick:function(){return d.linksView("grid")}},(0,l.createElement)("i",{className:"btl btl-grid"})))),(null==m?void 0:m.isResetAnalytics)&&(0,l.createElement)(A,{propsForAnalytics:m}),(0,l.createElement)("label",{className:"theme-mood-button",htmlFor:"theme-mood",title:(0,o.__)("Theme Mode","betterlinks")},(0,l.createElement)("input",{type:"checkbox",name:"theme-mood",id:"theme-mood",value:g,onChange:function(){return function(e){e?document.body.classList.add("betterlinks-dark-mode"):document.body.classList.remove("betterlinks-dark-mode"),d.update_theme_mode(e),y(e)}(!g)},checked:g}),(0,l.createElement)("span",{className:"theme-mood"},(0,l.createElement)("span",{className:"icon"},(0,l.createElement)("i",{className:"btl btl-sun"})),(0,l.createElement)("span",{className:"icon"},(0,l.createElement)("i",{className:"btl btl-moon"}))))))};C.propTypes=L;const P=(0,c.Ng)(function(e){return{activity:e.activity,favouriteSort:e.favouriteSort}},function(e){return{linksView:(0,s.zH)(d.xb,e),sortFavourite:(0,s.zH)(m.sortFavourite,e),update_theme_mode:(0,s.zH)(d.Q7,e)}})(C)},2924(e,t,n){n.r(t),n.d(t,{default:()=>$e});var a=n(4467),r=n(3453),l=n(1609),i=n.n(l),c=n(6663),s=n(7723),o=n(6560),u=n(5857),d=n(1225),m=n(7153),f=n(979),h=n(2078),b=n(9735),g=n(138),y=n(1912),p=[{label:"Browser",value:"browser"},{label:"IP",value:"ip"},{label:"Country",value:"country_name"},{label:"Timestamp",value:"created_at"},{label:"Referer",value:"referer"},{label:"Parameters",value:"query_params"},{label:"OS",value:"os"},{label:"Device",value:"device"}],v=function(){return function(e){var t=localStorage.getItem("btl_analytics_settings")?JSON.parse(localStorage.getItem("btl_analytics_settings")):p;e({type:y.FETCH_ANALYTICS_SETTINGS,payload:t})}},_=function(e){return function(t){localStorage.setItem("btl_analytics_settings",JSON.stringify(e)),t({type:y.FETCH_ANALYTICS_SETTINGS,payload:e})}},k=n(467),E=n(9280),w=n.n(E),N=(n(907),n(3757),n(5458));function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach(function(t){(0,a.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const O=function(e){var t=e.searchStatus;return(0,l.createElement)("div",{className:"search-wrapper"},(0,l.createElement)("div",{className:"search loading"},(0,l.createElement)("div",{className:"search__circle",style:x({},t&&{animation:"load8 1.1s infinite linear","-webkit-animation":"load8 1.1s infinite linear","border-left-color":"#ef726c"})}),(0,l.createElement)("div",{className:"search__rectangle"})))};var D=n(7622),S=n(150),L=n(6005),C=n(6436);const P=function(e){var t=e.filterText,n=e.onFilter,a=e.searchClickHandler,i=e.searchStatus,c=e.isSearching,o=e.resetSearch,u=e.analytics,d=e.update_analytics_settings,m=e.id,f=e.selectedRows,h=e.bulkAction,g=e.setBulkAction,y=e.rowDeleteHandler,p=e.warning,v=(0,l.useState)([]),_=(0,r.A)(v,2),k=_[0],E=_[1],w=!!(window.betterLinksGlobal&&window.betterLinksGlobal.betterlinks_settings&&window.betterLinksGlobal.betterlinks_settings.enable_user_agent_tracking);(0,l.useEffect)(function(){var e=Object.values(u||[]).filter(function(e){return!(e&&"user_agent"===e.value&&!w)});E(e)},[u,w]);var A=betterLinksQuery.get("tag_id"),x=[{label:(0,s.__)("Browser","betterlinks"),value:"browser"},{label:(0,s.__)("IP","betterlinks"),value:"ip"},{label:(0,l.createElement)("div",null,(0,s.__)("Country","betterlinks")," ",!b.JT&&(0,l.createElement)(S.A,null)),value:"country_name"},{label:(0,l.createElement)("div",null,(0,s.__)("User Agent","betterlinks")," ",!b.JT&&(0,l.createElement)(S.A,null)),value:"user_agent"},{label:(0,s.__)("Timestamp","betterlinks"),value:"created_at"},{label:(0,s.__)("Referer","betterlinks"),value:"referer"},{label:(0,l.createElement)("div",null,(0,s.__)("Parameters","betterlinks")," ",!b.JT&&(0,l.createElement)(S.A,null)),value:"query_params"},{label:(0,s.__)("OS","betterlinks"),value:"os"},{label:(0,s.__)("Device","betterlinks"),value:"device"}];return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"btl-click-filter"},(0,l.createElement)("div",{className:"btl-flex"},(0,l.createElement)("div",{style:{display:"flex",alignItems:"center"}},m&&(0,l.createElement)("a",{className:"btl-go-back-btn dashicons dashicons-arrow-left-alt btl-white",onClick:function(){return window.history.go(-1),!1},href:"#"})),(0,l.createElement)("div",{className:"btl-bulk-actions"},(0,l.createElement)(L.Ay,{className:"btl-list-view-select",classNamePrefix:"btl-react-select",defaultValue:{value:"",label:(0,s.__)("Bulk Actions","betterlinks")},value:null!=h&&h.value?h:{value:"",label:(0,s.__)("Bulk Actions","betterlinks")},options:[{value:"delete",label:(0,s.__)("Delete","betterlinks")}].concat((0,N.A)(m?[{value:"fetch_country",label:(0,l.createElement)(l.Fragment,null,(0,s.__)("Fetch Country","betterlinks")," ",(!b.JT||!(0,b.OS)("2.5.0"))&&(0,l.createElement)(S.A,null))}]:[])),onChange:function(e){return g(e)},isDisabled:!f||0===f.length}),(0,l.createElement)("div",{className:"btl-tooltip"},(0,l.createElement)("button",{className:"btl-link-apply-button",onClick:function(){"fetch_country"!==(null==h?void 0:h.value)||!b.JT||(0,b.OS)("2.5.0")?y():(0,C._O)((0,s.__)("Please update BetterLinks Pro to version 2.5.0 or later to use the Fetch Country feature.","betterlinks"),{title:(0,s.__)("Update Required","betterlinks"),duration:5e3})},disabled:!f||0===f.length||"fetch_country"===(null==h?void 0:h.value)&&(!b.JT||!(0,b.OS)("2.5.0"))},(0,s.__)("Apply","betterlinks")),p&&"delete"!==h.value&&"fetch_country"!==h.value&&(0,l.createElement)("span",{className:"btl-tooltiptext"},"Please Select Action.")))),(0,l.createElement)("div",{style:{display:"flex"}},(0,l.createElement)("form",{onSubmit:a},(0,l.createElement)("input",{id:"search",type:"text",placeholder:(0,s.__)("Search...","betterlinks"),value:t,onChange:n}),(0,l.createElement)("button",{className:"btl-search-button",type:"submit",title:(0,s.__)("Searching","betterlinks")},(0,l.createElement)(O,{searchStatus:i})),c&&(0,l.createElement)("button",{className:"btl-search-button btl-search-reset",type:"button",title:(0,s.__)("Reset Search","betterlinks"),onClick:o},(0,l.createElement)("span",{class:"dashicons dashicons-image-rotate"}))),m&&!A&&(0,l.createElement)(D.KF,{options:x,value:k,onChange:function(e){if(e.some(function(e){return"user_agent"===e.value})&&!k.some(function(e){return"user_agent"===e.value})&&!w){var t="".concat(b.Y3,"admin.php?page=betterlinks-settings&#btl-setting-user-agent");(0,C._O)((0,l.createElement)("span",null,(0,s.__)("Please enable the User-Agent option in General Settings.","betterlinks")," ",(0,l.createElement)("a",{href:t,onClick:function(e){e.preventDefault(),window.location.href=t}},(0,s.__)("Click here","betterlinks"))),{title:(0,s.__)("Enable User-Agent Tracking","betterlinks"),duration:6e3});var n=e.filter(function(e){return"user_agent"!==e.value});return E(n),void d(n)}E(e),d(e)},labelledBy:"Select",disableSearch:!0,hasSelectAll:!1}))))};var j,q,F=n(8766);function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},H.apply(null,arguments)}var T,M,z=function(e){return l.createElement("svg",H({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),j||(j=l.createElement("g",{stroke:"#9FA1B8",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,clipPath:"url(#link_svg__a)"},l.createElement("path",{d:"m9 15 6-6m-4-3 .463-.536a5 5 0 0 1 7.071 7.072L18 13m-5 5-.397.534a5.07 5.07 0 0 1-7.127 0 4.97 4.97 0 0 1 0-7.071L6 11"}))),q||(q=l.createElement("defs",null,l.createElement("clipPath",{id:"link_svg__a"},l.createElement("path",{fill:"#fff",d:"M0 0h24v24H0z"})))))};function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},R.apply(null,arguments)}var I,Y,B=function(e){return l.createElement("svg",R({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),T||(T=l.createElement("g",{stroke:"#9FA1B8",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,clipPath:"url(#target_svg__a)"},l.createElement("path",{d:"M12 6H6a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-6m-7 1 9-9m-5 0h5v5"}))),M||(M=l.createElement("defs",null,l.createElement("clipPath",{id:"target_svg__a"},l.createElement("path",{fill:"#fff",d:"M0 0h24v24H0z"})))))};function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},U.apply(null,arguments)}var V=function(e){return l.createElement("svg",U({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),I||(I=l.createElement("g",{stroke:"#9FA1B8",strokeLinecap:"round",strokeLinejoin:"round",clipPath:"url(#www_svg__a)"},l.createElement("path",{strokeWidth:2,d:"M19.5 7A9 9 0 0 0 12 3a8.99 8.99 0 0 0-7.484 4"}),l.createElement("path",{strokeWidth:2,d:"M11.5 3a17 17 0 0 0-1.826 4M12.5 3a17 17 0 0 1 1.828 4M19.5 17a9 9 0 0 1-7.5 4 8.99 8.99 0 0 1-7.484-4"}),l.createElement("path",{strokeWidth:2,d:"M11.5 21a17 17 0 0 1-1.826-4m2.826 4a17 17 0 0 0 1.828-4"}),l.createElement("path",{strokeWidth:1.5,d:"m2 10 1 4 1.5-4L6 14l1-4m10 0 1 4 1.5-4 1.5 4 1-4M9.5 10l1 4 1.5-4 1.5 4 1-4"}))),Y||(Y=l.createElement("defs",null,l.createElement("clipPath",{id:"www_svg__a"},l.createElement("path",{fill:"#fff",d:"M0 0h24v24H0z"})))))},W=function(e,t){var n={clicks:{},unique_clicks:{}};return e&&e.total_count&&e.unique_count?(e.total_count.forEach(function(e){n.clicks[e.c_date]=e.click_count}),e.unique_count.forEach(function(e){n.unique_clicks[e.c_date]=e.uniq_count}),n):n},J=function(e,t,n){var a,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(r&&!(arguments.length>4&&void 0!==arguments[4]&&arguments[4]))return null==e||null===(a=e.filter)||void 0===a?void 0:a.call(e,function(e){if(e.link_id==r)return JSON.stringify(e).toLowerCase().includes(n.toLowerCase())});for(var l=[],i=function(){var t=e[c];l.find(function(e){return e.link_id==t.link_id})||(t.link_title&&t.link_title.toLowerCase().includes(null==n?void 0:n.toLowerCase()),l.push(t))},c=0;c<e.length;c++)i();return 1==t?b.JT||is_extra_data_tracking_compatible?l.sort(function(e,t){return+(null==e?void 0:e.total_clicks)-+(null==t?void 0:t.total_clicks)}).reverse().slice(0,5):[]:l.filter(function(e){return JSON.stringify(e).toLowerCase().includes(null==n?void 0:n.toLowerCase())})};function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach(function(t){(0,a.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function X(e){var t=e.columns,n=e.data,a=e.defaultSortKey,i=e.defaultSortDirection,c=void 0===i?"asc":i,s=e.onSelectedRowsChange,o=e.selectableRows,u=void 0!==o&&o,d=e.selectedRowKey,m=void 0===d?"ID":d,f=e.clearSelectedRows,h=void 0!==f&&f,b=e.customCellRender,g=void 0===b?{}:b,y=e.enablePagination,p=void 0===y||y,v=e.loading,_=void 0!==v&&v,k=e.skeletonRows,E=void 0===k?10:k,w=e.storageKey,A=void 0===w?"betterlinks-table-columns":w,x=function(e,t){var n=function(e,t){return[].concat((0,N.A)(t?[{key:"__checkbox__",label:"",width:40,minWidth:40,sortable:!1}]:[]),(0,N.A)(e.map(function(e){var t=function(e,t){if("string"==typeof e){var n=parseInt(e,10);return isNaN(n)?t:n}return"number"==typeof e?e:t};return Q(Q({},e),{},{width:t(e.width,150),minWidth:t(e.minWidth,80),sortable:!1!==e.sortable})})))}(e,t),a=function(){try{var e=window.localStorage.getItem(A);if(!e)return null;var t=JSON.parse(e);return t&&t.widths&&Object.keys(t.widths).forEach(function(e){var n=t.widths[e];if("string"==typeof n){var a=parseInt(n,10);t.widths[e]=isNaN(a)?void 0:a}}),t}catch(e){return null}}();if(!a||!a.order)return n;var r,l=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return G(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var _n=0,a=function(){};return{s:a,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){i=!0,r=e},f:function(){try{l||null==n.return||n.return()}finally{if(i)throw r}}}}(a.order);try{var c=function(){var e=r.value,t=n.find(function(t){return t.key===e});if(t){var i=a.widths&&a.widths[e],c=void 0!==i?i:t.width;l.push(Q(Q({},t),{},{width:c}))}};for(i.s();!(r=i.n()).done;)c()}catch(e){i.e(e)}finally{i.f()}var s=n.filter(function(e){return!l.find(function(t){return t.key===e.key})});return[].concat(l,(0,N.A)(s))},O=(0,l.useState)(x(t||[],u)),D=(0,r.A)(O,2),S=D[0],L=D[1],C=(0,l.useState)(null),P=(0,r.A)(C,2),j=P[0],q=P[1];(0,l.useEffect)(function(){var e=x(t||[],u);L(e),ke(e)},[t,u]),(0,l.useEffect)(function(){ke(S)},[S]);var F=(0,l.useState)([]),H=(0,r.A)(F,2),T=H[0],M=H[1];(0,l.useEffect)(function(){h&&M([])},[h]);var z=(0,l.useState)(a||null),R=(0,r.A)(z,2),I=R[0],Y=R[1],B=(0,l.useState)(a?c:null),U=(0,r.A)(B,2),V=U[0],W=U[1],J=(0,l.useState)(null),K=(0,r.A)(J,2),X=K[0],$=K[1],Z=(0,l.useState)(0),ee=(0,r.A)(Z,2),te=ee[0],ne=ee[1],ae=(0,l.useState)(0),re=(0,r.A)(ae,2),le=re[0],ie=re[1],ce=(0,l.useState)(1),se=(0,r.A)(ce,2),oe=se[0],ue=se[1],de=(0,l.useState)(10),me=(0,r.A)(de,2),fe=me[0],he=me[1],be=(0,l.useRef)(null),ge=(0,N.A)(n).sort(function(e,t){if(!I||!V)return 0;var n=S.find(function(e){return e.key===I});if(n&&"function"==typeof n.sortFunction){var a=n.sortFunction(e,t);return"asc"===V?a:-a}var r=e[I],l=t[I];if(r===l)return 0;var i;return i="number"==typeof r&&"number"==typeof l?r-l:String(r).localeCompare(String(l)),"asc"===V?i:-i}),ye=Math.ceil(ge.length/fe),pe=(oe-1)*fe,ve=Math.min(pe+fe,ge.length),_e=ge.slice(pe,ve);(0,l.useEffect)(function(){ue(1)},[fe,I,V]);var ke=function(e){try{var t=e.map(function(e){return e.key}),n={};e.forEach(function(e){var t="number"==typeof e.width?e.width:parseInt(e.width,10);n[e.key]=isNaN(t)?0:t}),window.localStorage.setItem(A,JSON.stringify({order:t,widths:n}))}catch(e){}},Ee=function(){q(null)};(0,l.useEffect)(function(){var e=function(e){if(null!==X){var t=e.clientX-te,n=Math.max(S[X].minWidth||80,le+t);L(function(e){var t=e.map(function(e,t){return t===X?Q(Q({},e),{},{width:n}):e});return ke(t),t})}},t=function(){$(null)};return null!==X&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)),function(){document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}},[X,te,le,S]);var we=_e.length>0&&_e.every(function(e){return T.includes(e[m])}),Ne=function(e){if(!_)if(e.target.checked){var t=_e.map(function(e){return e[m]}),n=(0,N.A)(new Set([].concat((0,N.A)(T),(0,N.A)(t))));M(n),s&&s({selectedRows:ge.filter(function(e){return n.includes(e[m])})})}else{var a=_e.map(function(e){return e[m]}),r=T.filter(function(e){return!a.includes(e)});M(r),s&&s({selectedRows:ge.filter(function(e){return r.includes(e[m])})})}};return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"btl-tbl-container",ref:be},(0,l.createElement)("div",{className:"btl-tbl-wrapper"},(0,l.createElement)("table",{className:"btl-tbl-table"},(0,l.createElement)("thead",{className:"btl-tbl-thead"},(0,l.createElement)("tr",{className:"btl-tbl-header-row"},S.map(function(e,t){return(0,l.createElement)("th",{key:e.key,className:"btl-tbl-th ".concat(e.sortable&&!_?"btl-tbl-sortable":""," ").concat(j===t?"btl-tbl-th-dragging":""),style:{width:"".concat(e.width,"px")},onClick:function(){return"__checkbox__"!==e.key&&(t=e.key,void(!!e.sortable&&!_&&(I===t?"asc"===V?W("desc"):"desc"===V&&(W(null),Y(null)):(Y(t),W("asc")))));var t},draggable:"__checkbox__"!==e.key&&!_,onDragStart:function(e){return function(e,t){_||"__checkbox__"===S[e].key?t.preventDefault():(q(e),t.dataTransfer.effectAllowed="move")}(t,e)},onDragOver:function(e){return function(e,t){if(null!==j&&!_&&(t.preventDefault(),t.dataTransfer.dropEffect="move",j!==e)){var n=(0,N.A)(S),a=n[j];n.splice(j,1),n.splice(e,0,a),q(e),L(n),ke(n)}}(t,e)},onDragEnd:Ee},(0,l.createElement)("div",{className:"btl-tbl-th-content"},"__checkbox__"===e.key?(0,l.createElement)("input",{type:"checkbox",checked:we,onChange:Ne,disabled:_,"aria-label":"Select all rows"}):(0,l.createElement)(l.Fragment,null,(0,l.createElement)("span",{className:"btl-tbl-th-label"},e.label),(n=e.key,e.sortable?I!==n?(0,l.createElement)("span",{className:"btl-tbl-sort-icon"},"⇅"):"asc"===V?(0,l.createElement)("span",{className:"btl-tbl-sort-icon btl-tbl-sort-active"},"▲"):(0,l.createElement)("span",{className:"btl-tbl-sort-icon btl-tbl-sort-active"},"▼"):null))),"__checkbox__"!==e.key&&(0,l.createElement)("div",{className:"btl-tbl-resizer",onMouseDown:function(e){return function(e,t){_||(t.preventDefault(),$(e),ne(t.clientX),ie(S[e].width||150))}(t,e)}}));var n}))),(0,l.createElement)("tbody",{className:"btl-tbl-tbody"},_?Array.from({length:E}).map(function(e,t){return(0,l.createElement)("tr",{key:"skeleton-".concat(t),className:"btl-tbl-row btl-tbl-skeleton-row"},S.map(function(e){return(0,l.createElement)("td",{key:e.key,className:"btl-tbl-td",style:{width:"".concat(e.width,"px")}},"__checkbox__"===e.key?(0,l.createElement)("div",{className:"btl-tbl-skeleton btl-tbl-skeleton-checkbox"}):(0,l.createElement)("div",{className:"btl-tbl-skeleton btl-tbl-skeleton-text"}))}))}):_e.map(function(e,t){return(0,l.createElement)("tr",{key:t,className:"btl-tbl-row"},S.map(function(t){return(0,l.createElement)("td",{key:t.key,className:"btl-tbl-td",style:{width:"".concat(t.width,"px")}},"__checkbox__"===t.key?(0,l.createElement)("input",{type:"checkbox",checked:T.includes(e[m]),onChange:function(t){return function(e,t){var n;_||(n=t?[].concat((0,N.A)(T),[e[m]]):T.filter(function(t){return t!==e[m]}),M(n),s&&s({selectedRows:ge.filter(function(e){return n.includes(e[m])})}))}(e,t.target.checked)},"aria-label":"Select row"}):g[t.key]?g[t.key](e):function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return e;var n=String(e);return(0,l.createElement)("div",{className:t?"btl-tbl-cell-truncated":"btl-tbl-cell-content"},n)}(e[t.key],"user_agent"===t.key||"referrer"===t.key))}))}))))),p&&(0,l.createElement)("div",{className:"btl-tbl-pagination"},(0,l.createElement)("div",{className:"btl-tbl-pagination-left"},(0,l.createElement)("label",{htmlFor:"rows-per-page",className:"btl-tbl-pagination-label"},"Rows per page:"),(0,l.createElement)("select",{id:"rows-per-page",className:"btl-tbl-pagination-select",value:fe,onChange:function(e){return he(Number(e.target.value))},disabled:_},(0,l.createElement)("option",{value:10},"10"),(0,l.createElement)("option",{value:30},"30"),(0,l.createElement)("option",{value:50},"50"),(0,l.createElement)("option",{value:100},"100"),(0,l.createElement)("option",{value:200},"200"),(0,l.createElement)("option",{value:500},"500"))),(0,l.createElement)("div",{className:"btl-tbl-pagination-center"},(0,l.createElement)("span",{className:"btl-tbl-pagination-info"},_?(0,l.createElement)("div",{className:"btl-tbl-skeleton btl-tbl-skeleton-text",style:{width:"80px",height:"16px"}}):0===ge.length?"0 of 0":"".concat(pe+1,"-").concat(ve," of ").concat(ge.length))),(0,l.createElement)("div",{className:"btl-tbl-pagination-right"},(0,l.createElement)("button",{className:"btl-tbl-pagination-btn",onClick:function(){return ue(1)},disabled:1===oe||_,"aria-label":"First page"},"⏮"),(0,l.createElement)("button",{className:"btl-tbl-pagination-btn",onClick:function(){return ue(function(e){return Math.max(e-1,1)})},disabled:1===oe||_,"aria-label":"Previous page"},"◀"),(0,l.createElement)("button",{className:"btl-tbl-pagination-btn",onClick:function(){return ue(function(e){return Math.min(e+1,ye)})},disabled:oe===ye||_,"aria-label":"Next page"},"▶"),(0,l.createElement)("button",{className:"btl-tbl-pagination-btn",onClick:function(){return ue(ye)},disabled:oe===ye||_,"aria-label":"Last page"},"⏭"))))}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach(function(t){(0,a.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const ee=(0,d.Ng)(function(e){return{analytics:e.analytics,activity:e.activity}},function(e){return{searchClicksData:(0,u.zH)(F.Iz,e),fetch_clicks_data:(0,u.zH)(F.AK,e),fetch_individual_clicks:(0,u.zH)(F.fn,e),fetch_analytics_settings:(0,u.zH)(v,e),update_analytics_settings:(0,u.zH)(_,e),delete_clicks:(0,u.zH)(F.O3,e),delete_links_analytics:(0,u.zH)(F.j4,e),update_clicks_with_country:(0,u.zH)(F.qe,e)}})(function(e){e.columns;var t,n,a,i,c=e.data,o=e.progressPending,u=e.id,d=void 0===u?null:u,m=e.from,f=void 0===m?null:m,h=e.customDateFilter,g=(0,l.useState)(!1),y=(0,r.A)(g,2),p=y[0],v=y[1],_=(0,l.useState)(!1),E=(0,r.A)(_,2),N=E[0],A=E[1],x=(0,l.useState)(!1),O=(0,r.A)(x,2),D=O[0],S=O[1],L=(0,l.useState)(""),C=(0,r.A)(L,2),j=C[0],q=C[1],F=(0,l.useState)([]),H=(0,r.A)(F,2),T=H[0],M=H[1],z=(0,l.useState)({}),R=(0,r.A)(z,2),I=R[0],Y=R[1],B=(0,l.useState)(!1),U=(0,r.A)(B,2),V=U[0],W=U[1],G=(0,l.useState)(!1),K=(0,r.A)(G,2),Q=K[0],$=K[1],ee=e.activity.analyticsTab,te=e.analytics.analytics;if(d){var ne=(0,b.GH)(te,ee,d,le)||[];(n=ne.map(function(e){return{key:e.selector,label:e.name,sortable:!1!==e.sortable,width:e.width,minWidth:e.minWidth,sortFunction:e.sortFunction}})).length||(n=[{key:"browser",label:(0,s.__)("Browser","betterlinks"),sortable:!1},{key:"ip",label:(0,s.__)("IP","betterlinks")},{key:"country_name",label:(0,s.__)("Country","betterlinks")},{key:"user_agent",label:(0,s.__)("User-Agent","betterlinks")},{key:"created_at",label:(0,s.__)("Timestamp","betterlinks")},{key:"referer",label:(0,s.__)("Referrer","betterlinks")},{key:"query_params",label:(0,s.__)("Parameters","betterlinks")},{key:"os",label:(0,s.__)("OS","betterlinks")},{key:"device",label:(0,s.__)("Device","betterlinks"),sortable:!1},{key:"IPCOUNT",label:(0,s.__)("IP Count","betterlinks")}]),a=J(c,ee,j,d,f).map(function(e){return Z(Z({},e),{},{ip:void 0!==e.ip&&null!==e.ip?e.ip:"",browser:void 0!==e.browser&&null!==e.browser?e.browser:"",referer:void 0!==e.referer&&null!==e.referer?e.referer:"",os:void 0!==e.os&&null!==e.os?e.os:"",device:void 0!==e.device&&null!==e.device?e.device:"",query_params:void 0!==e.query_params&&null!==e.query_params?e.query_params:"",created_at:void 0!==e.created_at&&null!==e.created_at?e.created_at:"",country_name:void 0!==e.country_name&&null!==e.country_name?e.country_name:"",country_code:void 0!==e.country_code&&null!==e.country_code?e.country_code:"",user_agent:void 0!==e.user_agent&&null!==e.user_agent?e.user_agent:"",IPCOUNT:void 0!==e.IPCOUNT&&null!==e.IPCOUNT?e.IPCOUNT:void 0!==e.IPCount&&null!==e.IPCount?e.IPCount:void 0!==e.ipcount&&null!==e.ipcount?e.ipcount:""})});var ae={};ne.forEach(function(e){"function"==typeof e.cell&&(ae[e.selector]=e.cell)});var re={browser:function(e){return function(e){if(!e)return null;var t=(0,b.X5)(e||""),n="string"==typeof e&&e.length?e:t||"Browser";return(0,l.createElement)("img",{width:"25",src:"".concat(window.betterLinksGlobal.plugin_root_url,"assets/images/browser/").concat(t,"-browser.svg"),alt:"icon",title:n})}(e.browser)},device:function(e){return function(e){if(!e)return null;var t=(0,b.Pf)(e||""),n="string"==typeof e&&e.length?e:t||"Device";return(0,l.createElement)("img",{width:"25",src:"".concat(window.betterLinksGlobal.plugin_root_url,"assets/images/devices/").concat(t,".svg"),alt:"icon",title:n})}(e.device)},referer:function(e){return(0,l.createElement)("a",{href:e.referer,target:"_blank",rel:"noopener noreferrer"},e.referer)},query_params:function(e){return(0,l.createElement)("span",{style:{wordBreak:"break-all"}},e.query_params)},user_agent:function(e){return(0,l.createElement)("span",{style:{wordBreak:"break-all"}},e.user_agent)},ip:function(e){return(0,l.createElement)("span",null,e.ip,e.IPCOUNT?"(".concat(e.IPCOUNT,")"):"")},os:function(e){return(0,l.createElement)("span",null,e.os)},country_name:function(e){var t=ne.find(function(e){return"country_name"===e.selector});return t&&"function"==typeof t.cell?t.cell(e):e.country_name?(0,l.createElement)("span",null,e.country_name):(0,l.createElement)("div",null,"-")},created_at:function(e){return(0,l.createElement)("span",null,e.created_at)},IPCOUNT:function(e){return(0,l.createElement)("span",null,e.IPCOUNT)}};i={},n.forEach(function(e){ae[e.key]?i[e.key]=ae[e.key]:re[e.key]&&(i[e.key]=re[e.key])})}else n=[{key:"name",label:(0,s.__)("Link Name","betterlinks"),sortable:!0},{key:"short_url",label:(0,s.__)("Shortened URL","betterlinks")},{key:"target_url",label:(0,s.__)("Target URL","betterlinks")},{key:"total_clicks",label:(0,s.__)("Total Clicks","betterlinks")},{key:"unique_clicks",label:(0,s.__)("Unique Clicks","betterlinks")},{key:"action",label:(0,s.__)("Action","betterlinks"),sortable:!1}],a=J(c,ee,j,d,f).map(function(e){return Z(Z({},e),{},{name:e.link_title||e.name||"",action:"Details"})}),i={action:function(e){return(0,l.createElement)("a",{href:"admin.php?page=betterlinks-analytics&id=".concat(e.link_id),style:{color:"#0073aa",textDecoration:"underline",cursor:"pointer"}},"Details")},short_url:function(e){return(0,l.createElement)("a",{href:e.short_url.startsWith("http")?e.short_url:"https://".concat(e.short_url),target:"_blank",rel:"noopener noreferrer"},e.short_url)},target_url:function(e){return(0,l.createElement)("a",{href:e.target_url,target:"_blank",rel:"noopener noreferrer"},e.target_url)}};(0,l.useEffect)(function(){te||e.fetch_analytics_settings()},[]);var le=function(t){if(d){t&&t.length&&e.update_clicks_with_country(t);var n=h&&h[0]?(0,b.Yq)(h[0].startDate,"yyyy-mm-dd"):void 0,a=(h&&h[0]?(0,b.Yq)(h[0].endDate,"yyyy-mm-dd"):void 0)||(0,b.Yq)(new Date,"yyyy-mm-dd"),r=n||(0,b.Yq)(new Date,"yyyy-mm-dd");e.fetch_individual_clicks({link_id:d,from:r,to:a,setLoading:function(){}})}},ie=function(){var t=(0,k.A)(w().mark(function t(){var n,a,r,l;return w().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("delete"!==I.value){t.next=1;break}return $(!1),W(!V),d?(n=T.map(function(e){return e.ID}),a={click_ids:n,link_id:d},h&&h[0]&&(a.from=(0,b.Yq)(h[0].startDate,"yyyy-mm-dd"),a.to=(0,b.Yq)(h[0].endDate,"yyyy-mm-dd")),e.delete_clicks(a)):(r=T.map(function(e){return e.link_id}),l={link_ids:r},h&&h[0]&&(l.from=(0,b.Yq)(h[0].startDate,"yyyy-mm-dd"),l.to=(0,b.Yq)(h[0].endDate,"yyyy-mm-dd")),e.delete_links_analytics(l)),Y({}),M([]),t.abrupt("return");case 1:if("fetch_country"!==I.value){t.next=4;break}if($(!1),d){t.next=2;break}return $(!0),t.abrupt("return");case 2:return t.next=3,(0,b.P4)(T,d,le);case 3:return Y({}),M([]),W(!V),t.abrupt("return");case 4:$(!0);case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),ce=(0,l.useMemo)(function(){return(0,l.createElement)(P,{onFilter:function(e){return q(e.target.value)},onClear:function(){j&&(v(!p),q(""))},filterText:j,searchClickHandler:function(t){t.preventDefault(),j&&(A(!0),e.searchClicksData(b.sL,j).then(function(){A(!1),S(!0)}))},searchStatus:N,isSearching:D,resetSearch:function(){if(S(!1),q(""),h&&h[0]){var t={from:(0,b.Yq)(h[0].startDate,"yyyy-mm-dd"),to:(0,b.Yq)(h[0].endDate,"yyyy-mm-dd")};e.fetch_clicks_data(t)}else e.fetch_clicks_data({})},analytics:te,update_analytics_settings:e.update_analytics_settings,id:d,analyticsTab:ee,update_activity:e.update_activity,selectedRows:T,bulkAction:I,setBulkAction:Y,rowDeleteHandler:ie,warning:Q})},[j,p,N,D,te,ee,d,T.length,I,Q]),se=d?"betterlinks-single-link-table-columns":"betterlinks-link-list-table-columns";return(0,l.createElement)("div",{className:"btl-table-grouped-container"},ce,(0,l.createElement)(X,{columns:n,data:a,loading:o,defaultSortKey:(null===(t=n[0])||void 0===t?void 0:t.key)||"name",defaultSortDirection:"asc",selectableRows:!0,onSelectedRowsChange:function(e){M(e.selectedRows)},clearSelectedRows:V,selectedRowKey:d?"ID":"link_id",customCellRender:i,storageKey:se}))}),te=(0,d.Ng)(function(e){var t,n=null===(t=e.clicks)||void 0===t?void 0:t.unique_list;return{settings:e.settings,analytics:e.analytics,clicks:e.clicks,unique_list:n}},function(e){return{fetch_settings_data:(0,u.zH)(g.kc,e),fetch_analytics_settings:(0,u.zH)(v,e)}})(function(e){var t=e.analyticsTab,n=e.unique_list,a=e.id,r=void 0===a?null:a,i=e.from,c=void 0===i?null:i,s=e.customDateFilter,o=e.settings.settings,u=e.analytics.analytics;(0,l.useEffect)(function(){o||e.fetch_settings_data(),u||e.fetch_analytics_settings()},[]);var d=(0,l.useCallback)((0,b.GH)(u,t),[u,t]),m=null!=o&&o.is_disable_analytics_ip?d.filter(function(e){return"ip"!==e.selector}):d;return(0,l.createElement)(ee,{columns:m,data:n||[],progressPending:!n,id:r,from:c,customDateFilter:s})});var ne,ae,re=n(20),le=n(3486),ie=n(384),ce=n(7430);function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},se.apply(null,arguments)}var oe,ue=function(e){return l.createElement("svg",se({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 44 30"},e),ne||(ne=l.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M42.43 14.68V2.85c0-.24-.05-.48-.14-.71s-.23-.43-.4-.6c-.01-.01-.02-.01-.03-.02a2 2 0 0 0-.57-.38c-.18-.07-.36-.09-.55-.11-.06 0-.1-.03-.16-.03H28.7"})),ae||(ae=l.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m1 28.04 12.75-12.07 5.62 7.19a1.852 1.852 0 0 0 2.77.17L40.77 2.69"})))},de=n(220);function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},me.apply(null,arguments)}var fe,he,be=function(e){return l.createElement("svg",me({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 40 41"},e),oe||(oe=l.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.65 39.39H1V22.72h8.65zM23.67 39.39h-8.65V8.08h8.65zM38.6 39.39h-8.65V1h8.65z"})))};function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ge.apply(null,arguments)}var ye,pe=function(e){return l.createElement("svg",ge({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 55 47"},e),fe||(fe=l.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M33.23 45.25c-1.9.33-3.84.49-5.77.49-4.25 0-8.5-.78-12.34-2.31-6.06-2.4-10.87-6.49-13.91-11.81-.29-.51-.29-1.13 0-1.64 2.56-4.48 6.46-8.15 11.27-10.62 4.48-2.29 9.65-3.5 14.95-3.5s10.47 1.21 14.95 3.5c4.81 2.46 8.71 6.13 11.27 10.62.29.51.29 1.13 0 1.64-2.2 3.85-5.29 7.02-9.19 9.44-4.37 2.83-11.23 4.19-11.23 4.19M27.34 10.21V1.79M36.3 12.15l4.21-7.3M14.36 4.85l4.21 7.3"})),he||(he=l.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m31.78 38.69 4.27 5.23m-4.27-5.23a8.9 8.9 0 0 1-5.72 1.63c-4.96-.3-8.74-4.57-8.44-9.52s4.57-8.74 9.52-8.44 8.74 4.57 8.44 9.52c-.13 2.12-1.23 4.68-3.8 6.82z"})))};function ve(){return ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ve.apply(null,arguments)}var _e=function(e){return l.createElement("svg",ve({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 38 37"},e),ye||(ye=l.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m21.61 6.16 1.48-4.67M16.35 4.33 16.68 1M2.42 24.55l4.4-2.15M1 18.28l3.24-.82M35.96 30.1l-7.76-7.77a.32.32 0 0 1-.09-.28c.02-.1.09-.19.18-.23l7-3.05a2.193 2.193 0 0 0-.2-4.07L10.05 6.52A2.19 2.19 0 0 0 7.3 9.27l8.18 25.04a2.17 2.17 0 0 0 1.97 1.5h.11c.87 0 1.65-.52 1.99-1.31l3.04-7c.04-.1.13-.17.23-.18.1-.02.21.01.28.09l7.77 7.77c.86.86 2.24.86 3.1 0l1.99-1.99c.86-.86.86-2.24 0-3.1z"})))},ke=n(2057);const Ee=function(){return b.JT?null:(0,l.createElement)(ke.M,{description:(0,s.__)("Track your links with detailed analytics, dynamic infographics, insights on OS,  browser,top medium - social, search platforms and more.","betterlinks")},(0,l.createElement)(le.A,null,[(0,l.createElement)("div",{className:"btl-graphteaser-icon"},(0,l.createElement)(ue,null),(0,l.createElement)("p",null,(0,s.__)("Track your top-performing link Click Sources","betterlinks"))),(0,l.createElement)("div",{className:"btl-graphteaser-icon"},(0,l.createElement)(de.h,null),(0,l.createElement)("p",null,(0,s.__)("Access exclusive click data for Better Insights","betterlinks"))),(0,l.createElement)("div",{className:"btl-graphteaser-icon"},(0,l.createElement)(be,null),(0,l.createElement)("p",null,(0,s.__)("Measure the performance of your shortened links","betterlinks"))),(0,l.createElement)("div",{className:"btl-graphteaser-icon"},(0,l.createElement)(pe,null),(0,l.createElement)("p",null,(0,s.__)("Identify your most-clicked links for optimal strategy","betterlinks"))),(0,l.createElement)("div",{className:"btl-graphteaser-icon"},(0,l.createElement)(_e,null),(0,l.createElement)("p",null,(0,s.__)("Get detailed individual click stats at your fingertips","betterlinks")))].map(function(e){return(0,l.createElement)(ie.A,{disableGutters:!0},(0,l.createElement)(ce.A,{primary:e}))})))},we=function(e){var t=e.darkMode;return(0,l.createElement)("div",{className:"btl-top-charts btl-top-charts-teaser"},(0,l.createElement)("img",{style:{width:"100%"},src:"".concat(b.hq,"assets/images/teasers/").concat(t?"dark":"light","-chart-teaser.png")}),(0,l.createElement)(Ee,null))},Ne=function(){return(0,l.createElement)("div",{className:"btl-chart-preloader"},(0,l.createElement)("img",{src:"".concat(b.hq,"assets/images/dark-mode-loader.gif")}))};function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach(function(t){(0,a.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Oe=function(){};const De=(0,d.Ng)(function(e){return{clicks:e.clicks,activity:e.activity}},function(e){return{fetchCustomClicksData:(0,u.zH)(F.lC,e),get_chart_data:(0,u.zH)(F.Hr,e),get_graph_data:(0,u.zH)(F.rF,e),get_medium_data:(0,u.zH)(F._I,e),fetch_clicks_data:(0,u.zH)(F.AK,e),fetch_individual_clicks:(0,u.zH)(F.fn,e),get_analytics_graph_by_tag:(0,u.zH)(F.MI,e),get_analytics_unique_list_by_id:(0,u.zH)(F.Nr,e),get_individual_chart_data:(0,u.zH)(F.hU,e),get_individual_medium_data:(0,u.zH)(F.qA,e)}})(function(e){var t,n,a,i=e.customDateFilter,c=e.setCustomDateFilter,o=e.extraAnalytics,u=e.chartLoading,d=void 0!==u&&u,f=e.setChartLoading,h=void 0===f?Oe:f,g=e.setLoading,y=void 0===g?Oe:g,p=e.setGraphLoading,v=void 0===p?Oe:p,_=e.setMediumLoading,E=void 0===_?Oe:_,N=e.activity,A=betterLinksQuery.get("id"),x=betterLinksQuery.get("tag_id"),O=(0,l.useState)((0,s.__)("Filter","betterlinks")),D=(0,r.A)(O,2),S=D[0],L=D[1],C=(0,l.useState)(!1),P=(0,r.A)(C,2),j=P[0],q=P[1],F=(0,l.useState)(!0),H=(0,r.A)(F,2),T=H[0],M=H[1],z=N.darkMode,R=(0,l.useMemo)(function(){var t;return(0,b.bI)((null===(t=e.data)||void 0===t?void 0:t.clicks)||{})},[null===(t=e.data)||void 0===t?void 0:t.clicks]),I=(0,l.useState)(!1),Y=(0,r.A)(I,2),B=(Y[0],Y[1]);(0,l.useEffect)(function(){return M(!0),function(){M(!1)}},[]),(0,l.useEffect)(function(){var t,n,a=(null===(t=e.data)||void 0===t?void 0:t.clicks)&&Object.keys(e.data.clicks).length>0,r=(null===(n=e.data)||void 0===n?void 0:n.unique_clicks)&&Object.keys(e.data.unique_clicks).length>0,l=void 0!==e.uniqueIpCount&&null!==e.uniqueIpCount;B(!!(a&&r&&l)||!(!a||r||l))},[null===(n=e.data)||void 0===n?void 0:n.clicks,null===(a=e.data)||void 0===a?void 0:a.unique_clicks,e.uniqueIpCount]);var U=function(){var t=(0,k.A)(w().mark(function t(){var n,a;return w().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:L((0,s.__)("Filtering...","betterlinks"));try{n=(0,b.Yq)(i[0].startDate,"yyyy-mm-dd"),a=(0,b.Yq)(i[0].endDate,"yyyy-mm-dd"),A||(e.fetch_clicks_data({from:n,to:a,setLoading:y}),e.get_graph_data({from:n,to:a,setLoading:v}),e.get_chart_data({from:n,to:a,setLoading:h}),e.get_medium_data({from:n,to:a,setLoading:E})),A&&b.JT&&(e.fetch_individual_clicks({link_id:A,from:n,to:a,setLoading:y}),e.get_individual_chart_data({link_id:A,from:n,to:a,setLoading:h}),e.get_individual_medium_data({link_id:A,from:n,to:a,setLoading:E})),x&&(e.get_analytics_graph_by_tag({from:n,to:a,tag_id:x,setLoading:y}),e.get_analytics_unique_list_by_id({from:n,to:a,tag_id:x,setLoading:y})),setTimeout(function(){L((0,s.__)("Done!","betterlinks")),setTimeout(function(){L((0,s.__)("Filter","betterlinks"))},3e3)},1e3)}catch(e){console.log({error:e.message})}case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),V=(0,l.useMemo)(function(){return{options:{chart:{id:"analytics-click-count",toolbar:{export:{csv:{headerCategory:"Date"}}},animations:{enabled:!0,dynamicAnimation:{enabled:!1}},redrawOnParentResize:!1,redrawOnWindowResize:!1},xaxis:{categories:R},stroke:{curve:"smooth"},colors:["#FF7818","#6034E6"],markers:{size:5},legend:{position:"top"}},series:(0,b.vh)(e.data,e.uniqueIpCount)}},[R,e.data,e.uniqueIpCount]);return T?(0,l.createElement)("div",null,(0,l.createElement)("div",{className:"btl-analytics-filter"},(0,l.createElement)("h3",{className:"btl-analytics-filter__heading"},(0,s.__)("Click Analytics","betterlinks")),(0,l.createElement)("div",{className:"btl-analytics-filter__control"},(0,l.createElement)("button",{onClick:function(){(0,b.AX)(),q(!j)},className:"btl-list-view-calendar"},(0,l.createElement)("span",{className:"dashicons dashicons-calendar"}),String(i[0].startDate).slice(4,15)," - ",String(i[0].endDate).slice(4,15)),j&&(0,l.createElement)("div",{className:"btl-date-range-picker-wrap"},(0,l.createElement)("div",{className:"btl-date-range-picker"},(0,l.createElement)("button",{onClick:function(){(0,b.jT)(),q(!1)},className:"btn-date-range-close"},(0,l.createElement)("span",{className:"dashicons dashicons-no-alt"})),(0,l.createElement)(re.Ur,{onChange:function(e){return function(e){c([e.selection]),e.selection.endDate!=e.selection.startDate&&((0,b.jT)(),q(!1))}(e)},showSelectionPreview:!0,moveRangeOnFirstSelection:!1,months:2,ranges:i}))),(0,l.createElement)("button",{className:"btl-filter-action",onClick:U},S))),(0,l.createElement)("div",{className:"btl-analytics-chart"},(0,l.createElement)("div",{className:"btl-analytics-chart-line".concat(!b.JT&&A?" btl-analytics-chart-line-teaser":"")},!b.JT&&A?(0,l.createElement)("img",{className:"btl-analytics-chart-image",src:b.hq+"assets/images/teasers/individual-analytics.png"}):(0,l.createElement)(m.A,{options:V.options,series:V.series,type:"area",height:350}),A&&(0,l.createElement)(Ee,null)),b.JT&&d?(0,l.createElement)(Ne,null):!x&&betterLinksHooks.applyFilters("BetterlinksAnalyticsChart",!b.uL&&(0,l.createElement)(we,{darkMode:z}),xe(xe({},o),{},{id:A})))):null});var Se=n(702),Le=n(3516);const Ce=function(){return(0,l.createElement)(Le.Ay,{width:"100%",height:"100%",viewBox:"0 0 350 300"},(0,l.createElement)("rect",{x:"6",y:"24",rx:"0",ry:"0",width:"57",height:"259"}),(0,l.createElement)("rect",{x:"76",y:"89",rx:"0",ry:"0",width:"57",height:"195"}),(0,l.createElement)("rect",{x:"144",y:"120",rx:"0",ry:"0",width:"57",height:"167"}),(0,l.createElement)("rect",{x:"214",y:"163",rx:"0",ry:"0",width:"57",height:"123"}),(0,l.createElement)("rect",{x:"282",y:"53",rx:"0",ry:"0",width:"57",height:"233"}))},Pe=(0,d.Ng)(function(e){return{clicks:e.clicks,activity:e.activity}},function(e){return{get_chart_data:(0,u.zH)(F.Hr,e),get_graph_data:(0,u.zH)(F.rF,e),get_medium_data:(0,u.zH)(F._I,e),fetch_clicks_data:(0,u.zH)(F.AK,e),fetch_individual_clicks:(0,u.zH)(F.fn,e)}})(function(e){var t=(0,l.useState)(!1),n=(0,r.A)(t,2),a=n[0],i=n[1],c=(0,l.useState)(!1),s=(0,r.A)(c,2),o=s[0],u=s[1],d=(0,l.useState)(!1),g=(0,r.A)(d,2),y=g[0],p=g[1],v=(0,l.useState)(!1),_=(0,r.A)(v,2),k=(_[0],_[1]),E=(0,Se.cN)(),w=(0,r.A)(E,3),N=w[0],A=(w[1],w[2]),x=(null==e?void 0:e.propsForAnalytics)||{},O=x.customDateFilter,D=x.setCustomDateFilter,S=e.clicks,L=S.clicks,C=S.unique_list,P=S.unique_count,j=S.referer,q=S.devices,F=S.os,H=S.browser,T=S.medium,M=e.activity,z=M.darkMode,R=M.analyticsTab;return(0,l.useEffect)(function(){var t=(0,b.Yq)(O[0].startDate,"yyyy-mm-dd"),n=(0,b.Yq)(O[0].endDate,"yyyy-mm-dd")||(0,b.Yq)(new Date,"yyyy-mm-dd"),a=betterLinksHooks.applyFilters("betterLinksAnalyticsFilterStartDate",(0,f.A)(new Date,30));a=t||(0,b.Yq)(a,"yyyy-mm-dd"),L||(e.get_chart_data({from:a,to:n,setLoading:p}),e.get_graph_data({from:a,to:n,setLoading:u}),e.get_medium_data({from:a,to:n,setLoading:k})),null!=L&&L.unique_list||e.fetch_clicks_data({from:a,to:n,setLoading:i})},[L]),(0,l.useEffect)(function(){},[L,C,P,j,q,F,H,T]),(0,l.createElement)("div",{className:"btl-analytic"},(0,l.createElement)(h.A,{isOpenModal:N,closeModal:A}),(0,l.createElement)(De,{key:"graph-".concat(P,"-").concat((null==j?void 0:j.length)||0),data:W(L||{total_count:[],unique_count:[]}),uniqueIpCount:P,customDateFilter:O,setCustomDateFilter:D,chartLoading:y,setChartLoading:p,loading:a,setLoading:i,graphLoading:o,setGraphLoading:u,setMediumLoading:k,extraAnalytics:{top_referer:j||[],devices:q||[],os:F||[],browser:H||[],top_medium:T||[],darkMode:z,Chart:m.A,BarLoader:Ce}}),(0,l.createElement)("div",{className:"btl-analytic-table-wrapper"},(0,l.createElement)(te,{analyticsTab:R,unique_list:C,loading:a,customDateFilter:O})))}),je=function(e){var t=e.clicks,n=t.link_title,a=t.short_url,r=t.target_url,i=function(){return(0,l.createElement)(Le.Ay,{speed:2,width:"100%",height:10,viewBox:"0 0 300 10",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},(0,l.createElement)("rect",{x:"1",y:"2",rx:"3",ry:"3",width:"196",height:"13"}))},c=betterLinksHooks.applyFilters("site_url",b.IV),s="".concat(c,"/").concat(a);return(0,l.createElement)("div",{className:"btl-single-click-info-header"},(0,l.createElement)("div",{className:"btl-single-info--name"},(0,l.createElement)("span",{className:"btl-single-info-svg-icon",style:{width:"20px",height:"20px",transform:"scale(0.8)"}},(0,l.createElement)(z,null)),(0,l.createElement)("span",{className:"btl-column-name",style:{marginRight:"5px"}},"Link Name:"),(0,l.createElement)("span",{className:"btl-link-name",title:n},(null==n?void 0:n.slice(0,40))||(0,l.createElement)(i,null))),(0,l.createElement)("div",{className:"btl-single-info-short-url btl-single-info--name"},(0,l.createElement)("span",{className:"btl-single-info-svg-icon",style:{width:"20px",height:"20px",transform:"scale(0.8)"}},(0,l.createElement)(V,null)),(0,l.createElement)("span",{className:"btl-column-name",style:{marginRight:"5px"}},"Shortened URL:"),(0,l.createElement)("a",{href:s,className:"btl-link-name",target:"_blank",title:s},(null==a?void 0:a.slice(0,40))||(0,l.createElement)(i,null))),(0,l.createElement)("div",{className:"btl-single-info-target-url btl-single-info--name"},(0,l.createElement)("span",{className:"btl-single-info-svg-icon",style:{width:"20px",height:"20px",transform:"scale(0.8)"}},(0,l.createElement)(B,null)),(0,l.createElement)("span",{className:"btl-column-name",style:{marginRight:"5px"}},"Target URL:"),(0,l.createElement)("a",{href:r,className:"btl-link-name",title:r,target:"_blank"},(null==r?void 0:r.slice(0,40))||(0,l.createElement)(i,null),(null==r?void 0:r.length)>40&&"[...]")))};var qe=n(5051);const Fe=(0,d.Ng)(function(e){return{clicks:e.clicks,activity:e.activity,settings:e.settings,analytics:e.analytics}},function(e){return{fetch_clicks_data:(0,u.zH)(F.AK,e),fetch_individual_clicks:(0,u.zH)(F.fn,e),fetch_settings_data:(0,u.zH)(g.kc,e),fetch_analytics_settings:(0,u.zH)(v,e),update_analytics_settings:(0,u.zH)(_,e),get_individual_chart_data:(0,u.zH)(F.hU,e),get_individual_medium_data:(0,u.zH)(F.qA,e)}})(function(e){var t,n,a,i,c,o,u=(0,Se.cN)(),d=(0,r.A)(u,3),g=d[0],y=(d[1],d[2]),p=(null==e?void 0:e.propsForAnalytics)||{},v=p.customDateFilter,_=p.setCustomDateFilter,k=e.clicks,E=k.individual_clicks,w=(0,l.useState)(!1),A=(0,r.A)(w,2),x=(A[0],A[1]),O=(0,l.useState)(!1),D=(0,r.A)(O,2),S=D[0],L=D[1],C=(0,l.useState)(!1),P=(0,r.A)(C,2),j=(P[0],P[1]),q=e.activity,F=q.darkMode,H=q.analyticsTab,T=e.settings.settings,M=e.analytics.analytics,z=betterLinksQuery.get("id");(0,l.useEffect)(function(){window.scrollTo(0,b.JT?0:270);var t=(0,b.Yq)(v[0].startDate,"yyyy-mm-dd"),n=(0,b.Yq)(v[0].endDate,"yyyy-mm-dd")||(0,b.Yq)(new Date,"yyyy-mm-dd"),a=betterLinksHooks.applyFilters("betterLinksAnalyticsFilterStartDate",(0,f.A)(new Date,30));a=t||(0,b.Yq)(a,"yyyy-mm-dd"),T||e.fetch_settings_data(),M||e.fetch_analytics_settings(),k||e.fetch_clicks_data({from:a,to:n,setLoading:x})},[]),(0,l.useEffect)(function(){var t=(0,b.Yq)(v[0].startDate,"yyyy-mm-dd"),n=(0,b.Yq)(v[0].endDate,"yyyy-mm-dd")||(0,b.Yq)(new Date,"yyyy-mm-dd"),a=betterLinksHooks.applyFilters("betterLinksAnalyticsFilterStartDate",(0,f.A)(new Date,30));a=t||(0,b.Yq)(a,"yyyy-mm-dd"),e.fetch_individual_clicks({link_id:z,from:a,to:n,setLoading:x}),b.JT&&(e.get_individual_chart_data({link_id:z,from:a,to:n,setLoading:L}),e.get_individual_medium_data({link_id:z,from:a,to:n,setLoading:j}))},[z,v]);var R=(0,l.useCallback)(function(t,n){var a=(0,b.Yq)(v[0].startDate,"yyyy-mm-dd"),r=(0,b.Yq)(v[0].endDate,"yyyy-mm-dd")||(0,b.Yq)(new Date,"yyyy-mm-dd"),l=betterLinksHooks.applyFilters("betterLinksAnalyticsFilterStartDate",(0,f.A)(new Date,30));l=a||(0,b.Yq)(l,"yyyy-mm-dd"),e.fetch_individual_clicks({link_id:z,from:l,to:r,setLoading:x})},[z,v,e]),I=(0,l.useCallback)((0,b.GH)(M,H,z,R),[M,H,z,R]),Y=null!=T&&T.is_disable_analytics_ip?I.filter(function(e){return"ip"!==e.selector}):I,B=null!=E&&null!==(t=E[z])&&void 0!==t&&t.analytics?(0,N.A)(new Set(E[z].analytics.map(function(e){return e.ip}))).length:0,U=b.JT&&null!=E&&E[z]?{top_referer:E[z].individual_referer||[],devices:E[z].individual_devices||[],os:E[z].individual_os||[],browser:E[z].individual_browser||{},top_medium:E[z].individual_medium||{},darkMode:F,Chart:m.A,BarLoader:Ce,id:z}:null;return(0,l.createElement)("div",{className:"btl-analytic"},(0,l.createElement)(h.A,{isOpenModal:g,closeModal:y}),null!=E&&null!==(n=E[z])&&void 0!==n&&n.graph_data?(0,l.createElement)(De,{data:W(E[z].graph_data),customDateFilter:v,setCustomDateFilter:_,setLoading:x,uniqueIpCount:B,chartLoading:S,setChartLoading:L,setMediumLoading:j,extraAnalytics:U}):(0,l.createElement)(Ne,null),(0,l.createElement)(qe.A,{mode:"white",notice:(0,s.__)("To use the Parameter Tracking feature, please ensure that you have at least BetterLinks Pro v2.1.0 or later","betterlinks"),compatibleProVersion:"2.1.0"}),z&&(0,l.createElement)(je,{clicks:null!=E&&null!==(a=E[z])&&void 0!==a&&a.link_details?null==E||null===(i=E[z])||void 0===i?void 0:i.link_details:{link_title:null,short_url:null,target_url:null}}),(0,l.createElement)("div",{className:"btl-analytic-table-wrapper btl-analytic-table-wrapper-single-clicks"},(0,l.createElement)(ee,{id:z,columns:Y,data:(null==E||null===(c=E[z])||void 0===c?void 0:c.analytics)||[],progressPending:null==E||null===(o=E[z])||void 0===o||!o.analytics,customDateFilter:v})))});var He,Te,Me=n(1582);function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ze.apply(null,arguments)}var Re,Ie,Ye=function(e){return l.createElement("svg",ze({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),He||(He=l.createElement("g",{clipPath:"url(#total-click_svg__a)"},l.createElement("path",{stroke:"#9FA1B8",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7.904 17.563a1.2 1.2 0 0 0 2.228.308l2.09-3.093 4.907 4.907a1.066 1.066 0 0 0 1.509 0l1.047-1.047a1.066 1.066 0 0 0 0-1.509l-4.907-4.907 3.113-2.09a1.2 1.2 0 0 0-.309-2.228L4 4z"}))),Te||(Te=l.createElement("defs",null,l.createElement("clipPath",{id:"total-click_svg__a"},l.createElement("path",{fill:"#fff",d:"M0 0h24v24H0z"})))))};function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Be.apply(null,arguments)}var Ue,Ve,We=function(e){return l.createElement("svg",Be({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),Re||(Re=l.createElement("g",{stroke:"#9FA1B8",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.8,clipPath:"url(#unique-click_svg__a)"},l.createElement("path",{d:"M8 13V4.5a1.5 1.5 0 0 1 3 0V12m0-.5v-2a1.5 1.5 0 1 1 3 0V12m0-1.5a1.5 1.5 0 1 1 3 0V12"}),l.createElement("path",{d:"M17 11.5a1.5 1.5 0 1 1 3 0V16a6 6 0 0 1-6 6h-2 .208a6 6 0 0 1-5.012-2.7L7 19q-.468-.718-3.286-5.728a1.5 1.5 0 0 1 .536-2.022 1.87 1.87 0 0 1 2.28.28L8 13M5 3 4 2m0 5H3m11-4 1-1m0 4h1"}))),Ie||(Ie=l.createElement("defs",null,l.createElement("clipPath",{id:"unique-click_svg__a"},l.createElement("path",{fill:"#fff",d:"M0 0h24v24H0z"})))))};function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Je.apply(null,arguments)}var Ge=function(e){return l.createElement("svg",Je({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),Ue||(Ue=l.createElement("g",{stroke:"#9FA1B8",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,clipPath:"url(#tag_svg__a)"},l.createElement("path",{d:"M3 8v4.172a2 2 0 0 0 .586 1.414l5.71 5.71a2.41 2.41 0 0 0 3.408 0l3.592-3.592a2.41 2.41 0 0 0 0-3.408l-5.71-5.71A2 2 0 0 0 9.172 6H5a2 2 0 0 0-2 2"}),l.createElement("path",{d:"m18 19 1.592-1.592a4.82 4.82 0 0 0 0-6.816L15 6m-8 4h-.01"}))),Ve||(Ve=l.createElement("defs",null,l.createElement("clipPath",{id:"tag_svg__a"},l.createElement("path",{fill:"#fff",d:"M0 0h24v24H0z"})))))};const Ke=(0,d.Ng)(function(e){return{clicks:e.clicks,terms:e.terms}},function(e){return{get_analytics_unique_list_by_id:(0,u.zH)(F.Nr,e),get_analytics_graph_by_tag:(0,u.zH)(F.MI,e),fetch_all_tags:(0,u.zH)(Me.fetch_all_tags,e)}})(function(e){var t=(0,l.useState)(!1),n=(0,r.A)(t,2),a=n[0],i=n[1],c=e.tag_id,s=e.clicks,o=s.tag_clicks,u=s.tag_graphs,d=e.terms,m=d.tags,h=d.tag_analytics,g=(null==e?void 0:e.propsForAnalytics)||{},y=g.customDateFilter,p=g.setCustomDateFilter;(0,l.useEffect)(function(){var t=(0,b.Yq)(y[0].startDate,"yyyy-mm-dd"),n=(0,b.Yq)(y[0].endDate,"yyyy-mm-dd")||(0,b.Yq)(new Date,"yyyy-mm-dd"),a=(0,f.A)(new Date,30);a=t||(0,b.Yq)(a,"yyyy-mm-dd"),null!=o&&o[c]||e.get_analytics_unique_list_by_id({from:a,to:n,tag_id:c,setLoading:i}),null!=u&&u[c]||e.get_analytics_graph_by_tag({from:a,to:n,tag_id:c,setLoading:i}),m||e.fetch_all_tags()},[c]);var v=(0,l.useCallback)(function(){var e;return{tagName:null==m||null===(e=m.find(function(e){return e.id===c}))||void 0===e?void 0:e.term_name,totalClicks:(null==h?void 0:h.total_clicks[c])||0,uniqueClicks:(null==h?void 0:h.unique_clicks[c])||0}},[m])(),_=(0,l.useCallback)(function(){return null!=o&&o[c]?(0,N.A)(new Set(o[c].map(function(e){return e.ip}))).length:0},[o,c])(),k=function(){return(0,l.createElement)(Le.Ay,{speed:2,width:"100%",height:10,viewBox:"0 0 300 10",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},(0,l.createElement)("rect",{x:"1",y:"2",rx:"3",ry:"3",width:"196",height:"13"}))};return(0,l.createElement)("div",{className:"btl-analytic"},(0,l.createElement)(De,{data:W((null==u?void 0:u[c])||{total_count:[],unique_count:[]}),customDateFilter:y,setCustomDateFilter:p,loading:a,setLoading:i,uniqueIpCount:_}),(null==v?void 0:v.tagName)&&(0,l.createElement)("div",{className:"btl-single-click-info-header"},(0,l.createElement)("div",{className:"btl-single-click-tag-info"},(0,l.createElement)("div",{className:"btl-single-info--name"},(0,l.createElement)("span",{className:"btl-single-info-svg-icon"},(0,l.createElement)(Ge,null)),(0,l.createElement)("span",{className:"btl-column-name",style:{marginRight:"5px"}},"Tag Name:"),(0,l.createElement)("span",{className:"btl-link-name",title:null==v?void 0:v.tagName},(null==v?void 0:v.tagName)||(0,l.createElement)(k,null))),(0,l.createElement)("div",{className:"btl-single-info--name"},(0,l.createElement)("span",{className:"btl-single-info-svg-icon"},(0,l.createElement)(Ye,null)),(0,l.createElement)("span",{className:"btl-column-name",style:{marginRight:"5px"}},"Total Clicks:"),(0,l.createElement)("span",{className:"btl-link-name",title:"".concat(null==v?void 0:v.totalClicks," Clicks")},(null==v?void 0:v.totalClicks)||(0,l.createElement)(k,null))),(0,l.createElement)("div",{className:"btl-single-info--name",style:{marginRight:"15px"}},(0,l.createElement)("span",{className:"btl-single-info-svg-icon"},(0,l.createElement)(We,null)),(0,l.createElement)("span",{className:"btl-column-name",style:{marginRight:"5px"}},"Unique Clicks:"),(0,l.createElement)("span",{className:"btl-link-name",title:"".concat(null==v?void 0:v.uniqueClicks," Clicks")},(null==v?void 0:v.uniqueClicks)||(0,l.createElement)(k,null))))),(0,l.createElement)("div",{className:"btl-analytic-table-wrapper btl-analytic-table-wrapper-manage-tags"},(0,l.createElement)(te,{analyticsTab:null,unique_list:null==o?void 0:o[c],loading:a,id:c,from:"manage_tags"})))});function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach(function(t){(0,a.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const $e=function(){var e=(0,l.useState)([{startDate:betterLinksHooks.applyFilters("betterLinksAnalyticsFilterStartDate",(0,f.A)(new Date,30)),endDate:new Date,key:"selection"}]),t=(0,r.A)(e,2),n={customDateFilter:t[0],setCustomDateFilter:t[1],isResetAnalytics:!0},a=c.parse(location.search),u=betterLinksQuery.get("id"),d=betterLinksQuery.get("tag_id");return(0,l.createElement)(i().Fragment,null,(0,l.createElement)(o.A,{propsForAnalytics:n,label:(0,s.__)("BetterLinks Analytics","betterlinks")}),d?(0,l.createElement)(Ke,{propsForAnalytics:n,tag_id:d}):betterLinksHooks.applyFilters("analyticsInnerChild",u?(0,l.createElement)(Fe,{id:u,propsForAnalytics:n}):(0,l.createElement)(Pe,{propsForAnalytics:n}),Xe(Xe({},a),{},{Chart:m.A})))}}}]);