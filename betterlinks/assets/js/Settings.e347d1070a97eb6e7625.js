"use strict";(globalThis.webpackChunkbetterlinks=globalThis.webpackChunkbetterlinks||[]).push([[248],{9255(e,t,l){l.d(t,{A:()=>u});var a=l(4467),n=l(3453),r=l(1609),s=l.n(r),i=l(4949),o=l(6005);function c(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),l.push.apply(l,a)}return l}function m(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?c(Object(l),!0).forEach(function(t){(0,a.A)(e,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):c(Object(l)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))})}return e}l(7723),l(9735);const u=function(e){var t=(0,i.Mt)(e.name),l=(0,n.A)(t,3),a=l[0],c=l[2].setValue,u=(0,r.useState)(null),b=(0,n.A)(u,2),d=b[0],p=b[1];return(0,r.useEffect)(function(){var t=(e.value||[]).find(function(e){return e.value===a.value});if(t)p(t);else{var l=(e.value||[]).find(function(t){return t.value===(e.defaultValue||"307")});l&&(p(l),c(l.value,!1),e.setFieldValue(a.name,l.value))}},[a.value,e.value,e.defaultValue]),(0,r.createElement)(s().Fragment,null,(0,r.createElement)(o.Ay,{className:"btl-modal-select--full ".concat(e.value&&e.value.find(function(e){return"pro"==e.value})?"btl-modal-select-need-pro-teaser":""),classNamePrefix:"btl-react-select",id:a.id,name:a.name,onChange:function(t){if(null==t)return e.setFieldValue(a.name,"");"pro"!==(null==t?void 0:t.value)?(p(t),null!=e&&e.isQuickSetup?(e.setFieldValue(a.name,null==t?void 0:t.value),null==e||e.setSettings(function(l){return m(m({},l),{},{redirect_type:e.isMulti?t.map(function(e){return e.value}):t.value})})):e.setFieldValue(a.name,e.isMulti?t.map(function(e){return e.value}):t.value)):e.setUpgradeToProModal&&e.setUpgradeToProModal(!0)},options:e.value,value:d,isMulti:e.isMulti}))}},5051(e,t,l){l.d(t,{A:()=>s});var a=l(1609),n=l(7723),r=l(9735);const s=function(e){var t=e.mode,l=void 0===t?"#f2f2f2":t,s=e.noticeType,i=void 0===s?"warning":s,o=e.compatibleProVersion,c=e.notice;if((0,r.OS)(o))return"";var m={group:{marginLeft:0,padding:0},notice:{padding:"15px",background:l}};return(0,a.createElement)("div",{className:"btl-form-group ".concat(""!==i?"notice notice-"+i:""),style:m.group},(0,a.createElement)("div",{style:m.notice},(0,a.createElement)("b",{style:{fontWeight:700}},(0,n.__)("Note: ")),c))}},8987(e,t,l){l.d(t,{A:()=>u});var a=l(4467),n=l(45),r=l(1609),s=(l(7723),l(150)),i=l(5556),o=["title","is_pro"];function c(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),l.push.apply(l,a)}return l}var m={title:l.n(i)().string};function u(e){var t=e.title,l=void 0===t?"":t,i=e.is_pro,m=void 0!==i&&i,u=(0,n.A)(e,o);return(0,r.createElement)("div",function(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?c(Object(l),!0).forEach(function(t){(0,a.A)(e,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):c(Object(l)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))})}return e}({className:"btl-role-item btl-form-group"},u),(0,r.createElement)("label",{className:"btl-form-label"},l,m&&(0,r.createElement)(s.A,null)),(0,r.createElement)("div",{className:"link-options__body"},(0,r.createElement)("label",{className:"btl-checkbox-field"},(0,r.createElement)("input",{type:"checkbox",className:"btl-check",disabled:!0}),(0,r.createElement)("span",{className:"text"}))))}u.propTypes=m},700(e,t,l){l.d(t,{A:()=>b});var a=l(3453),n=l(1609),r=l.n(n),s=l(5556),i=l.n(s),o=l(4949),c=l(3503),m={catId:i().number,data:i().object,fieldName:i().string,setFieldValue:i().func},u=function(e){var t=e.catId,l=e.data,s=e.fieldName,i=e.setFieldValue,m=e.disabled,u=(0,o.Mt)(s),b=(0,a.A)(u,1)[0];return(0,n.createElement)(r().Fragment,null,l.terms?(0,n.createElement)(c.Ay,{className:"btl-modal-select",id:b.id,name:b.name,defaultValue:function(){if(!t){var e=l.terms.filter(function(e){return"uncategorized"==e.term_slug})[0];return{value:e.ID,label:e.term_name}}var a=l.terms.filter(function(e){return e.ID==t});if(a.length>0){var n=a[0];return{value:n.ID,label:n.term_name}}}(),classNamePrefix:"btl-react-select",onChange:function(e){return i(b.name,null==e?"":e.value)},options:l.terms.filter(function(e){return"category"==e.term_type&&"uncategorized"!=e.term_slug}).sort(function(e,t){return e.term_name.localeCompare(t.term_name)}).map(function(e){return{value:e.ID,label:e.term_name}}),isDisabled:m}):(0,n.createElement)("div",null,(0,n.createElement)(c.Ay,{className:"btl-modal-select",id:b.id,classNamePrefix:"btl-react-select",isDisabled:m})))};u.propTypes=m;const b=u},6560(e,t,l){l.d(t,{A:()=>L});var a=l(3453),n=l(45),r=l(1609),s=l.n(r),i=l(1225),o=l(8238),c=l(7723),m=l(9735),u=l(4086),b=l(7154),d=l(5458),p=l(8766),_=l(7400),f=l(312),k=l.n(f),g=l(20),v=l(979),E=l(2505),h=l.n(E),y=l(3348),N=[].concat((0,d.A)(g.c),[{label:"Delete All",range:function(){return{startDate:new Date("2000-01-01"),endDate:new Date}},isSelected:function(e){var t=new Date("2000-01-01"),l=new Date;return e.startDate.toDateString()===t.toDateString()&&e.endDate.toDateString()===l.toDateString()}}]);const x=(0,i.Ng)(function(){return{}},function(e){return{fetchCustomClicksData:(0,o.zH)(p.lC,e),dispatch_new_links_data:(0,o.zH)(_.dispatch_new_links_data,e),fetch_clicks_data:(0,o.zH)(p.AK,e),get_chart_data:(0,o.zH)(p.Hr,e),get_graph_data:(0,o.zH)(p.rF,e),get_medium_data:(0,o.zH)(p._I,e)}})(function(e){var t=e.fetchCustomClicksData,l=e.dispatch_new_links_data,n=e.fetch_clicks_data,s=e.get_chart_data,i=e.get_graph_data,o=e.get_medium_data,u=(e.propsForAnalytics||{}).customDateFilter,b=(0,r.useState)(0),d=(0,a.A)(b,2),p=d[0],_=d[1],f=(0,r.useState)(!1),E=(0,a.A)(f,2),x=E[0],w=E[1],C=(0,r.useState)(0),A=(0,a.A)(C,2),O=A[0],S=A[1],P=(0,r.useState)("reset_modal_step_1"),L=(0,a.A)(P,2),T=L[0],F=L[1],D=(0,r.useState)([{startDate:(0,v.A)(new Date,30),endDate:new Date,key:"selection"}]),M=(0,a.A)(D,2),j=M[0],V=M[1],B=(0,r.useState)(""),U=(0,a.A)(B,2),I=U[0],R=U[1],z=(0,r.useState)(0),H=(0,a.A)(z,2),W=H[0],q=H[1],G=(0,r.useState)((0,c.__)("Refresh Stats","betterlinks")),J=(0,a.A)(G,2),Y=J[0],K=J[1],Q=(0,r.useState)((0,c.__)("Active Now","betterlinks")),Z=(0,a.A)(Q,2),X=Z[0],$=Z[1],ee=(0,r.useState)(m.cw),te=(0,a.A)(ee,2),le=te[0],ae=te[1];(0,r.useEffect)(function(){var e,t;return x?null===(e=document)||void 0===e||null===(e=e.body)||void 0===e||null===(e=e.classList)||void 0===e||e.add("betterlinks-delete-clicks-modal-popup-opened"):null===(t=document)||void 0===t||null===(t=t.body)||void 0===t||null===(t=t.classList)||void 0===t||t.remove("betterlinks-delete-clicks-modal-popup-opened"),function(){var e;null===(e=document)||void 0===e||null===(e=e.body)||void 0===e||null===(e=e.classList)||void 0===e||e.remove("betterlinks-delete-clicks-modal-popup-opened")}},[x]);var ne=function(){clearTimeout(p),F("reset_modal_step_1"),w(!1),V([{startDate:(0,v.A)(new Date,30),endDate:new Date,key:"selection"}]),R("")},re=function(){ne()},se=(0,y.useLocation)(),ie=new URLSearchParams(se.search).get("id"),oe="RESET CLICKS"===I.trim();return(0,r.createElement)("div",{className:"btl-analytic-reset-wrapeer btl-btn-groups betterlinks"},(0,r.createElement)("button",{className:"button-secondary-gray btl-reset-analytics-initial-button",onClick:function(){w(!0),F("reset_modal_step_1")}},ie?"Reset Link Clicks":"Reset"),(0,r.createElement)("div",{className:"status btl-refresh-btn"},le?(0,r.createElement)(r.Fragment,null,(0,r.createElement)("img",{width:18,height:18,src:m.hq+"/assets/images/icons/refresh.svg",alt:"Refresh"}),(0,r.createElement)("button",{type:"button",onClick:function(){K((0,c.__)("Refreshing...","betterlinks")),h().post("".concat(ajaxurl,"?action=betterlinks/admin/analytics&security=").concat(m.sL)).then(function(e){if(e.data)if((0,m.o6)(null,(0,c.__)("Done!","betterlinks"),(0,c.__)("Refresh Stats","betterlinks"),K),u&&u[0]){var t={from:(0,m.Yq)(u[0].startDate,"yyyy-mm-dd"),to:(0,m.Yq)(u[0].endDate,"yyyy-mm-dd"),setLoading:function(){}};n(t),s(t),i(t),o(t)}else{var l={setLoading:function(){}};n(l),s(l),i(l),o(l)}},function(e){console.log(e)})},className:"btl-refresh-btn button button-primary"},Y)):(0,r.createElement)(r.Fragment,null,(0,r.createElement)("button",{type:"button",onClick:function(){$((0,c.__)("Activating...","betterlinks")),h().post("".concat(ajaxurl,"?action=betterlinks/admin/write_json_clicks&security=").concat(m.sL)).then(function(e){e.data&&((0,m.o6)(null,(0,c.__)("Activated!","betterlinks"),(0,c.__)("Active Now","betterlinks"),$),setTimeout(function(){ae(!0)},1500))},function(e){console.log(e)})},className:"btl-refresh-btn button button-primary"},X))),(0,r.createElement)(k(),{isOpen:x,onRequestClose:ne,ariaHideApp:!1,className:"".concat("reset_modal_step_1"!==T?"btl-anl-delete-clicks-modal":""),style:{position:"absolute",inset:"40px"}},(0,r.createElement)("div",{className:"btl-reset-modal-popup-wrapper ".concat("reset_modal_step_1"===T?"step-1-active":""," ").concat("reset_modal_step_2"===T?"step-2-active":"")},"reset_modal_step_1"!==T&&(0,r.createElement)("span",{className:"btl-close-modal",onClick:ne},(0,r.createElement)("i",{className:"btl btl-cancel"})),"reset_modal_step_1"===T&&(0,r.createElement)("div",{className:"btl-reset-modal-popup btl-reset-modal-popup-step-1 betterlinks-body"},(0,r.createElement)("div",{className:"btl-compact-date-picker"},(0,r.createElement)("div",{className:"btl-date-picker-title"},ie?"Select Date Range for Link Clicks":"Pick the range of BetterLinks Analytics that you want to reset."),(0,r.createElement)("button",{onClick:re,className:"btn-date-range-close"},(0,r.createElement)("span",{className:"dashicons dashicons-no-alt"})),(0,r.createElement)(g.Ur,{onChange:function(e){V([e.selection])},showSelectionPreview:!0,moveRangeOnFirstSelection:!1,months:2,ranges:j,direction:"horizontal",showMonthAndYearPickers:!0,showDateDisplay:!0,rangeColors:["#007cba"],color:"#007cba",staticRanges:N,inputRanges:[]}),(0,r.createElement)("div",{className:"btl-date-picker-actions"},(0,r.createElement)("button",{className:"button-primary btl-apply-date-range",onClick:function(){if(j&&j[0]){var e=(0,m.Yq)(j[0].startDate,"yyyy-mm-dd"),t=(0,m.Yq)(j[0].endDate,"yyyy-mm-dd"),l=new FormData;l.append("action","betterlinks/admin/get_clicks_count"),l.append("security",m.sL),l.append("from",e),l.append("to",t),null!==ie&&l.append("link_id",ie),h().post(ajaxurl,l).then(function(e){e.data&&e.data.success&&q(e.data.data.count||0),F("reset_modal_step_2"),R("")},function(e){console.log(e),q(0),F("reset_modal_step_2"),R("")})}}},(0,r.createElement)("img",{width:16,height:16,src:m.hq+"/assets/images/icons/trash-red.svg"}),"Reset Click"),(0,r.createElement)("button",{className:"button-primary btl-cancel-date-range",onClick:re},"Cancel")))),"reset_modal_step_2"===T&&(0,r.createElement)("div",{className:"btl-reset-modal-popup btl-reset-modal-popup-step-2 betterlinks-body"},(0,r.createElement)("img",{width:48,height:48,src:m.hq+"/assets/images/icons/warning.svg",alt:"Warning",className:"btl-warning-icon"}),(0,r.createElement)("div",{className:"btl-reset-modal-popup-title"},"This Action Cannot be Undone"),(0,r.createElement)("p",{className:"btl-delete-description"},"You are about to permanently delete click analytics from"),(0,r.createElement)("div",{className:"btl-analytics-dlt-date"},(0,r.createElement)("span",{className:"btl-date-range"},j[0].startDate.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})," – ",j[0].endDate.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})),"."),(0,r.createElement)("div",{className:"btl-delete-count-box"},"A total of ",(0,r.createElement)("strong",{className:"btl-delete-count"},W.toLocaleString())," click record",1!==W?"s":""," will be removed."),(0,r.createElement)("div",{className:"btl-confirmation-section"},(0,r.createElement)("div",{className:"btl-confirmation-label"},"To confirm, type ",(0,r.createElement)("b",null,"RESET CLICKS")),(0,r.createElement)("input",{type:"text",required:!0,className:"btl-modal-form-control btl-reset-confirmation-input",placeholder:"RESET CLICKS",value:I,onChange:function(e){R(e.target.value)}})),(0,r.createElement)("div",{className:"btl-btn-reset-popup-step-2-buttons"},(0,r.createElement)("button",{className:"btl-button-cancel btl-btn-reset-cancel",onClick:function(){return F("reset_modal_step_1")}},"Cancel"),(0,r.createElement)("button",{className:"btl-button-danger btl-btn-reset-apply-2 ".concat(oe?"":"disabled"),onClick:function(){if("RESET CLICKS"===I.trim()){if(j&&j[0]){var e=(0,m.Yq)(j[0].startDate,"yyyy-mm-dd"),a=(0,m.Yq)(j[0].endDate,"yyyy-mm-dd");F("deleting"),(0,m.Xq)(!1,e,a,ie).then(function(e){var a,r=setTimeout(function(){ne()},444e3);if(_(r),null!=e&&null!==(a=e.data)&&void 0!==a&&a.success){var c,b,d;if(S(null==e||null===(c=e.data)||void 0===c||null===(c=c.data)||void 0===c?void 0:c.count),t({data:null==e||null===(b=e.data)||void 0===b||null===(b=b.data)||void 0===b?void 0:b.new_clicks_data}),l({data:null==e||null===(d=e.data)||void 0===d||null===(d=d.data)||void 0===d?void 0:d.new_links_data}),u&&u[0]){var p={from:(0,m.Yq)(u[0].startDate,"yyyy-mm-dd"),to:(0,m.Yq)(u[0].endDate,"yyyy-mm-dd"),setLoading:function(){}};n(p),s(p),i(p),o(p)}else{var f={setLoading:function(){}};n(f),s(f),i(f),o(f)}F("success")}else F("failed")}).catch(function(e){console.log("---caught error on DeleteClicks",{err:e});var t=setTimeout(function(){ne()},3e3);_(t)})}}else{var r=document.querySelector(".btl-confirmation-input");r&&r.focus()}},disabled:!oe},(0,r.createElement)("img",{width:14,height:14,src:m.hq+"/assets/images/icons/delete.svg",alt:"Delete"}),"Delete"))),"deleting"===T&&(0,r.createElement)("div",{className:"btl-reset-deleting-modal"},(0,r.createElement)("img",{width:48,height:48,src:m.hq+"/assets/images/icons/warning.svg",alt:"Deleting",className:"btl-deleting-icon"}),(0,r.createElement)("div",{className:"btl-reset-deleting-modal-title"},"Processing..."),(0,r.createElement)("div",{className:"btl-reset-deleting-modal-description"},"Deleting click analytics data from ",(0,r.createElement)("span",{className:"btl-date-range-processing"}," ",j[0].startDate.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"})," to ",j[0].endDate.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"})," ")," ."),(0,r.createElement)("div",{className:"btl-reset-deleting-modal-processing"}," This may take a moment.")),"success"===T&&0!==O&&(0,r.createElement)("div",{className:"btl-reset-finish-modal"},(0,r.createElement)("img",{width:90,height:90,src:m.hq+"/assets/images/icons/completed.svg"}),(0,r.createElement)("span",{className:"btl-reset-finish-modal-title"},O," Click data has been successfully deleted"),(0,r.createElement)("span",{className:"btl-reset-finish-modal-description"},"Click data has been successfully deleted for ",j[0].startDate.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"})," to ",j[0].endDate.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"}),"."),(0,r.createElement)("button",{className:"button-primary btl-cancel-finish-date-range",onClick:re},"Back to Analytics")),"success"===T&&0===O&&(0,r.createElement)("div",{className:"btl-reset-not-found-wrapper"},(0,r.createElement)("img",{width:90,height:90,src:m.hq+"/assets/images/icons/not-found.svg"}),(0,r.createElement)("h2",{className:"btl-reset-not-found-modal-title"},"No clicks data found ",ie?"for this link ":"","in the selected date range ",(0,r.createElement)("span",{className:"btl-reset-date-range"}," ",j[0].startDate.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"})," to ",j[0].endDate.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"})," "))),"failed"===T&&(0,r.createElement)("h2",null,"Failed!!"))))});var w=l(5556),C=l.n(w),A=l(150),O=["is_pro","render"],S={label:C().string,render:C().func},P=function(e){var t=e.is_pro,l=void 0!==t&&t,i=e.render,o=void 0===i?function(){}:i,u=(0,n.A)(e,O),b=u.propsForAnalytics,d=u.activity.darkMode,p=(0,r.useState)(d),_=(0,a.A)(p,2),f=_[0],k=_[1];(0,r.useEffect)(function(){d?document.body.classList.add("betterlinks-dark-mode"):document.body.classList.remove("betterlinks-dark-mode")},[]);var g=betterLinksQuery.get("page"),v=u.favouriteSort.sortByFav;return(0,r.createElement)("div",{className:"topbar"},(0,r.createElement)("div",{className:"topbar__logo_container"},(0,r.createElement)("div",{className:"topbar__logo"},(0,r.createElement)("img",{src:m.hq+"assets/images/logo-large".concat(f?"-white":"",".svg"),alt:"logo"}),(0,r.createElement)("span",{className:"topbar__logo__text"},u.label),l&&(0,r.createElement)(A.A,null)),o()),(0,r.createElement)("div",{className:"topbar-inner"},"betterlinks"===g&&(0,r.createElement)(s().Fragment,null,(0,r.createElement)("div",{className:"btl-view-control"},(0,r.createElement)("button",{title:(0,c.__)("Favorite Links","betterlinks"),className:"btl-link-view-toggler btl-sortby-fav ".concat(v?"active":""),onClick:function(){return u.sortFavourite(!v)}},(0,r.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"favorite-svg",viewBox:"0 0 512 512",xmlSpace:"preserve"},(0,r.createElement)("path",{className:"fav-icon-svg-path",d:"M392.2 317.5c-3 2.9-4.4 7.1-3.7 11.3L414 477.4c1.2 7-3.5 13.6-10.5 14.9-2.8.5-5.6 0-8.1-1.3L262 420.9c-3.7-2-8.2-2-12 0L116.6 491c-3.1 1.7-6.8 1.9-10.1.8-6-2.1-9.5-8.1-8.5-14.4l25.4-148.5c.7-4.2-.7-8.4-3.7-11.4L11.9 212.4c-5.1-5-5.2-13.1-.2-18.2 2-2 4.6-3.3 7.3-3.7l149.1-21.7c4.2-.6 7.8-3.2 9.7-7l66.7-135c2.6-5.3 8.4-8.1 14.2-6.9 3.9.7 7.2 3.3 8.9 6.9l66.7 135c1.9 3.8 5.5 6.4 9.7 7l149 21.6c7 1 11.9 7.6 10.9 14.6-.4 2.7-1.7 5.3-3.7 7.2l-108 105.3z"}))),(0,r.createElement)("button",{title:(0,c.__)("List View","betterlinks"),className:"btl-link-view-toggler ".concat("list"==u.activity.linksView?"active":""),onClick:function(){return u.linksView("list")}},(0,r.createElement)("i",{className:"btl btl-list"})),(0,r.createElement)("button",{title:(0,c.__)("Grid View","betterlinks"),className:"btl-link-view-toggler ".concat("grid"==u.activity.linksView?"active":""),onClick:function(){return u.linksView("grid")}},(0,r.createElement)("i",{className:"btl btl-grid"})))),(null==b?void 0:b.isResetAnalytics)&&(0,r.createElement)(x,{propsForAnalytics:b}),(0,r.createElement)("label",{className:"theme-mood-button",htmlFor:"theme-mood",title:(0,c.__)("Theme Mode","betterlinks")},(0,r.createElement)("input",{type:"checkbox",name:"theme-mood",id:"theme-mood",value:f,onChange:function(){return function(e){e?document.body.classList.add("betterlinks-dark-mode"):document.body.classList.remove("betterlinks-dark-mode"),u.update_theme_mode(e),k(e)}(!f)},checked:f}),(0,r.createElement)("span",{className:"theme-mood"},(0,r.createElement)("span",{className:"icon"},(0,r.createElement)("i",{className:"btl btl-sun"})),(0,r.createElement)("span",{className:"icon"},(0,r.createElement)("i",{className:"btl btl-moon"}))))))};P.propTypes=S;const L=(0,i.Ng)(function(e){return{activity:e.activity,favouriteSort:e.favouriteSort}},function(e){return{linksView:(0,o.zH)(u.xb,e),sortFavourite:(0,o.zH)(b.sortFavourite,e),update_theme_mode:(0,o.zH)(u.Q7,e)}})(P)},9376(e,t,l){l.r(t),l.d(t,{default:()=>gt});var a=l(3453),n=l(1609),r=l.n(n),s=l(7723),i=l(9555),o=l(3348),c=l(1225),m=l(8238),u=l(138),b=l(9465),d=l(6560),p=l(5458),_=l(4467),f=l(4949),k=l(2505),g=l.n(k),v=l(9255),E=l(6005);const h=function(e){var t=(0,f.Mt)(e.name),l=(0,a.A)(t,3),i=l[0],o=l[2].setValue,c=(0,n.useState)(null),m=(0,a.A)(c,2),u=m[0],b=m[1];return(0,n.useEffect)(function(){if(e.options&&0!==e.options.length&&(1!==e.options.length||"loading"!==e.options[0].value)){if(i.value){var t=e.options.find(function(e){return e.value===i.value});if(t)return void b(t)}var l=e.defaultValue||"1",a=e.options.find(function(e){return e.value===l});if(a)b(a),o(l,!1),e.setFieldValue(i.name,l);else{var n=e.options[0];n&&"loading"!==n.value&&(b(n),o(n.value,!1),e.setFieldValue(i.name,n.value))}}},[i.value,e.options,e.defaultValue]),(0,n.createElement)(r().Fragment,null,(0,n.createElement)(E.Ay,{className:"btl-modal-select--full",classNamePrefix:"btl-react-select",id:i.id,name:i.name,onChange:function(t){if(!t||"loading"!==t.value)if(null!=t)b(t),e.setFieldValue(i.name,t.value);else{var l=(e.options||[]).find(function(e){return"1"===e.value});l?(b(l),e.setFieldValue(i.name,"1")):e.setFieldValue(i.name,"1")}},options:e.options,value:u,isMulti:!1,placeholder:e.options&&1===e.options.length&&"loading"===e.options[0].value?(0,s.__)("Loading...","betterlinks"):(0,s.__)("Select a category...","betterlinks"),isLoading:e.options&&1===e.options.length&&"loading"===e.options[0].value}))};var y=l(5556),N=l.n(y),x={name:N().string,options:N().array,defaultValue:N().string,setFieldValue:N().func,className:N().string,classNamePrefix:N().string,isMulti:N().bool,placeholder:N().string},w=function(e){var t=(0,f.Mt)(e.name),l=(0,a.A)(t,3),r=l[0],i=l[2].setValue,o=(0,n.useState)(null),c=(0,a.A)(o,2),m=c[0],u=c[1],b=(0,n.useRef)(!1),d=(0,n.useRef)(!1);return(0,n.useEffect)(function(){if(d.current){var t=(e.options||[]).find(function(e){return e.value===r.value});t&&(null==m?void 0:m.value)!==t.value&&u(t)}else if(!b.current){var l=(e.options||[]).find(function(t){return t.value===e.defaultValue}),a=(e.options||[]).find(function(e){return e.value===r.value});if(l)u(l),i(l.value,!1),e.setFieldValue(r.name,l.value);else if(a)u(a);else{var n=(e.options||[]).find(function(e){return"from_title"===e.value});n&&(u(n),i(n.value,!1),e.setFieldValue(r.name,n.value))}b.current=!0}},[r.value,e.options,e.defaultValue]),(0,n.createElement)(E.Ay,{name:e.name,options:e.options||[],value:m,onChange:function(t){if(null==t)return e.setFieldValue(r.name,"");d.current=!0,u(t),i(t.value,!1),e.setFieldValue(r.name,t.value)},className:e.className,classNamePrefix:e.classNamePrefix,isMulti:e.isMulti,placeholder:e.placeholder||(0,s.__)("Select option...","betterlinks"),isSearchable:!1})};w.propTypes=x,w.defaultProps={className:"",classNamePrefix:"btl-react-select",isMulti:!1,placeholder:""};const C=w;var A=l(8766),O=l(7783),S=l(2078),P=l(9735),L=l(150);function T(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),l.push.apply(l,a)}return l}function F(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?T(Object(l),!0).forEach(function(t){(0,_.A)(e,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):T(Object(l)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))})}return e}const D=(0,c.Ng)(function(e){return{clicks:e.clicks,postdatas:e.postdatas,terms:e.terms}},function(e){return{update_option:(0,m.zH)(u.YD,e),fetch_clicks_data:(0,m.zH)(A.AK,e)}})(function(e){var t=e.settings,l=e.fetch_clicks_data,i=e.terms,o=e.update_option,c=e.postdatas,m=(0,n.useState)((0,s.__)("Refresh Stats","betterlinks")),u=(0,a.A)(m,2),b=u[0],d=u[1],_=(0,n.useState)((0,s.__)("Active Now","betterlinks")),k=(0,a.A)(_,2),E=k[0],y=k[1],N=(0,n.useState)((0,s.__)("Save Settings","betterlinks")),x=(0,a.A)(N,2),w=x[0],A=x[1],T=(0,n.useState)(P.aT),D=(0,a.A)(T,2),M=D[0],j=D[1],V=(0,n.useState)((0,s.__)("Active Now","betterlinks")),B=(0,a.A)(V,2),U=B[0],I=B[1],R=(0,n.useState)(P.cw),z=(0,a.A)(R,2),H=z[0],W=z[1],q=(0,n.useState)(!1),G=(0,a.A)(q,2),J=G[0],Y=G[1],K=function(){y((0,s.__)("Activating...","betterlinks")),g().post("".concat(ajaxurl,"?action=betterlinks/admin/write_json_links&security=").concat(P.sL)).then(function(e){e.data&&((0,P.o6)(null,(0,s.__)("Activated!","betterlinks"),(0,s.__)("Active Now","betterlinks"),y),setTimeout(function(){j(!0)},1500))},function(e){console.log(e)})},Q=function(){I((0,s.__)("Activating...","betterlinks")),g().post("".concat(ajaxurl,"?action=betterlinks/admin/write_json_clicks&security=").concat(P.sL)).then(function(e){e.data&&((0,P.o6)(null,(0,s.__)("Activated!","betterlinks"),(0,s.__)("Refresh Stats","betterlinks"),I),setTimeout(function(){W(!0)},1500))},function(e){console.log(e)})},Z=function(){d((0,s.__)("Refreshing...","betterlinks")),g().post("".concat(ajaxurl,"?action=betterlinks/admin/analytics&security=").concat(P.sL)).then(function(e){e.data&&((0,P.o6)(null,(0,s.__)("Done!","betterlinks"),(0,s.__)("Refresh Stats","betterlinks"),d),l({}))},function(e){console.log(e)})},X=function(){Y(!0)};return(0,n.createElement)(r().Fragment,null,(0,n.createElement)(S.A,{isOpenModal:J,closeModal:function(){Y(!1)}}),(0,n.createElement)(f.l1,{enableReinitialize:!0,initialValues:F(F({},t),{},{url_slug_generation_type:(null==t?void 0:t.url_slug_generation_type)||"from_title"}),onSubmit:function(e){return(0,P.PW)(e,o,A)}},function(e){var l,a;return(0,n.createElement)(f.lV,null,(0,n.createElement)("div",{className:"btl-tab-panel-inner"},(0,n.createElement)("span",{className:"btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("Link Redirection Status","betterlinks")," ",(0,n.createElement)("br",null),(0,s.__)("(Fast Mode)","betterlinks")),(0,n.createElement)("div",{className:"btl-form-field"},(0,n.createElement)("div",{className:"status"},(0,n.createElement)("div",{className:"active-status ".concat(M?"Active":"Disable")},M?"Active":"Disable"),!M&&(0,n.createElement)("button",{type:"button",onClick:K,className:"button button-primary"},E)),(0,n.createElement)("div",{className:"short-description"},(0,n.createElement)("b",{style:{fontWeight:700}},(0,s.__)("Note: ")),(0,s.__)("If it's enabled, when you click on the link, it will fetch the target URL from the .json file and will redirect it. Otherwise, it will fetch directly from the database","betterlinks")))),(0,n.createElement)("span",{className:"btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label"},H?(0,s.__)("Fetch Analytics Data","betterlinks"):(0,n.createElement)(r().Fragment,null,(0,s.__)("Click Data Status ","betterlinks")," ",(0,n.createElement)("br",null)," ",(0,s.__)("(Fast Mode)","betterlinks"))),(0,n.createElement)("div",{className:"btl-form-field"},(0,n.createElement)("div",{className:"status"},(0,n.createElement)("div",{className:"active-status ".concat(H?"Active":"Disable")},H?"Active":"Disable"),H?(0,n.createElement)("button",{type:"button",onClick:Z,className:"button button-primary"},b):(0,n.createElement)("button",{type:"button",onClick:Q,className:"button button-primary"},U)),(0,n.createElement)("div",{className:"short-description"},(0,n.createElement)("b",{style:{fontWeight:700}},(0,s.__)("Note: ")),H?(0,s.__)("Analytics data is updated within 1 hour interval. Hit the 'Refresh Stats' button to instantly update your analytics data","betterlinks"):(0,s.__)("If it's enabled, before a link is redirected, the click data will be saved in the json file in 1 hour time interval. Otherwise, it will be directly inserted into the database","betterlinks")))),t&&(0,n.createElement)("span",{className:"btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("Redirect Type","betterlinks")),(0,n.createElement)(v.A,{className:"btl-modal-select--full",classNamePrefix:"btl-react-select",id:"redirect_type",name:"redirect_type",setUpgradeToProModal:Y,value:[].concat((0,p.A)(O.XN),[{value:P.JT?"cloak":"pro",label:P.JT?(0,s.__)("Cloaked","betterlinks"):(0,n.createElement)(n.Fragment,null,(0,s.__)("Cloaked","betterlinks"),(0,n.createElement)(L.A,null))}]),defaultValue:"cloak"!=t.redirect_type||P.JT?t.redirect_type:"307",setFieldValue:e.setFieldValue,isMulti:!1})),t&&(0,n.createElement)("span",{className:"btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("Default Category","betterlinks")),(0,n.createElement)(h,{name:"default_category",options:null!=i&&i.terms?[{value:"1",label:(0,s.__)("Uncategorized","betterlinks")}].concat((0,p.A)(i.terms.filter(function(e){return"category"===e.term_type&&"1"!==e.ID}).sort(function(e,t){return e.term_name.localeCompare(t.term_name)}).map(function(e){return{value:e.ID,label:e.term_name}}))):[{value:"loading",label:(0,s.__)("Loading...","betterlinks"),isDisabled:!0}],defaultValue:t.default_category||"1",setFieldValue:e.setFieldValue})),(0,n.createElement)("span",{className:"btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("Link Options","betterlinks")),(0,n.createElement)("div",{className:"link-options__body"},(0,n.createElement)("label",{className:"btl-checkbox-field block"},(0,n.createElement)(f.D0,{className:"btl-check",name:"nofollow",type:"checkbox",onChange:function(){return e.setFieldValue("nofollow",!e.values.nofollow)}}),(0,n.createElement)("span",{className:"text"},(0,s.__)("No Follow","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("This will add nofollow attribute to your link. (Recommended)","betterlinks"))))),(0,n.createElement)("label",{className:"btl-checkbox-field block"},(0,n.createElement)(f.D0,{className:"btl-check",name:"sponsored",type:"checkbox",onChange:function(){return e.setFieldValue("sponsored",!e.values.sponsored)}}),(0,n.createElement)("span",{className:"text"},(0,s.__)("Sponsored","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("This will add sponsored attribute to your link. (Recommended for Affiliate links)","betterlinks"))))),(0,n.createElement)("label",{className:"btl-checkbox-field block"},(0,n.createElement)(f.D0,{className:"btl-check",name:"param_forwarding",type:"checkbox",onChange:function(){return e.setFieldValue("param_forwarding",!e.values.param_forwarding)}}),(0,n.createElement)("span",{className:"text"},(0,s.__)("Parameter Forwarding","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("This will pass the parameters you have set in the target URL","betterlinks"))))),(0,n.createElement)("label",{className:"btl-checkbox-field block"},(0,n.createElement)(f.D0,{className:"btl-check",name:"track_me",type:"checkbox",onChange:function(){return e.setFieldValue("track_me",!e.values.track_me)}}),(0,n.createElement)("span",{className:"text"},(0,s.__)("Tracking","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("This will let you check Analytics report of your links","betterlinks"))))))),(0,n.createElement)("span",{className:"btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("URL Slug Generation","betterlinks")),(0,n.createElement)("div",null,(0,n.createElement)(C,{className:"btl-modal-select--full",classNamePrefix:"btl-react-select",id:"url_slug_generation_type",name:"url_slug_generation_type",options:O.L9,defaultValue:null!=t&&t.is_random_string?"random_number":t.url_slug_generation_type||"from_title",setFieldValue:e.setFieldValue,isMulti:!1}))),(0,n.createElement)("span",{className:"btl-form-group btl-form-group--make-center"},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("Case Sensitivity","betterlinks")),(0,n.createElement)("div",{className:"link-options__body",style:{flexDirection:"column"}},(0,n.createElement)("label",{className:"btl-checkbox-field block",style:{marginBottom:0}},(0,n.createElement)(f.D0,{type:"checkbox",className:"btl-check",name:"is_case_sensitive"}),(0,n.createElement)("span",{className:"text"},(0,s.__)("Enable Case Sensitive Links","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("This will make your shortened URLs case sensitive","betterlinks"))))))),(0,n.createElement)("span",{className:"btl-form-group btl-form-group--top"},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("Link Prefix","betterlinks")),(0,n.createElement)("div",{className:"link-options__body",style:{flexDirection:"column"}},(0,n.createElement)("div",{style:{maxWidth:"200px"}},(0,n.createElement)(f.D0,{className:"btl-text-field",name:"prefix",value:null!==(l=null===(a=e.values)||void 0===a?void 0:a.prefix)&&void 0!==l?l:"go",type:"text"})),(0,n.createElement)("div",{className:"short-description"},(0,n.createElement)("b",{style:{fontWeight:700}},(0,s.__)("Note:","betterlinks")," "),(0,s.__)("The prefix will be added before your Shortened URL’s slug eg.","betterlinks"),betterLinksHooks.applyFilters("site_url",P.IV),e.values.prefix&&(0,n.createElement)(n.Fragment,null,"/",(0,n.createElement)("strong",null,e.values.prefix)),(0,s.__)("/your-affiliate-link-name.","betterlinks")))),(0,n.createElement)("span",{className:"btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("Custom Domain","betterlinks")),(0,n.createElement)("div",{className:"link-options__body"},(0,n.createElement)("label",{className:"btl-checkbox-field block"},(0,n.createElement)(f.D0,{className:"btl-check",name:"enable_custom_domain_menu",type:"checkbox",onChange:function(){var t;return e.setFieldValue("enable_custom_domain_menu",!(null!==(t=e.values)&&void 0!==t&&t.enable_custom_domain_menu))}}),(0,n.createElement)("span",{className:"text"},(0,s.__)("Enable Custom Domain Menu","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("This will allow you to show Custom Domain on the BetterLinks submenu for quick access.","betterlinks"))))))),(0,n.createElement)("span",{className:"btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("QR Codes","betterlinks")),(0,n.createElement)("div",{className:"link-options__body"},(0,n.createElement)("label",{className:"btl-checkbox-field block"},(0,n.createElement)(f.D0,{className:"btl-check",name:"is_allow_qr",type:"checkbox",onChange:function(){return e.setFieldValue("is_allow_qr",!e.values.is_allow_qr)}}),(0,n.createElement)("span",{className:"text"},(0,s.__)("Enable QR Code Generator","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("This will allow you to generate & download QR Code for each of your shortened URL","betterlinks"))))))),(0,n.createElement)("span",{className:"btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("Auto Title Suggestion","betterlinks")),(0,n.createElement)("div",{className:"link-options__body"},(0,n.createElement)("label",{className:"btl-checkbox-field block"},(0,n.createElement)(f.D0,{className:"btl-check",name:"enable_auto_title_suggestion",type:"checkbox",checked:!1!==e.values.enable_auto_title_suggestion,onChange:function(){return e.setFieldValue("enable_auto_title_suggestion",!e.values.enable_auto_title_suggestion)}}),(0,n.createElement)("span",{className:"text"},(0,s.__)("Enable Auto Title Suggestion","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("When enabled, the Link Title will automatically be fetched from the target URL","betterlinks"))))))),(0,n.createElement)("span",{className:"btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("Wildcards","betterlinks")),(0,n.createElement)("div",{className:"link-options__body"},(0,n.createElement)("label",{className:"btl-checkbox-field block"},(0,n.createElement)(f.D0,{className:"btl-check",name:"wildcards",type:"checkbox",onChange:function(){return e.setFieldValue("wildcards",!e.values.wildcards)}}),(0,n.createElement)("span",{className:"text"},(0,s.__)("Use Wildcards?","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("To use wildcards, put an asterisk (*) after the folder name that you want to redirect.","betterlinks"))))))),(0,n.createElement)("span",{className:"btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("Bot Clicks","betterlinks")),(0,n.createElement)("div",{className:"link-options__body"},(0,n.createElement)("label",{className:"btl-checkbox-field block"},(0,n.createElement)(f.D0,{className:"btl-check",name:"disablebotclicks",type:"checkbox",onChange:function(){return e.setFieldValue("disablebotclicks",!e.values.disablebotclicks)}}),(0,n.createElement)("span",{className:"text"},(0,s.__)("Disable Bot Clicks","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("This will prevent your site from bot traffic","betterlinks"))))))),(0,n.createElement)("span",{className:"btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("Instant Redirect","betterlinks")),(0,n.createElement)("div",{className:"link-options__body"},(0,n.createElement)("label",{className:"btl-checkbox-field block"},(0,n.createElement)(f.D0,{className:"btl-check",name:"is_allow_gutenberg",type:"checkbox",onChange:function(){return e.setFieldValue("is_allow_gutenberg",!e.values.is_allow_gutenberg)}}),(0,n.createElement)("span",{className:"text"},(0,s.__)("Allow Instant Redirect","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("This will allow you to redirect your links instantly from Gutenberg and Elementor Editor.","betterlinks"))))))),(0,n.createElement)("span",{className:"btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("Disable Clicks IP","betterlinks")),(0,n.createElement)("div",{className:"link-options__body"},(0,n.createElement)("label",{className:"btl-checkbox-field block"},(0,n.createElement)(f.D0,{className:"btl-check",name:"is_disable_analytics_ip",type:"checkbox",onChange:function(){var t;return e.setFieldValue("is_disable_analytics_ip",!(null!=e&&null!==(t=e.values)&&void 0!==t&&t.is_disable_analytics_ip))}}),(0,n.createElement)("span",{className:"text"},(0,s.__)("Disable IP Addresses for Analytics","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("If checked, users' ip addresses won't be saved & won't be shown in analytics section","betterlinks"))))))),!P.JT&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("span",{className:"btl-form-group btl-form-group--teaser"},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("Force HTTPS","betterlinks")," ",(0,n.createElement)(L.A,null)),(0,n.createElement)("div",{className:"link-options__body"},(0,n.createElement)("label",{className:"btl-checkbox-field block",onClick:X},(0,n.createElement)("input",{className:"btl-check",name:"force_https",type:"checkbox",disabled:!0}),(0,n.createElement)("span",{className:"text"},(0,s.__)("Enable HTTPS Redirection","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("This will allow you to redirect your Target URLs in HTTPS.","betterlinks"))))))),(0,n.createElement)("span",{className:"btl-form-group btl-form-group--teaser btl-form-group-uncloaked-categories"},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("Uncloak Categories","betterlinks")," ",(0,n.createElement)(L.A,null)),(0,n.createElement)("div",{className:"link-options__body"},(0,n.createElement)("label",{className:"btl-checkbox-field block",onClick:X},(0,n.createElement)("input",{className:"btl-check",name:"is_autolink_headings",type:"checkbox",disabled:!0}),(0,n.createElement)("span",{className:"text"},(0,s.__)("Enable uncloaking categories","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("This will allow you to uncloak categories","betterlinks")))))))),betterLinksHooks.applyFilters("BetterLinksAddOptionSettingsTabGeneral",null,F(F({},e),{},{postdatas:c,terms:i})),(0,n.createElement)("button",{className:"button-primary btn-save-settings",type:"submit"},w)))}))});var M=l(467),j=l(9280),V=l.n(j);const B=function(e){var t=e.query,l=(0,n.useState)("default"),i=(0,a.A)(l,2),o=i[0],c=i[1],m=(0,n.useState)(""),u=(0,a.A)(m,2),b=u[0],d=u[1],p=(0,n.useState)("links"),_=(0,a.A)(p,2),f=_[0],k=_[1],v=(0,n.useState)({}),E=(0,a.A)(v,2),h=E[0],y=E[1],N=function(e){c(e.target.value)},x=function(e){k(e.target.value)};(0,n.useEffect)(function(){t.get("import")&&(g().post("".concat(ajaxurl,"?action=betterlinks/tools/get_import_info&security=").concat(P.KU)).then(function(e){y(JSON.parse(e.data.data))},function(e){console.log(e)}),console.log("import called"))},[]);var w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"links",l=new FormData;return"prettylinks"===e?(l.append("action","betterlinks/admin/run_prettylinks_migration"),l.append("re_run",!0)):"simple301redirects"===e?l.append("action","betterlinks/admin/run_simple301redirects_migration"):"thirstyaffiliates"===e&&l.append("action","betterlinks/admin/run_thirstyaffiliates_migration"),l.append("security",P.sL),l.append("type",t),g().post(ajaxurl,l).then(function(e){return e},function(e){return e})},C=function(){var e=(0,M.A)(V().mark(function e(t){var l,a,n;return V().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"default"===o){e.next=3;break}return e.next=1,w(o,"links");case 1:if(a=e.sent,null==(n=null===(l=a.data)||void 0===l?void 0:l.data)||!n.btl_prettylinks_migration_running_in_background){e.next=2;break}return y({btl_prettylinks_migration_running_in_background:"PrettyLinks migration running in background"}),e.abrupt("return");case 2:y(n);case 3:case"end":return e.stop()}},e)}));return function(_x){return e.apply(this,arguments)}}();return(0,n.createElement)(r().Fragment,null,(0,n.createElement)("div",{className:"btl-tab-inner-divider"},(0,n.createElement)("div",{className:"btl-tab-panel-inner"},(0,n.createElement)("h3",{className:"btl-tab-panel-header"},(0,s.__)("Choose an Option You want to Export","betterlinks")),(0,n.createElement)("form",{action:"admin.php?page="+t.get("page")+"&export=true&nonce="+P.sL,method:"POST"},(0,n.createElement)("div",{role:"group",className:"btl-radio-group","aria-labelledby":"my-radio-group"},(0,n.createElement)("div",null,(0,n.createElement)("label",{className:"btl-radio"},(0,n.createElement)("input",{type:"radio",name:"content",value:"links",checked:"links"===f,onChange:x}),(0,n.createElement)("span",null,(0,s.__)("Links","betterlinks")))),(0,n.createElement)("div",null,(0,n.createElement)("label",{className:"btl-radio"},(0,n.createElement)("input",{type:"radio",name:"content",value:"clicks",checked:"clicks"===f,onChange:x}),(0,n.createElement)("span",null,(0,s.__)("Analytics","betterlinks")))),(0,n.createElement)("div",null,(0,n.createElement)("label",{className:"btl-radio"},(0,n.createElement)("input",{type:"radio",name:"content",value:"simplecsvfile",checked:"simplecsvfile"===f,onChange:x}),(0,n.createElement)("span",null,(0,s.__)("Sample CSV File","betterlinks"))))),(0,n.createElement)("button",{type:"submit",className:"btl-export-download-button"},(0,s.__)("Export File","betterlinks")))),(0,n.createElement)("div",{className:"btl-tab-panel-inner"},(0,n.createElement)("h3",{className:"btl-tab-panel-header"},(0,s.__)("Choose the Plugin You Want to Import from","betterlinks")),(0,n.createElement)("form",{action:"admin.php?page="+t.get("page")+"&import=true&nonce="+P.sL,method:"POST",encType:"multipart/form-data"},(0,n.createElement)("div",{role:"group",className:"btl-radio-group","aria-labelledby":"my-radio-group"},(0,n.createElement)("div",null,(0,n.createElement)("label",{className:"btl-radio"},(0,n.createElement)("input",{type:"radio",name:"mode",value:"default",checked:"default"===o,onChange:N}),(0,n.createElement)("span",null,(0,s.__)("BetterLinks","betterlinks")))),(0,n.createElement)("div",null,(0,n.createElement)("label",{className:"btl-radio"},(0,n.createElement)("input",{type:"radio",name:"mode",value:"prettylinks",checked:"prettylinks"===o,onChange:N}),(0,n.createElement)("span",null,(0,s.__)("Pretty Links","betterlinks")))),(0,n.createElement)("div",null,(0,n.createElement)("label",{className:"btl-radio"},(0,n.createElement)("input",{type:"radio",name:"mode",value:"simple301redirects",checked:"simple301redirects"===o,onChange:N}),(0,n.createElement)("span",null,(0,s.__)("Simple 301 Redirects","betterlinks")))),(0,n.createElement)("div",null,(0,n.createElement)("label",{className:"btl-radio"},(0,n.createElement)("input",{type:"radio",name:"mode",value:"thirstyaffiliates",checked:"thirstyaffiliates"===o,onChange:N}),(0,n.createElement)("span",null,(0,s.__)("ThirstyAffiliates","betterlinks")))),"thirstyaffiliates"===o&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("input",{name:"ta_prefix",id:"ta_prefix",type:"text",placeholder:"Link Prefix",value:b,onChange:function(e){return d(e.target.value)}})),(0,n.createElement)("p",{className:"btl-file-chooser"},(0,n.createElement)("label",{htmlFor:"upload"},(0,s.__)("Choose the File You Want to Import","betterlinks")),(0,n.createElement)("input",{type:"file",id:"upload_file",name:"upload_file",size:"25",required:!0})),(0,n.createElement)("p",{className:"submit",style:{display:"flex",alignItems:"center",columnGap:"5px"}},(0,n.createElement)("input",{type:"submit",name:"submit",id:"submit",className:"button button-primary",value:(0,s.__)("Import File","betterlinks"),disabled:""}),"default"!==o&&(null===P.MH||void 0===P.MH?void 0:P.MH[o])&&(0,n.createElement)(n.Fragment,null,(0,s.__)("Or","betterlinks"),(0,n.createElement)("input",{type:"button",className:"button button-primary",value:(0,s.__)("Migrate from Database","betterlinks"),onClick:C}))))),(0,n.createElement)("div",{id:"response"},Object.keys(h||{}).length>0&&(0,n.createElement)("div",{className:"btl-migration-logs"},(0,n.createElement)("div",{className:"btl-migration-logs__item"},Object.entries(h||{}).map(function(e){var t=(0,a.A)(e,2),l=t[0],r=t[1];return Array.isArray(r)?null==r?void 0:r.map(function(e,t){return(0,n.createElement)("span",{key:t},e)}):(0,n.createElement)("span",{key:l},r)})))))))};var U=l(312),I=l.n(U),R=function(){return(0,n.createElement)("svg",{height:25,width:25,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 511.182 511.182",fill:"#F9A946",style:{marginLeft:"5px"}},(0,n.createElement)("path",{d:"M436.623 74.482c-95.297-99.308-266.746-99.313-362.039.003-96.332 92.527-99.652 257.411-7.629 354.056a7.5 7.5 0 0 0 11.052-10.142C-63.205 265.068 47.079 13.962 255.606 14.503c129.533-2.671 243.68 111.455 240.995 241.001.961 199.912-234.049 313.784-390.303 189.182a7.5 7.5 0 1 0-9.301 11.769c97.909 80.188 251.709 71.178 339.625-19.935 99.309-95.283 99.314-266.754.001-362.038z"}),(0,n.createElement)("path",{d:"M255.603 446.502c-42.759 0-81.317-15.354-95.577-25.033a7.5 7.5 0 0 0-8.423 12.411c131.426 78.739 311.216-18.2 309.999-178.38.002-113.586-92.41-205.998-205.998-205.998a7.5 7.5 0 0 0 0 15c253.06 9.612 252.95 372.444-.001 382z"}),(0,n.createElement)("path",{d:"M138.579 255.562c-2.237 8.349.153 16.809 6.556 23.211l58.132 58.132c9.62 9.62 25.949 9.641 35.591 0l84.563-84.562a7.5 7.5 0 0 0 0-10.606 7.5 7.5 0 0 0-10.606 0l-84.563 84.562c-3.923 3.922-10.455 3.922-14.378 0l-58.132-58.132c-8.729-8.729 5.493-23.262 14.377-14.378l45.64 45.64a7.5 7.5 0 0 0 10.606 0l114.724-114.724c4.181-4.18 10.048-3.493 14.065.525 1.183 1.183 6.756 7.409.312 13.853l-14.612 14.612a7.5 7.5 0 0 0 0 10.606 7.5 7.5 0 0 0 10.606 0l14.612-14.612c22.664-23.515-12.121-58.017-35.59-35.591l-109.421 109.42-40.337-40.337c-13.824-13.822-37.244-5.91-42.145 12.381zM204.42 55.696c-9.652 0-9.668 15 0 15 9.652 0 9.668-15 0-15zM156.392 75.496c-9.652 0-9.668 15 0 15 9.652 0 9.668-15 0-15zM115.125 122.052c9.652 0 9.668-15 0-15-9.652 0-9.668 15 0 15zM83.431 148.213c-9.652 0-9.668 15 0 15 9.652 0 9.668-15 0-15zM63.47 196.175c-9.652 0-9.668 15 0 15 9.652 0 9.668-15 0-15zM56.603 247.669c-9.652 0-9.668 15 0 15 9.652 0 9.668-15 0-15zM63.298 314.185c9.652 0 9.668-15 0-15-9.652 0-9.668 15 0 15zM83.098 347.213c-9.652 0-9.668 15 0 15 9.651 0 9.667-15 0-15zM114.653 403.48c9.652 0 9.668-15 0-15-9.651 0-9.667 15 0 15z"}))};const z=function(e){var t=(0,n.useState)("Run Migration"),l=(0,a.A)(t,2),i=l[0],c=l[1],m=(0,n.useState)(!0),u=(0,a.A)(m,2),b=u[0],d=u[1],p=(0,n.useState)(!1),_=(0,a.A)(p,2),k=_[0],v=_[1],E=(0,n.useState)({}),h=(0,a.A)(E,2),y=h[0],N=h[1],x=(0,n.useState)({}),w=(0,a.A)(x,2),C=w[0],A=w[1],O=(0,n.useState)({}),S=(0,a.A)(O,2),L=S[0],T=S[1],F=(0,n.useState)({}),D=(0,a.A)(F,2),M=D[0],j=D[1],V=(0,o.useHistory)(),B=e.redirect,U=void 0===B||B;function z(){d(!1),U&&(V.push(P.Y3+"admin.php?page=betterlinks"),V.go(0))}return(0,n.useEffect)(function(){"simple301redirects"===e.mode?(v(!0),g().post("".concat(ajaxurl,"?action=betterlinks/admin/get_simple301redirects_data&security=").concat(P.sL)).then(function(e){e&&(A(e.data.data),v(!1))},function(e){console.log(e)})):"prettylinks"===e.mode?(v(!0),g().post("".concat(ajaxurl,"?action=betterlinks/admin/get_prettylinks_data&security=").concat(P.sL)).then(function(e){e.data&&(N(e.data.data),v(!1))},function(e){console.log(e)})):"thirstyaffiliates"===e.mode&&(v(!0),g().post("".concat(ajaxurl,"?action=betterlinks/admin/get_thirstyaffiliates_data&security=").concat(P.sL)).then(function(e){e.data&&(T(e.data.data),v(!1))},function(e){console.log(e)}))},[]),(0,n.createElement)(r().Fragment,null,(0,n.createElement)(I(),{isOpen:b,shouldCloseOnOverlayClick:!1,onRequestClose:z,style:P.vu,ariaHideApp:!1},(0,n.createElement)("span",{className:"btl-close-modal",onClick:z},(0,n.createElement)("i",{className:"btl btl-cancel"})),0===Object.keys(M).length?(0,n.createElement)(f.l1,{initialValues:{checked:[]},onSubmit:function(t){return function(t){c((0,s.__)("Migration is in Progress...","betterlinks"));var l=new FormData;"prettylinks"===e.mode?l.append("action","betterlinks/admin/run_prettylinks_migration"):"simple301redirects"===e.mode?l.append("action","betterlinks/admin/run_simple301redirects_migration"):"thirstyaffiliates"===e.mode&&l.append("action","betterlinks/admin/run_thirstyaffiliates_migration"),l.append("security",P.sL),l.append("type",t.checked),g().post(ajaxurl,l).then(function(e){e.data&&(c((0,s.__)("Done!","betterlinks")),j(e.data.data))},function(e){console.log(e)})}(t)}},function(e){return e.values,(0,n.createElement)(f.lV,null,(0,n.createElement)("div",{className:"btl-modal-migration",role:"group","aria-labelledby":"checkbox-group"},k&&(0,n.createElement)("div",null,(0,s.__)("Please Wait...","betterlinks")),Object.keys(y).length>0&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("h3",{className:"btl-modal-migration__title"},(0,s.__)("Pick Data that You want to Import","betterlinks")," ",(0,n.createElement)("img",{width:"25",src:P.hq+"assets/images/pointing-down.svg",alt:"icon"})),(0,n.createElement)("div",{className:"btl-modal-migration__item"},(null==y?void 0:y.links_count)>0&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(f.D0,{id:"links",type:"checkbox",name:"checked",value:"links"}),(0,n.createElement)("label",{htmlFor:"links"},(0,s.__)("Links ","betterlinks"),"(".concat(y.links_count,")")))),(0,n.createElement)("div",{className:"btl-modal-migration__item"},(null==y?void 0:y.clicks_count)>0&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(f.D0,{id:"clicks",type:"checkbox",name:"checked",value:"clicks"}),(0,n.createElement)("label",{htmlFor:"clicks"},(0,s.__)("Clicks ","betterlinks"),"(".concat(y.clicks_count,")"))))),Object.keys(C).length>0&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("h3",{className:"btl-modal-migration__title"},(0,s.__)("Pick Data that You want to Import","betterlinks")," ",(0,n.createElement)("img",{width:"25",src:P.hq+"assets/images/pointing-down.svg",alt:"icon"})),(0,n.createElement)("div",{className:"btl-modal-migration__item"},C&&Object.keys(C).length>0&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(f.D0,{id:"links",type:"checkbox",name:"checked",value:"links"}),(0,n.createElement)("label",{htmlFor:"links"},(0,s.__)("Links ","betterlinks"),"(".concat(Object.keys(C).length,")"))))),Object.keys(L).length>0&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("h3",{className:"btl-modal-migration__title"},(0,s.__)("Pick Data that You want to Import","betterlinks")," ",(0,n.createElement)("img",{width:"25",src:P.hq+"assets/images/pointing-down.svg",alt:"icon"})),(0,n.createElement)("div",{className:"btl-modal-migration__item"},L&&Object.keys(L).length>0&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(f.D0,{id:"links",type:"checkbox",name:"checked",value:"links"}),(0,n.createElement)("label",{htmlFor:"links"},(0,s.__)("Links ","betterlinks"),"(".concat(Object.keys(L).length,")"))))),y.links&&0==y.links.length&&y.clicks&&0==y.clicks.length?(0,n.createElement)("h3",null,(0,s.__)("Nothing Found To Import","betterlinks")):(0,n.createElement)("button",{className:"button button-primary",type:"submit"},i)))}):(0,n.createElement)("div",{className:"btl-modal-migration"},(0,n.createElement)("div",{id:"response"},(0,n.createElement)("h3",null,M.btl_prettylinks_migration_running_in_background?(0,n.createElement)(n.Fragment,null,(0,s.__)("Migration is running in the background ","betterlinks"),(0,n.createElement)(R,null)):(0,n.createElement)(n.Fragment,null,(0,s.__)("Migration is Complete","betterlinks"),(0,n.createElement)("img",{width:"25",src:P.hq+"assets/images/checkmark.svg",alt:"icon"}))),!M.btl_prettylinks_migration_running_in_background&&Object.entries(M).map(function(e){var t=(0,a.A)(e,2),l=(t[0],t[1]);return Object.entries(l).length>0&&Object.entries(l).map(function(e){var t=(0,a.A)(e,2),l=t[0],r=t[1];return(0,n.createElement)("div",{key:l},Array.isArray(r)?r.map(function(e,t){return(0,n.createElement)("div",{key:t},e)}):r)})})),(0,n.createElement)("p",{style:{textAlign:"left"}},(0,n.createElement)("button",{className:"button button-primary",type:"button",onClick:z},(0,s.__)("Ok","betterlinks"))))))};var H=l(3029),W=l(2901),q=l(6822),G=l(3954),J=l(5501);function Y(e,t,l){return t=(0,G.A)(t),(0,q.A)(e,K()?Reflect.construct(t,l||[],(0,G.A)(e).constructor):t.apply(e,l))}function K(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(K=function(){return!!e})()}var Q=function(e){function t(e){var l;return(0,H.A)(this,t),(l=Y(this,t,[e])).state={isOpenModal:!1},l.openModal=l.openModal.bind(l),l.closeModal=l.closeModal.bind(l),l}return(0,J.A)(t,e),(0,W.A)(t,[{key:"openModal",value:function(){this.setState({isOpenModal:!0})}},{key:"closeModal",value:function(){this.setState({isOpenModal:!1})}},{key:"render",value:function(){var e=this,t={editor:"Editor",author:"Author",contributor:"Contributor",subscriber:"Subscriber"};return(0,n.createElement)(r().Fragment,null,(0,n.createElement)(S.A,{isOpenModal:this.state.isOpenModal,closeModal:this.closeModal}),(0,n.createElement)("div",{className:"btl-tab-inner-divider-2"},(0,n.createElement)("div",{className:"btl-tab-panel-inner"},(0,n.createElement)("div",{className:"btl-role-container teaser"},(0,n.createElement)("form",{className:"form",onSubmit:function(t){t.preventDefault(),e.openModal()},id:"rolemanagement"},(0,n.createElement)("div",{className:"btl-role-item btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("Who Can View Links?","betterlinks")," ",(0,n.createElement)(L.A,null)),(0,n.createElement)("div",{className:"writelinks link-options__body",onClick:function(){return e.openModal()}},Object.entries(t).map(function(e,t){var l=(0,a.A)(e,2),r=l[0],s=l[1];return(0,n.createElement)("label",{htmlFor:"viewlinks_".concat(t),key:"viewlinks_".concat(t),className:"btl-checkbox-field block"},(0,n.createElement)("input",{id:"viewlinks_".concat(t),type:"checkbox",name:"viewlinks",className:"btl-check",value:r,disabled:!0})," ",(0,n.createElement)("span",{className:"text"},s))}))),(0,n.createElement)("div",{className:"btl-role-item btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("Who Can Create Links?","betterlinks")," ",(0,n.createElement)(L.A,null)),(0,n.createElement)("div",{className:"writelinks link-options__body",onClick:function(){return e.openModal()}},Object.entries(t).map(function(e,t){var l=(0,a.A)(e,2),r=l[0],s=l[1];return(0,n.createElement)("label",{htmlFor:"writelinks_".concat(t),key:"writelinks_".concat(t),className:"btl-checkbox-field block"},(0,n.createElement)("input",{id:"writelinks_".concat(t),type:"checkbox",name:"writelinks",className:"btl-check",value:r,disabled:!0})," ",(0,n.createElement)("span",{className:"text"},s))}))),(0,n.createElement)("div",{className:"btl-role-item btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("Who Can Edit Links?","betterlinks")," ",(0,n.createElement)(L.A,null)),(0,n.createElement)("div",{className:"editlinks link-options__body",onClick:function(){return e.openModal()}},Object.entries(t).map(function(e,t){var l=(0,a.A)(e,2),r=l[0],s=l[1];return(0,n.createElement)("label",{htmlFor:"editlinks_".concat(t),key:"editlinks_".concat(t),className:"btl-checkbox-field block"},(0,n.createElement)("input",{id:"editlinks_".concat(t),type:"checkbox",name:"editlinks",className:"btl-check",value:r,disabled:!0})," ",(0,n.createElement)("span",{className:"text"},s))}))),(0,n.createElement)("div",{className:"btl-role-item btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("Who Can Check Analytics?","betterlinks")," ",(0,n.createElement)(L.A,null)),(0,n.createElement)("div",{className:"checkanalytics link-options__body",onClick:function(){return e.openModal()}},Object.entries(t).map(function(e,t){var l=(0,a.A)(e,2),r=l[0],s=l[1];return(0,n.createElement)("label",{htmlFor:"checkanalytics_".concat(t),key:"checkanalytics_".concat(t),className:"btl-checkbox-field block"},(0,n.createElement)("input",{id:"checkanalytics_".concat(t),type:"checkbox",name:"checkanalytics",className:"btl-check",value:r,disabled:!0})," ",(0,n.createElement)("span",{className:"text"},s))}))),(0,n.createElement)("div",{className:"btl-role-item btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("Who Can Edit Settings?","betterlinks")," ",(0,n.createElement)(L.A,null)),(0,n.createElement)("div",{className:"checkanalytics link-options__body",onClick:function(){return e.openModal()}},Object.entries(t).map(function(e,t){var l=(0,a.A)(e,2),r=l[0],s=l[1];return(0,n.createElement)("label",{htmlFor:"editsettings_".concat(t),key:"editsettings_".concat(t),className:"btl-checkbox-field block"},(0,n.createElement)("input",{id:"editsettings_".concat(t),type:"checkbox",name:"editsettings",className:"btl-check",value:r,disabled:!0})," ",(0,n.createElement)("span",{className:"text"},s))}))),(0,n.createElement)("div",{className:"btl-role-item btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label"},(0,n.createElement)("span",null,(0,s.__)("Who can Mark Links as","betterlinks")," ",(0,n.createElement)("br",null),(0,s.__)("Favorite/Unfavorite?","betterlinks")),(0,n.createElement)(L.A,null)),(0,n.createElement)("div",{className:"editFavorite link-options__body",onClick:function(){return e.openModal()}},Object.entries(t).map(function(e,t){var l=(0,a.A)(e,2),r=l[0],s=l[1];return(0,n.createElement)("label",{htmlFor:"editFavorite_".concat(t),key:"editFavorite_".concat(t),className:"btl-checkbox-field block"},(0,n.createElement)("input",{id:"editFavorite_".concat(t),type:"checkbox",name:"editFavorite",className:"btl-check",value:r,disabled:!0}),(0,n.createElement)("span",{className:"text"},s))}))),(0,n.createElement)("div",{className:"btl-role-item btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label"},(0,n.createElement)("span",null,(0,s.__)("Who can Manage","betterlinks")," ",(0,n.createElement)("br",null),(0,s.__)("Tags & Categories?","betterlinks")),(0,n.createElement)(L.A,null)),(0,n.createElement)("div",{className:"editFavorite link-options__body",onClick:function(){return e.openModal()}},Object.entries(t).map(function(e,t){var l=(0,a.A)(e,2),r=l[0],s=l[1];return(0,n.createElement)("label",{htmlFor:"editFavorite_".concat(t),key:"editFavorite_".concat(t),className:"btl-checkbox-field block"},(0,n.createElement)("input",{id:"editFavorite_".concat(t),type:"checkbox",name:"editFavorite",className:"btl-check",value:r,disabled:!0}),(0,n.createElement)("span",{className:"text"},s))}))),(0,n.createElement)("div",{className:"btl-role-item btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label"},(0,n.createElement)("span",null,(0,s.__)("Who can Manage","betterlinks")," ",(0,n.createElement)("br",null),(0,s.__)("Link Scanner?","betterlinks")),(0,n.createElement)(L.A,null)),(0,n.createElement)("div",{className:"editFavorite link-options__body",onClick:function(){return e.openModal()}},Object.entries(t).map(function(e,t){var l=(0,a.A)(e,2),r=l[0],s=l[1];return(0,n.createElement)("label",{htmlFor:"editFavorite_".concat(t),key:"editFavorite_".concat(t),className:"btl-checkbox-field block"},(0,n.createElement)("input",{id:"editFavorite_".concat(t),type:"checkbox",name:"editFavorite",className:"btl-check",value:r,disabled:!0}),(0,n.createElement)("span",{className:"text"},s))}))))))))}}])}(r().Component);function Z(){return(0,n.createElement)(r().Fragment,null,(0,n.createElement)("div",{className:"btl-tab-inner-divider"},(0,n.createElement)("div",{className:"btl-tab-panel-inner"},(0,n.createElement)("div",{className:"btl-gopremium-container"},(0,n.createElement)("h3",{className:"btl-gopremium-title"},(0,s.__)("Why upgrade to ","betterlinks"),(0,n.createElement)("span",{className:"btl-gopremium-focus-text btl-text-orange"},"Premium Version?")),(0,n.createElement)("div",{className:"btl-gopremium-content"},(0,n.createElement)("p",null,(0,s.__)("Get access to Individual Analytics, Social Share for UTM Builder, Role Management, Google Analytics Integration & many more to run successful marketing campaigns.","betterlinks"))),(0,n.createElement)("div",{className:"btl-gopremium-footer"},(0,n.createElement)("p",null,(0,n.createElement)("img",{src:P.hq+"/assets/images/support.svg",alt:"support icon"}),(0,s.__)("World class support from our ","betterlinks"),(0,n.createElement)("span",{className:"btl-gopremium-focus-text btl-text-orange"},(0,s.__)(" dedicated team, 24/7.","betterlinks"))),(0,n.createElement)("a",{href:"https://wpdeveloper.com/in/upgrade-betterlinks",target:"_blank",title:(0,s.__)("Upgrade to PRO","betterlinks")},(0,n.createElement)("img",{src:P.hq+"/assets/images/crown.svg",alt:"crown icon"}),(0,s.__)("Upgrade to PRO","betterlinks")))))))}function X(e){return(0,n.createElement)(r().Fragment,null,(0,n.createElement)("div",{className:"btl-docs"},(0,n.createElement)("div",{className:"btl-doc"},(0,n.createElement)("div",{className:"btl-doc__icon"},(0,n.createElement)("img",{src:P.hq+"assets/images/doc.svg",alt:""})),(0,n.createElement)("h3",{className:"btl-doc__title"},(0,s.__)("Documentation","betterlinks")),(0,n.createElement)("p",{className:"btl-doc__content"},(0,s.__)("Get started by spending some time with the documentation to get familiar with BetterLinks. Create Shortened URLs and start cross-promoting your brands & products.","betterlinks")),(0,n.createElement)("a",{href:"https://betterlinks.io/docs/",className:"btl-doc__url",target:"_blank"},(0,s.__)("Documentation","betterlinks"),(0,n.createElement)("img",{src:P.hq+"assets/images/arrow-right.svg",alt:""}))),(0,n.createElement)("div",{className:"btl-doc"},(0,n.createElement)("div",{className:"btl-doc__icon"},(0,n.createElement)("img",{src:P.hq+"assets/images/user.svg",alt:""})),(0,n.createElement)("h3",{className:"btl-doc__title"},(0,s.__)("Need Help?","betterlinks")),(0,n.createElement)("p",{className:"btl-doc__content"},(0,s.__)("Stuck with something? Feel free to reach out to our Live Chat agent or create a support ticket.","betterlinks")),(0,n.createElement)("a",{href:"https://wpdeveloper.com/support/",className:"btl-doc__url",target:"_blank"},(0,s.__)("Get Help","betterlinks"),(0,n.createElement)("img",{src:P.hq+"assets/images/arrow-right.svg",alt:""}))),(0,n.createElement)("div",{className:"btl-doc"},(0,n.createElement)("div",{className:"btl-doc__icon"},(0,n.createElement)("img",{src:P.hq+"assets/images/community.svg",alt:""})),(0,n.createElement)("h3",{className:"btl-doc__title"},(0,s.__)("Join the Community","betterlinks")),(0,n.createElement)("p",{className:"btl-doc__content"},(0,s.__)("Join the Facebook community and discuss with fellow developers and users. Best way to connect with people and get feedback on your projects.","betterlinks")),(0,n.createElement)("a",{href:"https://www.facebook.com/groups/wpdeveloper.net/",className:"btl-doc__url",target:"_blank"},(0,s.__)("Join the Community","betterlinks"),(0,n.createElement)("img",{src:P.hq+"assets/images/arrow-right.svg",alt:""}))),(0,n.createElement)("div",{className:"btl-doc"},(0,n.createElement)("div",{className:"btl-doc__icon"},(0,n.createElement)("img",{src:P.hq+"assets/images/heart.svg",alt:""})),(0,n.createElement)("h3",{className:"btl-doc__title"},(0,s.__)("Show Your Love","betterlinks")),(0,n.createElement)("p",{className:"btl-doc__content"},(0,s.__)("We love to have you in BetterLinks family. We are making it more awesome everyday. Take your 2 minutes to review the plugin and spread the love to encourage us to keep it going.","betterlinks")),(0,n.createElement)("a",{href:"https://wpdeveloper.com/review-betterlinks",className:"btl-doc__url",target:"_blank"},(0,s.__)("Leave a Review","betterlinks"),(0,n.createElement)("img",{src:P.hq+"assets/images/arrow-right.svg",alt:""})))))}X.propTypes={};var $=l(702),ee=l(45),te=["title","is_pro","isMulti","defaultValue"];function le(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),l.push.apply(l,a)}return l}var ae={value:"",label:(0,s.__)("Select...","betterlinks")};const ne=function(e){var t=e.title,l=void 0===t?"":t,a=e.is_pro,r=void 0!==a&&a,s=e.isMulti,i=void 0!==s&&s,o=e.defaultValue,c=void 0===o?ae:o,m=(0,ee.A)(e,te);return(0,n.createElement)("div",function(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?le(Object(l),!0).forEach(function(t){(0,_.A)(e,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):le(Object(l)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))})}return e}({className:"btl-role-item btl-form-group"},m),(0,n.createElement)("label",{className:"btl-form-label"},l,r&&(0,n.createElement)("span",{class:"pro-badge"},"Pro")),(0,n.createElement)("div",{className:"link-options__body"},(0,n.createElement)(E.Ay,{isMulti:i,isDisabled:!0,defaultValue:c,className:"btl-modal-select--full",classNamePrefix:"btl-react-select"})))};var re=l(8987);const se=function(e){var t,l,r=e.props;if(null!==(t=r.values)&&void 0!==t&&null!==(t=t.cle)&&void 0!==t&&t.enable_cle&&null!==(l=r.values)&&void 0!==l&&null!==(l=l.cle)&&void 0!==l&&l.advanced_options){var i=(0,$.cN)(),o=(0,a.A)(i,3),c=o[0],m=o[1],u=o[2];return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(S.A,{isOpenModal:c,closeModal:u}),(0,n.createElement)("div",{className:"btl-cle-teaser",onClick:m},(0,n.createElement)(re.A,{title:(0,s.__)("No Follow","betterlinks")}),(0,n.createElement)(re.A,{title:(0,s.__)("Sponsored","betterlinks")}),(0,n.createElement)(re.A,{title:(0,s.__)("Parameter Forwarding","betterlinks")}),(0,n.createElement)(re.A,{title:(0,s.__)("Tracking","betterlinks")}),(0,n.createElement)(re.A,{title:(0,s.__)("Social Share","betterlinks")}),(0,n.createElement)("div",{className:"btl-cle-select-teaser"},(0,n.createElement)(ne,{title:(0,s.__)("BetterLink Category")}),(0,n.createElement)(ne,{title:(0,s.__)("Redirect Type")}))))}};function ie(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),l.push.apply(l,a)}return l}function oe(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(l),!0).forEach(function(t){(0,_.A)(e,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):ie(Object(l)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))})}return e}const ce=(0,c.Ng)(null,function(e){return{update_option:(0,m.zH)(u.YD,e)}})(function(e){var t=e.settings,l=e.terms,r=e.update_option,i=(0,n.useState)((0,s.__)("Save Settings","betterlinks")),o=(0,a.A)(i,2),c=o[0],m=o[1],u=(0,P.OS)("1.9.4");return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(f.l1,{enableReinitialize:!0,initialValues:oe({},t),onSubmit:function(e){var t;!P.l3&&null!=e&&null!==(t=e.cle)&&void 0!==t&&t.enable_cle||(0,P.PW)(e,r,m)}},function(e){var a,r,i,o,m;return(0,n.createElement)(f.lV,{className:"btl-cle"},(0,n.createElement)(ue,null),(null===(a=e.values)||void 0===a||null===(a=a.cle)||void 0===a?void 0:a.enable_cle)&&(0,n.createElement)(be,{cle:null===(r=e.values)||void 0===r?void 0:r.cle}),(0,n.createElement)(me,{props:e,isLatestVersion:u}),(null===(i=e.values)||void 0===i||null===(i=i.cle)||void 0===i?void 0:i.enable_cle)&&(null===(o=e.values)||void 0===o||null===(o=o.cle)||void 0===o?void 0:o.advanced_options)&&u&&betterLinksHooks.applyFilters("betterLinksCleAdvanced",(0,n.createElement)(se,{props:e}),oe(oe({},e),{},{settings:t,terms:l,redirectType:O.XN,Select2:E.Ay})),!u&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(se,{props:e}),(0,n.createElement)("div",{className:"btl-form-group"},(0,n.createElement)("div",{className:"short-description"},(0,n.createElement)("b",{style:{fontWeight:700}},(0,s.__)("Note: ")),(0,s.__)("To Configure the Advanced Options, kindly ensure that you have updated to the latest version of BetterLinks Pro","betterlinks")))),(0,n.createElement)("button",{className:"button-primary btn-save-settings",type:"submit",style:{cursor:P.l3||null===(m=e.values)||void 0===m||null===(m=m.cle)||void 0===m||!m.enable_cle?"pointer":"not-allowed"}},c))}))});var me=function(e){var t,l,r,i,o,c=e.props,m=e.isLatestVersion,u=(0,$.cN)(),b=(0,a.A)(u,3),d=b[0],p=b[1],_=b[2];return(0,n.useEffect)(function(){var e,t=null==c||null===(e=c.values)||void 0===e?void 0:e.cle;"string"==typeof t&&(t=JSON.parse(t)),t&&"powered_by"in t||c.setFieldValue("cle.powered_by",!0)},[]),(0,n.createElement)(n.Fragment,null,(0,n.createElement)(S.A,{isOpenModal:d,closeModal:_}),(0,n.createElement)("span",{className:"btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label",style:{"min-width":"120px"}},(0,s.__)("Enable Quick Link Creation","betterlinks")),(0,n.createElement)("div",{className:"btl-form-field"},(0,n.createElement)("label",{className:"btl-checkbox-field block"},(0,n.createElement)("input",{className:"btl-check",name:"cle.enable_cle",type:"checkbox",onChange:function(e){return c.setFieldValue("cle.enable_cle",e.target.checked)},checked:null===(t=c.values)||void 0===t||null===(t=t.cle)||void 0===t?void 0:t.enable_cle}),(0,n.createElement)("span",{className:"text"},(0,s.__)("","betterlinks"))))),(null===(l=c.values)||void 0===l||null===(l=l.cle)||void 0===l?void 0:l.enable_cle)&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("span",{className:"btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label",style:{"min-width":"120px"}},(0,s.__)("Enable Powered By","betterlinks")),(0,n.createElement)("div",{className:"btl-form-field"},(0,n.createElement)("label",{className:"btl-checkbox-field block"},(0,n.createElement)("input",{className:"btl-check",name:"cle.powered_by",type:"checkbox",onChange:function(e){return c.setFieldValue("cle.powered_by",e.target.checked)},checked:null===(r=c.values)||void 0===r||null===(r=r.cle)||void 0===r?void 0:r.powered_by}),(0,n.createElement)("span",{className:"text"},(0,s.__)("","betterlinks"))))),(0,n.createElement)("span",{className:"btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label",style:{"min-width":"120px"}},(0,s.__)("Advanced Options","betterlinks"),!P.JT&&(0,n.createElement)("span",{onClick:p,className:"pro-badge"},"Pro")),(0,n.createElement)("div",{className:"btl-form-field"},(0,n.createElement)("label",{className:"btl-checkbox-field block"},P.JT&&m?(0,n.createElement)(n.Fragment,null,(0,n.createElement)("input",{className:"btl-check",name:"cle.advanced_options",type:"checkbox",onChange:function(e){return c.setFieldValue("cle.advanced_options",e.target.checked)},checked:null===(i=c.values)||void 0===i||null===(i=i.cle)||void 0===i?void 0:i.advanced_options}),(0,n.createElement)("span",{className:"text"},(0,s.__)("","betterlinks"))):(0,n.createElement)("span",{onClick:function(){var e;return c.setFieldValue("cle.advanced_options",!(null!==(e=c.values)&&void 0!==e&&null!==(e=e.cle)&&void 0!==e&&e.advanced_options))},className:"dashicons dashicons-arrow-".concat(null!==(o=c.values)&&void 0!==o&&null!==(o=o.cle)&&void 0!==o&&o.advanced_options?"up":"down","-alt2")}))))))},ue=function(){return(0,n.createElement)("div",{className:"btl-form-group"},(0,n.createElement)("div",{className:"btl-form-field"},(0,n.createElement)("div",{className:"short-description"},(0,n.createElement)("b",{style:{fontWeight:700}},(0,s.__)("Note","betterlinks"),": "),(0,n.createElement)("span",null,(0,s.__)("It will allow you to create ","betterlinks")),(0,n.createElement)("span",null,(0,n.createElement)("strong",null,(0,s.__)("Quick Link ","betterlinks"))),(0,n.createElement)("span",null,(0,s.__)("directly from your bookmark. For more info, ","betterlinks")),(0,n.createElement)("a",{className:"external-analytic-tooltip-anchor",href:"https://betterlinks.io/docs/configure-quick-link-creation/",target:"_blank",style:{color:"inherit"}},(0,s.__)("Click here","betterlinks")))))},be=function(){return P.l3?(0,n.createElement)("div",{className:"btl-cle-dragable-section"},(0,n.createElement)("a",{onClick:function(e){return e.preventDefault()},href:"javascript:location.href='".concat(P.IV,"/index.php?action=btl_cle&api_key=").concat(P.l3,"&target_url='+escape(location.href)+'&title='+document.title"),className:"button button-primary"},(0,s.__)("Quick Link Creation","betterlinks")),(0,n.createElement)("span",null,(0,s.__)("Just Drag & Drop this button in your bookmark","betterlinks"))):(0,n.createElement)("div",{className:"notice notice-error",style:{marginLeft:"0",marginBottom:"15px",padding:"10px"}},(0,s.__)("'AUTH_KEY' is missing in your wp-config.php file. Please ensure that AUTH_KEY is defined in your wp-config.php file. For more info, ","betterlinks"),(0,n.createElement)("a",{className:"external-analytic-tooltip-anchor",href:"https://betterlinks.io/docs/configure-quick-link-creation/#8-toc-title",target:"_blank",style:{color:"inherit"}},(0,s.__)("Click here","betterlinks")))},de=l(5708),pe=l.n(de);function _e(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),l.push.apply(l,a)}return l}function fe(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(l),!0).forEach(function(t){(0,_.A)(e,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):_e(Object(l)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))})}return e}const ke=(0,c.Ng)(null,function(e){return{update_option:(0,m.zH)(u.YD,e)}})(function(e){var t=e.settings,l=e.update_option,r=e.postTypes,i=(0,n.useState)((0,s.__)("Save Settings","betterlinks")),o=(0,a.A)(i,2),c=o[0],m=o[1],u=(0,$.cN)(),b=(0,a.A)(u,3),d=b[0],p=b[1],_=b[2];return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(S.A,{isOpenModal:d,closeModal:_}),(0,n.createElement)(f.l1,{enableReinitialize:!0,initialValues:fe({},t),onSubmit:function(e){return(0,P.PW)(e,l,m)}},function(e){return(0,n.createElement)(f.lV,null,!P.JT&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(re.A,{title:(0,s.__)("Affiliate Link Disclosure","betterlinks"),onClick:p}),(0,n.createElement)(re.A,{title:(0,s.__)("Enable Preview","betterlinks"),onClick:p}),(0,n.createElement)(ne,{title:(0,s.__)("Enable by Default","betterlinks"),onClick:p}),(0,n.createElement)(ne,{title:(0,s.__)("Disclosure Position","betterlinks"),onClick:p}),(0,n.createElement)("div",{className:"btl-role-item btl-form-group",style:{marginBottom:"60px"}},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("Disclosure Content","betterlinks")),(0,n.createElement)("div",{className:"link-options__body"},(0,n.createElement)(pe(),{theme:"snow",value:"",onChange:p}))),(0,n.createElement)(re.A,{title:(0,s.__)("Advanced Options","betterlinks"),onClick:p})),betterLinksHooks.applyFilters("BetterLinksOptionsTabSettings",null,fe(fe({},e),{},{postTypes:r,ReactQuill:pe()})),P.JT&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("button",{className:"button-primary btn-save-settings",type:"submit"},c)))}))});function ge(e){var t=e.autoCreateLinkSettings,l=e.terms,a=e.setAutoCreateLinkSettings;return betterLinksHooks.applyFilters("BetterLinksAutoCreateLinksPro",(0,n.createElement)(ve,null),{autoCreateLinkSettings:t,terms:l,setAutoCreateLinkSettings:a})}var ve=function(){var e=(0,$.cN)(),t=(0,a.A)(e,3),l=t[0],r=t[1],i=t[2];return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(S.A,{isOpenModal:l,closeModal:i}),(0,n.createElement)(f.l1,null,(0,n.createElement)(f.lV,null,(0,n.createElement)(re.A,{title:(0,s.__)("Enable Auto-Create Links","betterlinks"),onClick:r}),(0,n.createElement)(re.A,{title:(0,s.__)("Post Shortlinks","betterlinks"),onClick:r}),(0,n.createElement)(ne,{title:(0,s.__)("BetterLinks Category"),onClick:r}),(0,n.createElement)(re.A,{title:(0,s.__)("Page Shortlinks","betterlinks"),onClick:r}),(0,n.createElement)(ne,{title:(0,s.__)("BetterLinks Category"),onClick:r}),(0,n.createElement)(re.A,{title:(0,s.__)("Custom Post Type Shortlinks","betterlinks"),onClick:r}),(0,n.createElement)(ne,{title:(0,s.__)("BetterLinks Category"),onClick:r}),(0,n.createElement)(ne,{title:(0,s.__)("Select Custom Post Types"),onClick:r}))))};function Ee(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),l.push.apply(l,a)}return l}function he(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(l),!0).forEach(function(t){(0,_.A)(e,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):Ee(Object(l)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))})}return e}const ye=(0,c.Ng)(null,function(e){return{update_option:(0,m.zH)(u.YD,e)}})(function(e){var t=e.settings,l=e.update_option,r=(0,n.useState)((0,s.__)("Save Settings","betterlinks")),i=(0,a.A)(r,2),o=i[0],c=i[1],m=(0,$.cN)(),u=(0,a.A)(m,3),b=u[0],d=u[1],p=u[2];return(0,P.OS)("1.8.0")?(0,n.createElement)(n.Fragment,null,(0,n.createElement)(S.A,{isOpenModal:b,closeModal:p}),(0,n.createElement)(f.l1,{enableReinitialize:!0,initialValues:he({},t),onSubmit:function(e){return(0,P.PW)(e,l,c)}},function(e){return(0,n.createElement)(f.lV,null,!P.JT&&(0,n.createElement)(re.A,{title:(0,s.__)("Enable Customize Link Preview","betterlinks"),onClick:d}),betterLinksHooks.applyFilters("BetterLinksCustomizeMetaTags",null,e),P.JT&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("button",{className:"button-primary btn-save-settings",type:"submit"},o)))})):(0,n.createElement)("div",{className:"btl-form-group"},(0,n.createElement)("div",{className:"short-description"},(0,n.createElement)("b",{style:{fontWeight:700}},(0,s.__)("Note: ")),(0,s.__)("To Utilize the Customize Link Preview Feature, kindly ensure that you have updated to the latest version of BetterLinks Pro v-1.8.0","betterlinks")))}),Ne=function(e){var t=e.title,l=void 0===t?"":t,a=e.onClick,r=void 0===a?function(){}:a,s=e.placeholder,i=void 0===s?"":s;return(0,n.createElement)("div",{className:"btl-role-item btl-form-group",onClick:r},(0,n.createElement)("label",{className:"btl-form-label"},l),(0,n.createElement)("div",{className:"link-options__body link-options__body_tracking"},(0,n.createElement)("input",{type:"text",className:"btl-text-field",disabled:!0,onClick:r,placeholder:i}),(0,n.createElement)("span",{className:"text"})))};function xe(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),l.push.apply(l,a)}return l}function we(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(l),!0).forEach(function(t){(0,_.A)(e,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):xe(Object(l)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))})}return e}const Ce=(0,c.Ng)(null,function(e){return{update_tracking_settings:(0,m.zH)(u.OK,e)}})(function(e){var t=e.trackingSettings,l=e.update_tracking_settings,r=(0,$.cN)(),i=(0,a.A)(r,3),o=i[0],c=i[1],m=i[2];return P.JT?betterLinksHooks.applyFilters("BetterLinksTrackingPro",null,we(we({},t),{},{update_tracking_settings:l})):(0,n.createElement)(n.Fragment,null,(0,n.createElement)(S.A,{isOpenModal:o,closeModal:m}),(0,n.createElement)("div",{className:"btl-tab-inner-divider"},(0,n.createElement)("div",{className:"btl-tracking-settings"},(0,n.createElement)("div",{className:"btl-external-analytics-container btl-googleanalytics-container teaser"},(0,n.createElement)("form",{className:"form",id:"googleAnalytics",onSubmit:function(e){e.preventDefault(),c()},action:"#"},(0,n.createElement)("div",{className:"btl-role-item btl-form-group",onClick:function(){return c()}},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("Enable Google Analytics","betterlinks")),(0,n.createElement)("div",{className:"link-options__body"},(0,n.createElement)("label",{className:"btl-checkbox-field"},(0,n.createElement)("input",{type:"checkbox",className:"btl-check",name:"is_enable_ga",disabled:!0}),(0,n.createElement)("span",{className:"text"})))))),(0,n.createElement)("div",{className:"btl-external-analytics-container btl-fb-pixel-container teaser"},(0,n.createElement)("form",{className:"form",id:"fbPixel",onSubmit:function(e){e.preventDefault(),c()},action:"#"},(0,n.createElement)("div",{className:"btl-role-item btl-form-group",onClick:function(){return c()}},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("Enable Facebook Pixel Tracking","betterlinks")),(0,n.createElement)("div",{className:"link-options__body"},(0,n.createElement)("label",{className:"btl-checkbox-field"},(0,n.createElement)("input",{type:"checkbox",className:"btl-check",name:"is_enable_pixel",disabled:!0}),(0,n.createElement)("span",{className:"text"})))))),(0,n.createElement)(Ne,{title:(0,s.__)("Custom Scripts","betterlinks"),onClick:c}),(0,n.createElement)("span",{className:"btl-form-group btl-multi-checkbox",style:{alignItems:"baseline"}},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("Parameter Tracking","betterlinks")),(0,n.createElement)("div",{className:"link-options__body",onClick:c},(0,n.createElement)("label",{className:"btl-checkbox-field block"},(0,n.createElement)("input",{className:"btl-check",type:"checkbox",disabled:!0}),(0,n.createElement)("span",{className:"text"},(0,s.__)("Forwarded Parameters","betterlinks"))),(0,n.createElement)("label",{className:"btl-checkbox-field block"},(0,n.createElement)("input",{className:"btl-check",type:"checkbox",disabled:!0}),(0,n.createElement)("span",{className:"text"},(0,s.__)("Target URL Parameters","betterlinks"))),(0,n.createElement)("label",{className:"btl-checkbox-field block"},(0,n.createElement)("input",{className:"btl-check",type:"checkbox",disabled:!0}),(0,n.createElement)("span",{className:"text"},(0,s.__)("UTM Parameters","betterlinks"))))))))});function Ae(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),l.push.apply(l,a)}return l}function Oe(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(l),!0).forEach(function(t){(0,_.A)(e,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):Ae(Object(l)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))})}return e}const Se=(0,c.Ng)(null,function(e){return{update_option:(0,m.zH)(u.YD,e)}})(function(e){var t=e.settings,l=e.update_option,r=(0,n.useState)((0,s.__)("Save Settings","betterlinks")),i=(0,a.A)(r,2),o=i[0],c=i[1],m=(0,$.cN)(),u=(0,a.A)(m,3),b=u[0],d=u[1],p=u[2];return(0,P.OS)("1.6.3")?(0,n.createElement)(n.Fragment,null,(0,n.createElement)(S.A,{isOpenModal:b,closeModal:p}),(0,n.createElement)(f.l1,{enableReinitialize:!0,initialValues:Oe({},t),onSubmit:function(e){return(0,P.PW)(e,l,c)}},function(e){return(0,n.createElement)(f.lV,null,betterLinksHooks.applyFilters("BetterLinksPasswordProtection",(0,n.createElement)(Pe,{openUpgradeToProModal:d}),Oe(Oe({},e),{},{ReactQuill:pe()})),P.JT&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("button",{className:"button-primary btn-save-settings",type:"submit"},o)))})):(0,n.createElement)("div",{className:"btl-form-group"},(0,n.createElement)("div",{className:"short-description"},(0,n.createElement)("b",{style:{fontWeight:700}},(0,s.__)("Note: ")),(0,s.__)("To Utilize the Password Protected Redirect Feature, kindly ensure that you have updated to the latest version of BetterLinks Pro","betterlinks")))});var Pe=function(e){var t=e.openUpgradeToProModal;return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(re.A,{title:(0,s.__)("Password Protected Redirect","betterlinks"),onClick:t}),(0,n.createElement)(re.A,{title:(0,s.__)("Enable Cookie","betterlinks"),onClick:t}),(0,n.createElement)(re.A,{title:(0,s.__)("Advanced Settings","betterlinks"),onClick:t}),(0,n.createElement)(ne,{title:(0,s.__)("Form Template","betterlinks"),onClick:t}),(0,n.createElement)(re.A,{title:(0,s.__)("Enable Title","betterlinks"),onClick:t}),(0,n.createElement)(re.A,{title:(0,s.__)("Enable Instruction","betterlinks"),onClick:t}),(0,n.createElement)(re.A,{title:(0,s.__)("Show Protected URL","betterlinks"),onClick:t}))};const Le=function(e){var t=e.openUpgradeToProModal;return(0,n.createElement)("div",{className:"btl-pro-feature-preview"},(0,n.createElement)("div",{className:"btl-pro-form-preview"},(0,n.createElement)("div",{className:"btl-header bl-text-white"},(0,n.createElement)("h2",null,(0,s.__)("Auto Post Link Generator","betterlinks")),(0,n.createElement)("div",{className:"btl-description"},(0,s.__)("Generate bulk short links for any post type with advanced configuration ","betterlinks"),(0,n.createElement)("a",{href:"https://betterlinks.io/docs/auto-post-link-generator/",target:"_blank"},(0,s.__)("Learn More.","betterlinks")))),(0,n.createElement)("div",{className:"btl-generator-form btl-pro-disabled"},(0,n.createElement)("div",{className:"btl-form-section"},(0,n.createElement)("h3",null,(0,s.__)("Required Settings:","betterlinks")),(0,n.createElement)("div",{className:"btl-form-row"},(0,n.createElement)("div",{className:"btl-form-col"},(0,n.createElement)("div",{className:"btl-bulk-link-form-group",onClick:t},(0,n.createElement)("label",null,(0,s.__)("Choose Your Post Type:","betterlinks"),"*"),(0,n.createElement)(E.Ay,{className:"btl-custom-post-select-type",classNamePrefix:"btl-react-select",value:{value:"post",label:"Posts"},options:[{value:"post",label:"Posts"},{value:"page",label:"Pages"},{value:"product",label:"Products"}],placeholder:(0,s.__)("Select post type...","betterlinks"),isDisabled:!0,isClearable:!1}))),(0,n.createElement)("div",{className:"btl-form-col"},(0,n.createElement)("div",{className:"btl-bulk-link-form-group",onClick:t},(0,n.createElement)("label",null,(0,s.__)("Category","betterlinks")),(0,n.createElement)(E.Ay,{className:"btl-custom-post-select-cat",classNamePrefix:"btl-react-select",value:[{value:1,label:"Technology"},{value:2,label:"WordPress"}],options:[{value:1,label:"Technology"},{value:2,label:"WordPress"},{value:3,label:"Web Development"}],placeholder:(0,s.__)("Select categories...","betterlinks"),isMulti:!0,isDisabled:!0,isClearable:!0,closeMenuOnSelect:!1})))),(0,n.createElement)("div",{className:"btl-post-count",onClick:t},(0,s.__)("Post Found:","betterlinks")," 147")),(0,n.createElement)("div",{className:"btl-form-section btl-bg-white"},(0,n.createElement)("div",{className:"btl-accordion-header"},(0,n.createElement)("h3",null,(0,s.__)("Short Link Configuration","betterlinks")),(0,n.createElement)("span",{className:"btl-accordion-arrow open"},(0,n.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"#19285D",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})))),(0,n.createElement)("div",{className:"btl-accordion-content"},(0,n.createElement)("div",{className:"btl-subsection"},(0,n.createElement)("div",{className:"btl-form-row"},(0,n.createElement)("div",{className:"btl-form-col"},(0,n.createElement)("div",{className:"btl-bulk-link-form-group",onClick:t},(0,n.createElement)("label",null,(0,s.__)("Link Generation Order","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("Choose your preferred order to generate short links based on post order.","betterlinks")))),(0,n.createElement)(E.Ay,{value:{value:"date_desc",label:(0,s.__)("Created Date (Newest First)","betterlinks")},options:[{value:"date_desc",label:(0,s.__)("Created Date (Newest First)","betterlinks")},{value:"date_asc",label:(0,s.__)("Created Date (Oldest First)","betterlinks")},{value:"title_asc",label:(0,s.__)("Title (A-Z)","betterlinks")},{value:"title_desc",label:(0,s.__)("Title (Z-A)","betterlinks")}],isDisabled:!0,isClearable:!1,className:"btl-custom-post-select-type",classNamePrefix:"btl-react-select"}))),(0,n.createElement)("div",{className:"btl-form-col"},(0,n.createElement)("div",{className:"btl-bulk-link-form-group btl-bulk-existing-links",onClick:t},(0,n.createElement)("div",{className:"btl-bulk-checkbox-field"},(0,n.createElement)("input",{type:"checkbox",id:"overwrite-utm-preview",checked:!0,disabled:!0,readOnly:!0}),(0,n.createElement)("label",{htmlFor:"overwrite-utm-preview"},(0,s.__)("Overwrite Existing Short Link","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("If a post already has a short link created by BetterLinks, enabling this option will replace it with a new one using your current configuration.","betterlinks"))))),(0,n.createElement)("p",{className:"btl-helper-text"},(0,s.__)("Overwrites existing short links on selected posts.","betterlinks")))))),(0,n.createElement)("div",{className:"btl-subsection"},(0,n.createElement)("div",{className:"btl-form-col"},(0,n.createElement)("div",{className:"btl-bulk-link-form-group",onClick:t},(0,n.createElement)("label",null,(0,s.__)("Redirect Type","betterlinks")),(0,n.createElement)(E.Ay,{value:{value:"301",label:(0,s.__)("301 (Permanent)","betterlinks")},options:[{value:"301",label:(0,s.__)("301 (Permanent)","betterlinks")},{value:"302",label:(0,s.__)("302 (Temporary)","betterlinks")},{value:"307",label:(0,s.__)("307 (Temporary)","betterlinks")}],isDisabled:!0,isClearable:!1,className:"btl-custom-post-select-type",classNamePrefix:"btl-react-select"}))),(0,n.createElement)("div",{className:"btl-form-col"},(0,n.createElement)("div",{className:"btl-bulk-link-form-group",onClick:t},(0,n.createElement)("label",null,(0,s.__)("Link Prefix","betterlinks")),(0,n.createElement)("input",{className:"btl-text-field",type:"text",value:"go",readOnly:!0,placeholder:"go",onClick:t}),(0,n.createElement)("p",{className:"btl-helper-text"},(0,s.__)("Note: The prefix will be added before your Shortened URL's slug eg. https://yourdomain.com/go/your-link-name","betterlinks")))),(0,n.createElement)("div",{className:"btl-form-row"},(0,n.createElement)("div",{className:"btl-form-col"},(0,n.createElement)("div",{className:"btl-bulk-link-form-group",onClick:t},(0,n.createElement)("label",null,(0,s.__)("Permalink Structure","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("Choose how your short link permalink is structured based on type.","betterlinks")))),(0,n.createElement)(E.Ay,{value:{value:"random_mixed",label:(0,s.__)("Random Mixed","betterlinks")},options:[{value:"random_mixed",label:(0,s.__)("Random Mixed","betterlinks")},{value:"random_string",label:(0,s.__)("Random String","betterlinks")}],isDisabled:!0,isClearable:!1,className:"btl-custom-post-select-type",classNamePrefix:"btl-react-select"}))),(0,n.createElement)("div",{className:"btl-form-col"},(0,n.createElement)("div",{className:"btl-bulk-link-form-group",onClick:t},(0,n.createElement)("label",null,(0,s.__)("BetterLinks Category","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("Assign a category to organize your links.","betterlinks")))),(0,n.createElement)(E.Ay,{value:{value:1,label:"Marketing Links"},options:[{value:1,label:"Marketing Links"},{value:2,label:"Product Links"},{value:3,label:"Social Media"}],placeholder:(0,s.__)("Select BetterLink category...","betterlinks"),isDisabled:!0,isClearable:!0,isSearchable:!0,className:"btl-custom-post-select-type",classNamePrefix:"btl-react-select"})))),(0,n.createElement)("div",{className:"btl-form-col"},(0,n.createElement)("div",{className:"btl-bulk-link-form-group",onClick:t},(0,n.createElement)("label",null,(0,s.__)("BetterLink Tags","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("Choose tags to label your links for reporting.","betterlinks")))),(0,n.createElement)(E.Ay,{value:[{value:1,label:"automated"},{value:2,label:"bulk-generated"}],options:[{value:1,label:"automated"},{value:2,label:"bulk-generated"},{value:3,label:"wordpress"},{value:4,label:"content"}],placeholder:(0,s.__)("Select BetterLink tags.....","betterlinks"),isDisabled:!0,isClearable:!0,isSearchable:!0,isMulti:!0,closeMenuOnSelect:!1,className:"btl-custom-post-select-type",classNamePrefix:"btl-react-select"})))))),(0,n.createElement)("div",{className:"btl-form-actions"},(0,n.createElement)("button",{className:"btl-btn btl-btn-primary",onClick:t},(0,s.__)("Generate Short Links","betterlinks")," (147)")))))},Te=function(e){var t=e.showConfirmation,l=e.setShowConfirmation,a=e.selectedPostType,r=e.selectedCategories,i=e.selectedTags,o=e.redirectType,c=e.linkPrefix,m=e.selectedBetterlinkCategory,u=e.selectedBetterlinkTags,b=e.postCount,d=e.confirmGeneration;return t?(0,n.createElement)("div",{className:"btl-modal-overlay btl-fade-in",onClick:function(){return l(!1)}},(0,n.createElement)("div",{className:"btl-confirmation-modal btl-slide-in",onClick:function(e){return e.stopPropagation()}},(0,n.createElement)("div",{className:"btl-confirmation-header"},(0,n.createElement)("div",{className:"btl-confirmation-header-content"},(0,n.createElement)("div",{className:"btl-confirmation-title"},(0,s.__)("Confirm Auto Link Generation","betterlinks")),(0,n.createElement)("div",{className:"btl-confirmation-subtitle"},(0,s.__)("Please review your settings before starting the generation process.","betterlinks"))),(0,n.createElement)("button",{className:"btl-confirmation-close",onClick:function(){return l(!1)},"aria-label":(0,s.__)("Close","betterlinks")},(0,n.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))),(0,n.createElement)("div",{className:"btl-confirmation-body"},(0,n.createElement)("div",{className:"btl-confirmation-grid"},(0,n.createElement)("div",{className:"btl-confirmation-section"},(0,n.createElement)("div",{className:"btl-conf-pre-title btl-confirmation-content-title"},(0,s.__)("Selected Post Type","betterlinks")),(0,n.createElement)("div",{className:"btl-confirmation-content-content"},(0,n.createElement)("div",{className:"btl-confirmation-post-type"},(0,n.createElement)("span",{className:"btl-confirmation-label"},(0,s.__)("Post Type","betterlinks")),(0,n.createElement)("span",{className:"btl-confirmation-tag btl-tag-primary"},a.label)),(0,n.createElement)("div",{className:"btl-confirmation-field"},(0,n.createElement)("span",{className:"btl-confirmation-label"},(0,s.__)("Selected Categories","betterlinks")),(0,n.createElement)("div",{className:"btl-confirmation-tags-list"},r.length>0?r.map(function(e,t){return(0,n.createElement)("span",{key:t,className:"btl-confirmation-tag btl-tag-category"},e.label)}):(0,n.createElement)("span",{className:"btl-confirmation-empty"},(0,s.__)("All categories","betterlinks")))),i.length>0&&(0,n.createElement)("div",{className:"btl-confirmation-field"},(0,n.createElement)("span",{className:"btl-confirmation-label"},(0,s.__)("Tags:","betterlinks")),(0,n.createElement)("div",{className:"btl-confirmation-tags-list"},i.map(function(e,t){return(0,n.createElement)("span",{key:t,className:"btl-confirmation-tag btl-tag-default"},e.label)}))))),(0,n.createElement)("div",{className:"btl-confirmation-section"},(0,n.createElement)("div",{className:"btl-conf-pre-title btl-confirmation-link-title"},(0,s.__)("Link Configuration","betterlinks")),(0,n.createElement)("div",{className:"btl-confirmation-link-content"},(0,n.createElement)("div",{className:"btl-confirmation-field"},(0,n.createElement)("span",{className:"btl-confirmation-label"},(0,s.__)("Redirect Type:","betterlinks")),(0,n.createElement)("span",{className:"btl-confirmation-value"},o)),(0,n.createElement)("div",{className:"btl-confirmation-field"},(0,n.createElement)("span",{className:"btl-confirmation-label"},(0,s.__)("Link Prefix:","betterlinks")),(0,n.createElement)("span",{className:"btl-confirmation-value"},c," "," (e.g., yourdomain.com/".concat(c,"/your-link-name)"))),m&&(0,n.createElement)("div",{className:"btl-confirmation-field"},(0,n.createElement)("span",{className:"btl-confirmation-label"},(0,s.__)("BetterLinks Category:","betterlinks")),(0,n.createElement)("span",{className:"btl-confirmation-value"},m.label)),u.length>0&&(0,n.createElement)("div",{className:"btl-confirmation-field"},(0,n.createElement)("span",{className:"btl-confirmation-label"},(0,s.__)("BetterLinks Tags:","betterlinks")),(0,n.createElement)("div",{className:"btl-confirmation-tags-list"},u.map(function(e,t){return(0,n.createElement)("span",{key:t,className:"btl-confirmation-tag btl-tag-default"},e.label)})))))),(0,n.createElement)("div",{className:"btl-confirmation-summary"},(0,n.createElement)("div",{className:"btl-confirmation-summary-count"},b),(0,n.createElement)("div",{className:"btl-confirmation-summary-content"},(0,n.createElement)("div",{className:"btl-confirmation-summary-title"},(0,s.__)("Posts Selected","betterlinks")),(0,n.createElement)("div",{className:"btl-confirmation-summary-subtitle"},(0,s.__)("Estimated Time ~","betterlinks")," ",Math.ceil(b/10)," ",b>1?(0,s.__)("minutes","betterlinks"):(0,s.__)("minute","betterlinks"))))),(0,n.createElement)("div",{className:"btl-confirmation-footer"},(0,n.createElement)("button",{className:"btl-confirmation-btn btl-confirmation-btn-secondary",onClick:function(){return l(!1)}},(0,s.__)("Edit","betterlinks")),(0,n.createElement)("button",{className:"btl-confirmation-btn btl-confirmation-btn-primary",onClick:function(){window.scrollTo({top:300,behavior:"smooth"}),d()}},(0,s.__)("Start Generation","betterlinks"))))):null},Fe=function(e){var t,l,r=e.generationStatus,i=e.postCount,o=e.plugin_root_url,c=(0,n.useState)(0),m=(0,a.A)(c,2),u=m[0],b=m[1],d=(0,n.useState)(null),p=(0,a.A)(d,2),_=p[0],f=p[1];return(0,n.useEffect)(function(){if(r){var e=r.progress_percent||0,t=r.status;t!==_||0===e&&u>0?(b(0),f(t)):e>=u&&b(e)}},[null==r?void 0:r.progress_percent,null==r?void 0:r.status]),r&&"completed"!==r.status?(0,n.createElement)("div",{className:"btl-progress-main-container"},(0,n.createElement)("div",{className:"btl-progress-main"},(0,n.createElement)("div",{className:"btl-progress-circle-container"},(0,n.createElement)("div",{className:"btl-progress-circle"},(0,n.createElement)("svg",{width:"64",height:"64",viewBox:"0 0 120 120",className:"btl-progress-svg"},(0,n.createElement)("circle",{cx:"60",cy:"60",r:"50",stroke:"#E5E7EB",strokeWidth:"12",fill:"none"}),(0,n.createElement)("circle",{cx:"60",cy:"60",r:"50",stroke:"#3B82F6",strokeWidth:"12",fill:"none",strokeLinecap:"round",strokeDasharray:"".concat(2*Math.PI*50),strokeDashoffset:"".concat(2*Math.PI*50*(1-u/100)),transform:"rotate(-90 60 60)",style:{transition:"stroke-dashoffset 0.5s ease-in-out"}})),(0,n.createElement)("div",{className:"btl-progress-percentage-display"},(0,n.createElement)("span",{className:"btl-progress-percent-text"},Math.round(u),"%")))),(0,n.createElement)("div",{className:"btl-progress-content-main"},(0,n.createElement)("h3",{className:"btl-progress-title"},(0,s.__)("Link Generation in Progress","betterlinks")),(0,n.createElement)("p",{className:"btl-progress-subtitle"},(0,s.__)("⚠️ Please Do Not Close This Tab Until Auto Link Generation is Complete....","betterlinks")),u>0&&u<100&&(0,n.createElement)("div",{className:"btl-progress-time-left"},(0,n.createElement)("span",{className:"btl-time-label"},(0,s.__)("Time Left: ~","betterlinks")),(0,n.createElement)("span",{className:"btl-time-value"},(t=100-u,(l=Math.ceil(t/100*Math.ceil((r.total||1)/10)))>0?"".concat(l," ").concat(l>1?(0,s.__)("minutes","betterlinks"):(0,s.__)("minute","betterlinks")):(0,s.__)("Almost done","betterlinks")))))),(0,n.createElement)("div",{className:"btl-progress-stats"},(0,n.createElement)("div",{className:"btl-progress-stat-item btl-stat-processed"},(0,n.createElement)("div",{className:"btl-progress-stat-icon btl-stat-processed-icon"},(0,n.createElement)("img",{src:o+"assets/images/icons/progress.svg",alt:""})),(0,n.createElement)("div",{className:"btl-progress-stat-content"},(0,n.createElement)("div",{className:"btl-progress-stat-number"},r.processed||0),(0,n.createElement)("div",{className:"btl-progress-stat-label"},(0,s.__)("Processed","betterlinks")))),(0,n.createElement)("div",{className:"btl-progress-stat-item btl-stat-total"},(0,n.createElement)("div",{className:"btl-progress-stat-icon btl-stat-total-icon"},(0,n.createElement)("img",{src:o+"assets/images/icons/layout-list.svg",alt:""})),(0,n.createElement)("div",{className:"btl-progress-stat-content"},(0,n.createElement)("div",{className:"btl-progress-stat-number"},i||0),(0,n.createElement)("div",{className:"btl-progress-stat-label"},(0,s.__)("Total Posts","betterlinks")))),(0,n.createElement)("div",{className:"btl-progress-stat-item btl-stat-success"},(0,n.createElement)("div",{className:"btl-progress-stat-icon btl-stat-success-icon"},(0,n.createElement)("img",{src:o+"assets/images/icons/circle-checked.svg",alt:""})),(0,n.createElement)("div",{className:"btl-progress-stat-content"},(0,n.createElement)("div",{className:"btl-progress-stat-number"},r.successful||0),(0,n.createElement)("div",{className:"btl-progress-stat-label"},(0,s.__)("Successful","betterlinks")))))):null},De=function(e){var t=e.generationStatus,l=e.postCount,a=e.plugin_root_url;return t&&"completed"===t.status?(0,n.createElement)("div",{className:"btl-completion-container btl-fade-in"},(0,n.createElement)("div",{className:"btl-completion-main"},(0,n.createElement)("div",{className:"btl-completion-circle"},(0,n.createElement)("div",{className:"btl-completion-progress-circle"},(0,n.createElement)("svg",{width:"64",height:"64",viewBox:"0 0 120 120",className:"btl-completion-progress-svg"},(0,n.createElement)("circle",{cx:"60",cy:"60",r:"50",stroke:"#E5E7EB",strokeWidth:"12",fill:"none"}),(0,n.createElement)("circle",{cx:"60",cy:"60",r:"50",stroke:"#10B981",strokeWidth:"12",fill:"none",strokeLinecap:"round",strokeDasharray:"".concat(2*Math.PI*50),strokeDashoffset:"0",transform:"rotate(-90 60 60)",className:"btl-completion-progress-fill"})),(0,n.createElement)("div",{className:"btl-completion-percentage-display"},(0,n.createElement)("span",{className:"btl-completion-percent-text"},"100%")))),(0,n.createElement)("div",{className:"btl-completion-content-main"},(0,n.createElement)("div",{className:"btl-completion-title"},(0,s.__)("Auto Link Generation Completed","betterlinks")),(0,n.createElement)("div",{className:"btl-completion-subtitle"},"".concat((0,s.__)("Successfully generated","betterlinks")," ").concat(t.successful||0," ").concat((0,s.__)("short links for your selected posts.","betterlinks"),"."))),(0,n.createElement)("div",{className:"btl-completion-time"},t.message&&(0,n.createElement)("div",{className:"btl-time-message"},(0,s.__)("Generation Completed","betterlinks")))),(0,n.createElement)("div",{className:"btl-completion-stats"},(0,n.createElement)("div",{className:"btl-completion-stat-item btl-stat-processed"},(0,n.createElement)("div",{className:"btl-completion-stat-icon btl-stat-processed-icon"},(0,n.createElement)("img",{src:a+"assets/images/icons/progress.svg",alt:""})),(0,n.createElement)("div",{className:"btl-completion-stat-content"},(0,n.createElement)("div",{className:"btl-completion-stat-number"},t.processed||0),(0,n.createElement)("div",{className:"btl-completion-stat-label"},(0,s.__)("Processed","betterlinks")))),(0,n.createElement)("div",{className:"btl-completion-stat-item btl-stat-total"},(0,n.createElement)("div",{className:"btl-completion-stat-icon btl-stat-total-icon"},(0,n.createElement)("img",{src:a+"assets/images/icons/layout-list.svg",alt:""})),(0,n.createElement)("div",{className:"btl-completion-stat-content"},(0,n.createElement)("div",{className:"btl-completion-stat-number"},l||0),(0,n.createElement)("div",{className:"btl-completion-stat-label"},(0,s.__)("Total Posts","betterlinks")))),(0,n.createElement)("div",{className:"btl-completion-stat-item btl-stat-success"},(0,n.createElement)("div",{className:"btl-completion-stat-icon btl-stat-success-icon"},(0,n.createElement)("img",{src:a+"assets/images/icons/circle-checked.svg",alt:""})),(0,n.createElement)("div",{className:"btl-completion-stat-content"},(0,n.createElement)("div",{className:"btl-completion-stat-number"},t.successful||0),(0,n.createElement)("div",{className:"btl-completion-stat-label"},(0,s.__)("Successful","betterlinks")))))):null};var Me=l(7400);function je(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),l.push.apply(l,a)}return l}function Ve(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?je(Object(l),!0).forEach(function(t){(0,_.A)(e,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):je(Object(l)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))})}return e}const Be=(0,c.Ng)(function(e){var t;return{settings:(null===(t=e.settings)||void 0===t?void 0:t.settings)||{}}},function(e){return{fetch_links_data:(0,m.zH)(Me.fetch_links_data,e)}})(function(e){var t=e.settings,l=e.fetch_links_data,r=(0,$.cN)(),i=(0,a.A)(r,3),o=i[0],c=i[1],m=i[2],u=(0,n.useState)([]),b=(0,a.A)(u,2),d=b[0],p=b[1],_=(0,n.useState)(null),f=(0,a.A)(_,2),k=f[0],g=f[1],v=(0,n.useState)([]),h=(0,a.A)(v,2),y=h[0],N=h[1],x=(0,n.useState)([]),w=(0,a.A)(x,2),C=w[0],A=w[1],L=(0,n.useState)([]),T=(0,a.A)(L,2),F=T[0],D=T[1],j=(0,n.useState)(""),B=(0,a.A)(j,1)[0],U=(0,n.useState)("date_desc"),I=(0,a.A)(U,2),R=I[0],z=I[1],H=(0,n.useState)(!1),W=(0,a.A)(H,2),q=W[0],G=W[1],J=(0,n.useState)(!1),Y=(0,a.A)(J,2),K=Y[0],Q=Y[1],Z=(0,n.useState)(null),X=(0,a.A)(Z,2),ee=X[0],te=X[1],le=(0,n.useState)(!1),ae=(0,a.A)(le,2),ne=ae[0],re=ae[1],se=(0,n.useState)(!1),ie=(0,a.A)(se,2),oe=ie[0],ce=ie[1],me=(0,n.useState)(!1),ue=(0,a.A)(me,2),be=ue[0],de=ue[1],pe=(0,n.useState)(null),_e=(0,a.A)(pe,2),fe=_e[0],ke=_e[1],ge=(0,n.useState)(null),ve=(0,a.A)(ge,2),Ee=ve[0],he=ve[1],ye=(0,n.useState)(150),Ne=(0,a.A)(ye,1)[0],xe=(0,n.useState)(""),we=(0,a.A)(xe,1)[0],Ce=(0,n.useState)(""),Ae=(0,a.A)(Ce,1)[0],Oe=(0,n.useState)([]),Se=(0,a.A)(Oe,1)[0],Pe=(0,n.useState)("301"),Me=(0,a.A)(Pe,2),je=Me[0],Be=Me[1],Ue=(0,n.useState)([]),Ie=(0,a.A)(Ue,2),Re=Ie[0],ze=Ie[1],He=(0,n.useState)(null),We=(0,a.A)(He,2),qe=We[0],Ge=We[1],Je=(0,n.useState)([]),Ye=(0,a.A)(Je,2),Ke=Ye[0],Qe=Ye[1],Ze=(0,n.useState)([]),Xe=(0,a.A)(Ze,2),$e=Xe[0],et=Xe[1],tt=(0,n.useState)(P.Pl||"go"),lt=(0,a.A)(tt,2),at=lt[0],nt=lt[1],rt=(0,n.useState)((null==t?void 0:t.url_slug_generation_type)||(null!=t&&t.is_random_string?"random_number":"from_title")),st=(0,a.A)(rt,2),it=st[0],ot=st[1],ct=(0,P.OS)("2.5.0",">=");(0,n.useEffect)(function(){null!=t&&t.url_slug_generation_type?ot(t.url_slug_generation_type):void 0!==(null==t?void 0:t.is_random_string)&&ot(t.is_random_string?"random_number":"from_title")},[null==t?void 0:t.url_slug_generation_type,null==t?void 0:t.is_random_string]),(0,n.useEffect)(function(){},[it]),(0,n.useEffect)(function(){return mt(),ut(),bt(),function(){ft()}},[]),(0,n.useEffect)(function(){if(k){var e=d.find(function(e){return e.name===k.value});if(e){var t=[];Object.keys(e.categories).forEach(function(l){var a=e.categories[l];a.terms.forEach(function(e){t.push({value:e.id,label:"".concat(e.name," (").concat(a.label,")"),taxonomy:l})})}),t.sort(function(e,t){return e.label.localeCompare(t.label)}),N(t);var l=[];Object.keys(e.tags).forEach(function(t){var a=e.tags[t];a.terms.forEach(function(e){l.push({value:e.id,label:"".concat(e.name," (").concat(a.label,")"),taxonomy:t})})}),l.sort(function(e,t){return e.label.localeCompare(t.label)})}}A([]),D([])},[k,d]),(0,n.useEffect)(function(){k?dt():te(null)},[k,C,F,q]);var mt=function(){var e=(0,M.A)(V().mark(function e(){var t,l;return V().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return re(!0),e.prev=1,e.next=2,(0,P.In)({action:"betterlinks/admin/get_post_types_with_taxonomies",security:P.sL});case 2:(t=e.sent).data&&t.data.success&&p(t.data.data),e.next=4;break;case 3:e.prev=3,l=e.catch(1),console.error("Error loading post types:",l);case 4:re(!1);case 5:case"end":return e.stop()}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),ut=function(){var e=(0,M.A)(V().mark(function e(){var t,l,a;return V().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,(0,P.In)({action:"betterlinks/admin/get_betterlink_categories",security:P.sL});case 1:(t=e.sent).data&&t.data.success&&(l=t.data.data.sort(function(e,t){return(e.label||"").localeCompare(t.label||"")}),ze(l)),e.next=3;break;case 2:e.prev=2,a=e.catch(0),console.error("Error loading BetterLink categories:",a);case 3:case"end":return e.stop()}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),bt=function(){var e=(0,M.A)(V().mark(function e(){var t,l,a;return V().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,(0,P.In)({action:"betterlinks/admin/get_betterlink_tags",security:P.sL});case 1:(t=e.sent).data&&t.data.success&&(l=t.data.data.sort(function(e,t){return(e.label||"").localeCompare(t.label||"")}),Qe(l)),e.next=3;break;case 2:e.prev=2,a=e.catch(0),console.error("Error loading BetterLink tags:",a);case 3:case"end":return e.stop()}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),dt=function(){var e=(0,M.A)(V().mark(function e(){var t,l;return V().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(k){e.next=1;break}return te(null),e.abrupt("return");case 1:return e.prev=1,e.next=2,(0,P.In)({action:"betterlinks/admin/get_posts_count",post_type:k.value,categories:C.map(function(e){return e.value}),tags:F.map(function(e){return e.value}),include_existing:q,security:P.sL});case 2:(t=e.sent)&&t.data&&t.data.success?te(t.data.data.count||0):(console.error("API response error:",t),te(0)),e.next=4;break;case 3:e.prev=3,l=e.catch(1),console.error("Error getting post count:",l),console.error("Error details:",{selectedPostType:k,selectedCategories:C,selectedTags:F,includeExisting:q}),te(0);case 4:case"end":return e.stop()}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),pt=function(){var e=(0,M.A)(V().mark(function e(){var t;return V().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:ce(!1),de(!0),ft(),ke({progress_percent:0,processed:0,total:ee,successful:0,failed:0,status:"starting",message:(0,s.__)("Initializing bulk generation...","betterlinks")}),_t(),t={post_type:k.value,categories:C.map(function(e){return e.value}),tags:F.map(function(e){return e.value}),post_limit:B?parseInt(B):0,sorting:R,include_existing:q,description_length:Ne,redirect_type:je,target_url_source:"permalink",custom_field_key:we,manual_pattern:Ae,custom_tags:Se,betterlink_category:qe?parseInt(qe.value):0,betterlink_tags:$e&&$e.length>0?$e.map(function(e){return parseInt(e.value)}):[],link_prefix:at,url_slug_generation_type:it},setTimeout((0,M.A)(V().mark(function e(){var l,a,n;return V().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,(0,P.In)(Ve(Ve({action:"betterlinks/admin/start_bulk_generation"},t),{},{security:P.sL}));case 1:if(!(l=e.sent).data||!l.data.success){e.next=2;break}setTimeout(function(){kt()},2e3),e.next=4;break;case 2:if(de(!1),ft(),!l.data||!l.data.data||"pro_required"!==l.data.data.code){e.next=3;break}return c(),e.abrupt("return");case 3:a=l.data&&l.data.data&&l.data.data.message?l.data.data.message:l.data&&l.data.message?l.data.message:(0,s.__)("Failed to start generation","betterlinks"),alert(a);case 4:e.next=6;break;case 5:e.prev=5,n=e.catch(0),de(!1),ft(),console.error("Error starting generation:",n),alert((0,s.__)("Error starting generation. Please try again.","betterlinks"));case 6:case"end":return e.stop()}},e,null,[[0,5]])})),1500);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),_t=function(){var e=0,t=setInterval(function(){var t=2*Math.random()+.5;(e+=t)>99&&(e=99),ke(function(t){return Ve(Ve({},t),{},{progress_percent:Math.floor(e),message:e<30?(0,s.__)("Analyzing posts and preparing data...","betterlinks"):e<60?(0,s.__)("Creating short links...","betterlinks"):(0,s.__)("Finalizing and optimizing links...","betterlinks")})})},400);he(t)},ft=function(){Ee&&(clearInterval(Ee),he(null))},kt=function(){var e=setInterval((0,M.A)(V().mark(function t(){var a,n,r;return V().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=1,(0,P.In)({action:"betterlinks/admin/get_generation_progress",security:P.sL});case 1:(a=t.sent).data&&a.data.success&&(n=a.data.data,ft(),ke(Ve(Ve({},n),{},{progress_percent:n.progress_percent||0})),"completed"!==n.status&&"cancelled"!==n.status||(clearInterval(e),ke(Ve(Ve({},n),{},{progress_percent:100,message:"completed"===n.status?(0,s.__)("Generation completed successfully!","betterlinks"):(0,s.__)("Generation was cancelled.","betterlinks")})),"completed"===n.status&&l&&l(),Q(!1))),t.next=3;break;case 2:t.prev=2,r=t.catch(0),console.error("Error polling progress:",r),clearInterval(e),ft(),de(!1);case 3:case"end":return t.stop()}},t,null,[[0,2]])})),3e3)},gt=d.map(function(e){return{value:e.name,label:e.label}}),vt=[{value:"date_desc",label:(0,s.__)("Created Date (Newest First)","betterlinks")},{value:"date_asc",label:(0,s.__)("Created Date (Oldest First)","betterlinks")},{value:"title_asc",label:(0,s.__)("Title (A-Z)","betterlinks")},{value:"title_desc",label:(0,s.__)("Title (Z-A)","betterlinks")}],Et=[{value:"301",label:(0,s.__)("301 (Permanent)","betterlinks")},{value:"302",label:(0,s.__)("302 (Temporary)","betterlinks")},{value:"307",label:(0,s.__)("307 (Temporary)","betterlinks")}];return(0,n.createElement)("div",{className:"btl-short-link-generator"},(0,n.createElement)(S.A,{isOpenModal:o,closeModal:m}),P.JT?(0,n.createElement)(n.Fragment,null,!ct&&(0,n.createElement)("div",{className:"btl-form-group"},(0,n.createElement)("div",{className:"short-description"},(0,n.createElement)("b",{style:{fontWeight:700}},(0,s.__)("Note: ","betterlinks")),(0,s.__)("To use the Auto Post Link Generator feature, please ensure BetterLinks Pro v2.5.0 or newer is activated","betterlinks"))),(0,n.createElement)("div",{className:"btl-header bl-text-white"},(0,n.createElement)("h2",null,(0,s.__)("Auto Post Link Generator","betterlinks")),(0,n.createElement)("div",{className:"btl-description"},(0,s.__)("Generate bulk short links for any post type with advanced configuration ","betterlinks"),(0,n.createElement)("a",{href:"https://betterlinks.io/docs/auto-post-link-generator-in-betterlinks",target:"_blank"},(0,s.__)("Learn More","betterlinks")))),be?(0,n.createElement)("div",{className:"btl-progress-container btl-fade-in"},fe&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(De,{generationStatus:fe,postCount:ee,plugin_root_url:P.hq}),(0,n.createElement)(Fe,{generationStatus:fe,postCount:ee,plugin_root_url:P.hq}))):(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"btl-generator-form"},(0,n.createElement)("div",{className:"btl-form-section"},(0,n.createElement)("h3",null,(0,s.__)("Required Settings:","betterlinks")),(0,n.createElement)("div",{className:"btl-form-row"},(0,n.createElement)("div",{className:"btl-form-col"},(0,n.createElement)("div",{className:"btl-bulk-link-form-group"},(0,n.createElement)("label",null,(0,s.__)("Choose Your Post Type:","betterlinks"),"*"),(0,n.createElement)(E.Ay,{className:"btl-custom-post-select-type",classNamePrefix:"btl-react-select",value:k,onChange:g,options:gt,placeholder:ne?(0,s.__)("Post type Loading...","betterlinks"):(0,s.__)("Select post type...","betterlinks"),isLoading:ne,isClearable:!1}))),k&&y.length>0&&(0,n.createElement)("div",{className:"btl-form-col"},(0,n.createElement)("div",{className:"btl-bulk-link-form-group"},(0,n.createElement)("label",null,(0,s.__)("Category","betterlinks")),0===y.length?(0,n.createElement)("div",{className:"btl-helper-text"},(0,s.__)("This post type has no categories available.","betterlinks")):(0,n.createElement)(E.Ay,{className:"btl-custom-post-select-cat",classNamePrefix:"btl-react-select",value:C,onChange:A,options:y,placeholder:(0,s.__)("Select categories...","betterlinks"),isMulti:!0,isClearable:!0,closeMenuOnSelect:!1})))),null!==ee&&(0,n.createElement)("div",{className:"btl-post-count ".concat(0===ee?"btl-post-count-warning":"")},0===ee?(0,s.__)("No posts found with current filters","betterlinks"):"".concat((0,s.__)("Post Found:","betterlinks")," ").concat(ee))),(0,n.createElement)("div",{className:"btl-form-section btl-bg-white"},(0,n.createElement)("div",{className:"btl-accordion-header",onClick:function(){return Q(!K)}},(0,n.createElement)("h3",null,(0,s.__)("Short Link Configuration","betterlinks")),(0,n.createElement)("span",{className:"btl-accordion-arrow ".concat(K?"open":"")},(0,n.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"#19285D",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})))),K&&(0,n.createElement)("div",{className:"btl-accordion-content"},(0,n.createElement)("div",{className:"btl-subsection"},(0,n.createElement)("div",{className:"btl-form-row"},(0,n.createElement)("div",{className:"btl-form-col"},(0,n.createElement)("div",{className:"btl-bulk-link-form-group"},(0,n.createElement)("label",null,(0,s.__)("Link Generation Order","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("Choose your preferred order to generate short links based on post order.","betterlinks")))),(0,n.createElement)(E.Ay,{value:vt.find(function(e){return e.value===R}),onChange:function(e){return z(e.value)},options:vt,isClearable:!1,className:"btl-custom-post-select-type",classNamePrefix:"btl-react-select"}))),(0,n.createElement)("div",{className:"btl-form-col"},(0,n.createElement)("div",{className:"btl-bulk-link-form-group btl-bulk-existing-links"},(0,n.createElement)("div",{className:" btl-bulk-checkbox-field"},(0,n.createElement)("input",{type:"checkbox",id:"overwrite-utm",checked:q,onChange:function(e){return G(e.target.checked)}}),(0,n.createElement)("label",{htmlFor:"overwrite-utm"},(0,s.__)("Overwrite Existing Short Link","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("If a post already has a short link created by BetterLinks, enabling this option will replace it with a new one using your current configuration.","betterlinks"))))),(0,n.createElement)("p",{className:"btl-helper-text"},(0,s.__)("Overwrites existing short links on selected posts.","betterlinks")))))),(0,n.createElement)("div",{className:"btl-subsection"},(0,n.createElement)("div",{className:"btl-form-col"},(0,n.createElement)("div",{className:"btl-bulk-link-form-group"},(0,n.createElement)("label",null,(0,s.__)("Redirect Type","betterlinks")),(0,n.createElement)(E.Ay,{value:Et.find(function(e){return e.value===je}),onChange:function(e){return Be(e.value)},options:Et,isClearable:!1,className:"btl-custom-post-select-type",classNamePrefix:"btl-react-select"}))),(0,n.createElement)("div",{className:"btl-form-col"},(0,n.createElement)("div",{className:"btl-bulk-link-form-group"},(0,n.createElement)("label",null,(0,s.__)("Link Prefix","betterlinks")),(0,n.createElement)("input",{className:"btl-text-field",type:"text",value:at,onChange:function(e){return nt(e.target.value)},placeholder:"Go"}),(0,n.createElement)("p",{className:"btl-helper-text"},(0,s.__)("Note: The prefix will be added before your Shortened URL’s slug eg. https://yourdomain.com/go/your-link-name","betterlinks")))),(0,n.createElement)("div",{className:"btl-form-row"},(0,n.createElement)("div",{className:"btl-form-col"},(0,n.createElement)("div",{className:"btl-bulk-link-form-group"},(0,n.createElement)("label",null,(0,s.__)("Permalink Structure","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("Choose how your short link permalink is structured based on type.","betterlinks")))),(0,n.createElement)(E.Ay,{value:O.L9.find(function(e){return e.value===it}),onChange:function(e){return ot(e.value)},options:O.L9,isClearable:!1,className:"btl-custom-post-select-type",classNamePrefix:"btl-react-select"}))),(0,n.createElement)("div",{className:"btl-form-col"},(0,n.createElement)("div",{className:"btl-bulk-link-form-group"},(0,n.createElement)("label",null,(0,s.__)("BetterLinks Category","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("Assign a category to organize your links.","betterlinks")))),(0,n.createElement)(E.Ay,{value:qe,onChange:Ge,options:Re,placeholder:(0,s.__)("Select BetterLink category...","betterlinks"),isClearable:!0,isLoading:0===Re.length,isSearchable:!0,className:"btl-custom-post-select-type",classNamePrefix:"btl-react-select",noOptionsMessage:function(e){return e.inputValue?(0,s.__)("No categories found","betterlinks"):(0,s.__)("No categories available","betterlinks")}})))),(0,n.createElement)("div",{className:"btl-form-col"},(0,n.createElement)("div",{className:"btl-bulk-link-form-group"},(0,n.createElement)("label",null,(0,s.__)("BetterLink Tags","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("Choose tags to label your links for reporting.","betterlinks")))),(0,n.createElement)(E.Ay,{value:$e,onChange:et,options:Ke,placeholder:(0,s.__)("Select BetterLink tags.....","betterlinks"),isClearable:!0,isLoading:0===Ke.length,isSearchable:!0,isMulti:!0,closeMenuOnSelect:!1,className:"btl-custom-post-select-type",classNamePrefix:"btl-react-select",noOptionsMessage:function(e){return e.inputValue?(0,s.__)("No tags found","betterlinks"):(0,s.__)("No tags available","betterlinks")}})))))),(0,n.createElement)(Te,{showConfirmation:oe,setShowConfirmation:ce,selectedPostType:k,selectedCategories:C,selectedTags:F,redirectType:je,linkPrefix:at,selectedBetterlinkCategory:qe,selectedBetterlinkTags:$e,postCount:ee,confirmGeneration:pt})),(0,n.createElement)("div",{className:"btl-form-actions"},(0,n.createElement)("button",{className:"btl-btn btl-btn-primary",onClick:function(){k?0!==ee?ce(!0):alert((0,s.__)("No posts found for the selected criteria. Please adjust your filters.","betterlinks")):alert((0,s.__)("Please select a post type.","betterlinks"))},disabled:!k||ne||be||0===ee||!ct},ct?(0,n.createElement)(n.Fragment,null,(0,s.__)("Generate Short Links","betterlinks"),null!==ee&&ee>0&&(0,n.createElement)(n.Fragment,null," (",ee,")")):(0,n.createElement)(n.Fragment,null,(0,s.__)("Requires BetterLinks Pro v2.5.0+","betterlinks"))))),"completed"===(null==fe?void 0:fe.status)&&(0,n.createElement)("button",{className:"btl-btn btl-btn-primary btl-completion-ok-btn",onClick:function(){de(!1),ke(null),g(null),A([]),te(null),l&&l()}},(0,s.__)("Finish","betterlinks"))):(0,n.createElement)(Le,{openUpgradeToProModal:c}))});var Ue=l(6087),Ie=l.n(Ue);function Re(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),l.push.apply(l,a)}return l}function ze(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(l),!0).forEach(function(t){(0,_.A)(e,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):Re(Object(l)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))})}return e}var He={overlay:{background:"rgba(35, 40, 45, 0.62)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",width:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};const We=(0,c.Ng)(null,function(e){return{update_option:(0,m.zH)(u.YD,e)}})(function(e){var t=e.settings,l=e.update_option,r=(0,n.useState)((0,s.__)("Save Settings","betterlinks")),i=(0,a.A)(r,2),o=i[0],c=i[1],m=(0,n.useState)(!1),u=(0,a.A)(m,2),b=u[0],d=u[1],_=function(){d(!1)};return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(f.l1,{initialValues:ze({},t),onSubmit:function(e,a){var n=a.setFieldError,r=Ie().map((null==e?void 0:e.customFields)||[],"value"),i=Ie().some(r,function(e){return!e||""===e||e.includes(" ")});if(0!==r.length||0!==t.customFields.length)if(i)n("customFields",(0,s.__)("Please fill all the fields","betterlinks"));else{var o=(0,p.A)(new Set(r));JSON.stringify(r)===JSON.stringify(o)?(0,P.PW)(e,l,c):n("customFields",(0,s.__)("Field label must be unique","betterlinks"))}else n("customFields",(0,s.__)("Please create at least one Custom Field to save.","betterlinks"))}},function(e){var t=e.values;return(0,n.createElement)(f.lV,null,(0,n.createElement)("div",{className:"btl-form-group"},(0,n.createElement)("div",{className:"btl-form-field"},(0,n.createElement)("div",{className:"short-description"},(0,n.createElement)("b",{style:{fontWeight:700}},"Note: "),(0,n.createElement)("span",null,(0,s.__)("It will allow you to add Custom Text Fields to store additional information alongside BetterLinks default fields for each link. For more info, ")),(0,n.createElement)("a",{className:"external-analytic-tooltip-anchor",href:"https://betterlinks.io/docs/add-custom-fields-in-betterlinks/",target:"_blank",style:{color:"inherit"}},(0,s.__)("Click here","betterlinks-pro"))))),(0,n.createElement)(f.ED,{name:"customFields",render:function(e){var l,a,r,i,o,c,m,u=!(null!=t&&null!==(l=t.customFields)&&void 0!==l&&l.length)||(null==t||null===(a=t.customFields)||void 0===a||null===(a=a[(null==t||null===(r=t.customFields)||void 0===r?void 0:r.length)-1])||void 0===a?void 0:a.value),p=(null==t||null===(i=t.customFields)||void 0===i?void 0:i.length)-1;return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(I(),{isOpen:b,onRequestClose:_,style:He,ariaHideApp:!1},(0,n.createElement)("div",null,(0,n.createElement)("span",{className:"btl-close-modal",onClick:_},(0,n.createElement)("i",{className:"btl btl-cancel"})),(0,n.createElement)("div",{className:"btl-confirmation-alert"},(0,n.createElement)("h3",{className:"btl-modal-utm-builder__title"},(0,s.__)("Are you sure to delete this field?","betterlinks")),(0,n.createElement)("div",{className:"btl-confirmation-buttons"},(0,n.createElement)("button",{type:"button",onClick:function(){var t,l=null===(t=e.form)||void 0===t||null===(t=t.errors)||void 0===t?void 0:t.deleteFieldIndex;e.remove(l),_()}},(0,s.__)("Yes","betterlinks")),(0,n.createElement)("button",{type:"button",onClick:_},(0,s.__)("Cancel","betterlinks")))))),(0,n.createElement)("div",null,(null==t||null===(o=t.customFields)||void 0===o?void 0:o.length)>0?t.customFields.map(function(t,l){return(0,n.createElement)("div",{key:"".concat(t.value,"_").concat(l),className:"btl-form-group",style:{columnGap:"5px"}},(0,n.createElement)(f.D0,{className:"btl-form-control",name:"customFields.".concat(l,".label"),placeholder:"Custom field label",onChange:function(t){var a=(0,P.z9)(t.target.value);e.form.setFieldValue("customFields.".concat(l,".label"),t.target.value),e.form.setFieldValue("customFields.".concat(l,".value"),a)},autoFocus:!0}),(0,n.createElement)("div",{className:"btl-utm-action-btns"},(0,n.createElement)("button",{className:"button",type:"button",style:{lineHeight:"0"},onClick:function(){d(!0),e.form.setFieldError("deleteFieldIndex",l)}},(0,n.createElement)("span",{className:"dashicons dashicons-trash"}))),p===l&&(0,n.createElement)("button",{type:"button",className:"button",style:{lineHeight:"0"},onClick:function(){u&&!Ie().includes(u," ")?e.push(""):e.form.setFieldError("customFields",(0,s.__)("Please fill all the fields","betterlinks"))}},(0,n.createElement)("span",{className:"dashicons dashicons-plus-alt2"})))}):(0,n.createElement)("div",{className:"btl-form-group",style:{columnGap:"5px"}},(0,n.createElement)(f.D0,{className:"btl-form-control",name:"customFields.0.label",placeholder:(0,s.__)('To create Custom Field Label, click on "+" icon here 👉',"betterlinks"),disabled:!0,style:{cursor:"not-allowed"},onChange:function(t){var l=(0,P.z9)(t.target.value);e.form.setFieldValue("customFields.0.label",t.target.value),e.form.setFieldValue("customFields.0.value",l)}}),(0,n.createElement)("button",{type:"button",className:"button",style:{lineHeight:"0"},onClick:function(){return e.push("")}},(0,n.createElement)("span",{className:"dashicons dashicons-plus-alt2"})))),!(null===(c=e.form)||void 0===c||null===(c=c.errors)||void 0===c||!c.customFields)&&(0,n.createElement)("span",{style:{color:"red",display:"block",marginTop:"5px"}},null===(m=e.form)||void 0===m||null===(m=m.errors)||void 0===m?void 0:m.customFields))}}),(0,n.createElement)("button",{className:"button-primary btn-save-settings",type:"submit",style:{marginTop:"20px"}},o))}))});var qe=l(700),Ge=l(1582);function Je(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),l.push.apply(l,a)}return l}function Ye(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(l),!0).forEach(function(t){(0,_.A)(e,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):Je(Object(l)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))})}return e}var Ke={tooltipText:{width:"255px",textAlign:"left",lineHeight:"1.2em"},tooltipTextAnchor:{color:"inherit"}},Qe=[{value:"task_delete",label:"Task Delete"},{value:"task_archive",label:"Task Archive"}];const Ze=(0,c.Ng)(null,function(e){return{update_option:(0,m.zH)(u.YD,e),fetch_terms_data:(0,m.zH)(Ge.fetch_terms_data,e)}})(function(e){var t=e.settings,l=e.terms,r=e.update_option,i=e.fetch_terms_data,o=(0,n.useState)((0,s.__)("Save Settings","betterlinks")),c=(0,a.A)(o,2),m=c[0],u=c[1];return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(f.l1,{enableReinitialize:!0,initialValues:Ye({},t),onSubmit:function(e){(0,P.PW)(e,r,u),i()}},function(e){var t,a=e.values.fbs,r=Qe.filter(function(e){return e.value===((null==a?void 0:a.delete_on)||"task_delete")});return(0,n.createElement)(f.lV,{className:"btl-fbs"},(0,n.createElement)("span",{className:"btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label",style:{"min-width":"245px"}},(0,s.__)("Enable Link Management","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip",style:{marginLeft:"5px"}},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext",style:Ke.tooltipText},(0,s.__)("Enabling this option will allow you to create short links for tasks directly within the Fluent Boards. For more info, ","betterlinks"),(0,n.createElement)("a",{href:"https://betterlinks.io/docs/fluent-boards-link-management-with-betterlinks",target:"_blank",style:Ke.tooltipTextAnchor},(0,s.__)("Click Here","betterlinks"))))),(0,n.createElement)("div",{className:"btl-form-field"},(0,n.createElement)("label",{className:"btl-checkbox-field block"},(0,n.createElement)("input",{className:"btl-check",name:"fbs.enable_fbs",type:"checkbox",onChange:function(t){return e.setFieldValue("fbs.enable_fbs",t.target.checked)},checked:null==a?void 0:a.enable_fbs}),(0,n.createElement)("span",{className:"text"},(0,s.__)("","betterlinks"))))),(null===(t=e.values)||void 0===t||null===(t=t.fbs)||void 0===t?void 0:t.enable_fbs)&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("span",{className:"btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label",style:{"min-width":"245px"}},(0,s.__)("Choose a Default Category","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip",style:{marginLeft:"5px"}},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext",style:Ke.tooltipText},(0,s.__)("This category will be assigned by default when you create links inside Fluent Boards for your tasks. You can manage your links from BetterLinks Dashboard afterwards.","betterlinks")))),(0,n.createElement)("div",{className:"btl-form-field"},(0,n.createElement)(qe.A,{catId:parseInt(null==a?void 0:a.cat_id),data:{terms:l},fieldName:"fbs.cat_id",setFieldValue:e.setFieldValue}))),(0,n.createElement)("span",{className:"btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label",style:{"min-width":"245px"}},(0,s.__)("Show Category on Dashboard","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip",style:{marginLeft:"5px"}},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext",style:Ke.tooltipText},(0,s.__)("Enable this option to display the selected category in Manage Links.","betterlinks")))),(0,n.createElement)("div",{className:"btl-form-field"},(0,n.createElement)("label",{className:"btl-checkbox-field block"},(0,n.createElement)("input",{className:"btl-check",name:"fbs.show_fbs_category",type:"checkbox",onChange:function(t){return e.setFieldValue("fbs.show_fbs_category",t.target.checked)},checked:null==a?void 0:a.show_fbs_category}),(0,n.createElement)("span",{className:"text"},(0,s.__)("","betterlinks"))))),(0,n.createElement)("span",{className:"btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label",style:{"min-width":"245px"}},(0,s.__)("Delete Link on","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip",style:{marginLeft:"5px"}},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext",style:Ke.tooltipText},(0,s.__)("By selecting these options, you can specify when to delete Fluent Board Links created by BetterLinks.","betterlinks")))),(0,n.createElement)("div",{className:"btl-form-field"},(0,n.createElement)(E.Ay,{className:"btl-modal-select--full",classNamePrefix:"btl-react-select",id:"fbs.delete_on",name:"fbs.delete_on",defaultValue:r,onChange:function(t){return null===t?e.setFieldValue("fbs.delete_on",""):e.setFieldValue("fbs.delete_on",t.value)},options:Qe,value:r,isMulti:!1})))),(0,n.createElement)("button",{className:"button-primary btn-save-settings",type:"submit"},m))}))});var Xe=l(5051);const $e=(0,c.Ng)(null,function(e){return{update_option:(0,m.zH)(u.YD,e)}})(function(e){var t=e.settings,l=e.postdatas,a=e.update_option;return betterLinksHooks.applyFilters("BetterLinksAutoLinkKeywords",(0,n.createElement)(et,null),{settings:t,postdatas:l,update_option:a,saveSettingsHandler:P.PW})});var et=function(){var e=(0,$.cN)(),t=(0,a.A)(e,3),l=t[0],r=t[1],i=t[2];return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(S.A,{isOpenModal:l,closeModal:i}),(0,n.createElement)(Xe.A,{notice:(0,s.__)("To Utilize the Auto-Link Keywords Feature, kindly ensure that you have at least BetterLinks Pro v2.0.2 installed & activated","betterlinks"),compatibleProVersion:"2.0.2"}),(0,n.createElement)("div",{className:"btl-form-group"},(0,n.createElement)("div",{className:"btl-form-field"},(0,n.createElement)("div",{className:"short-description"},(0,n.createElement)("b",{style:{fontWeight:700}},(0,s.__)("Note: ","betterlinks-pro")),(0,n.createElement)("span",null,(0,s.__)("The following settings will work as a preset for your new keyword added afterward","betterlinks-pro"))))),(0,n.createElement)("span",{className:"btl-form-group btl-form-group--teaser btl-form-group-autolink-keyword-icon"},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("Disable Auto-Link Keywords","betterlinks")),(0,n.createElement)("div",{className:"link-options__body"},(0,n.createElement)("label",{className:"btl-checkbox-field block",onClick:r},(0,n.createElement)("input",{className:"btl-check",name:"disable_autolink",type:"checkbox",disabled:!0}),(0,n.createElement)("span",{className:"text"})))),(0,n.createElement)("span",{className:"btl-form-group"},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("HTML Options","betterlinks")),(0,n.createElement)("div",{className:"link-options__body"},(0,n.createElement)("label",{className:"btl-checkbox-field block",onClick:r},(0,n.createElement)("input",{type:"checkbox",disabled:!0,className:"btl-check"}),(0,n.createElement)("span",{className:"text"},(0,s.__)("Open New Tab","betterlinks"))),(0,n.createElement)("label",{className:"btl-checkbox-field block",onClick:r},(0,n.createElement)("input",{type:"checkbox",disabled:!0,className:"btl-check"}),(0,n.createElement)("span",{className:"text"},(0,s.__)("No Follow","betterlinks"))),(0,n.createElement)("label",{className:"btl-checkbox-field block",onClick:r},(0,n.createElement)("input",{type:"checkbox",disabled:!0,className:"btl-check"}),(0,n.createElement)("span",{className:"text"},(0,s.__)("Case Sensitive","betterlinks"))),(0,n.createElement)("label",{className:"btl-checkbox-field block",onClick:r},(0,n.createElement)("input",{type:"checkbox",disabled:!0,className:"btl-check"}),(0,n.createElement)("span",{className:"text"},(0,s.__)("Activate","betterlinks"))))),(0,n.createElement)(ne,{title:(0,s.__)("Left Boundary","betterlinks"),onClick:r,defaultValue:{value:"",label:(0,s.__)("None","betterlinks")}}),(0,n.createElement)(Ne,{title:(0,s.__)("Keyword Before","betterlinks"),onClick:r}),(0,n.createElement)(ne,{title:(0,s.__)("Right Boundary","betterlinks"),onClick:r,defaultValue:{value:"",label:(0,s.__)("None","betterlinks")}}),(0,n.createElement)(Ne,{title:(0,s.__)("Keyword After","betterlinks"),onClick:r}),(0,n.createElement)(Ne,{title:(0,s.__)("Limit","betterlinks"),onClick:r}),(0,n.createElement)(ne,{title:(0,s.__)("Default Post Types","betterlinks"),onClick:r,isMulti:!0,defaultValue:[{value:"",label:(0,s.__)("Post","betterlinks")}]}),(0,n.createElement)(ne,{title:(0,s.__)("Post Category","betterlinks"),onClick:r,isMulti:!0,defaultValue:[{value:"",label:(0,s.__)("Uncategorized","betterlinks")}]}),(0,n.createElement)(ne,{title:(0,s.__)("Post Tags","betterlinks"),onClick:r}),(0,n.createElement)("hr",{className:"btl-settings-devider",style:{marginTop:"20px"}}),(0,n.createElement)("span",{className:"btl-form-group btl-form-group--teaser btl-form-group-autolink-keyword-icon"},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("Auto-Linked Keywords Icon","betterlinks")),(0,n.createElement)("div",{className:"link-options__body"},(0,n.createElement)("label",{className:"btl-checkbox-field block",onClick:r},(0,n.createElement)("input",{className:"btl-check",name:"is_autolink_icon",type:"checkbox",disabled:!0}),(0,n.createElement)("span",{className:"text"})))),(0,n.createElement)("span",{className:"btl-form-group btl-form-group--teaser btl-form-group-autolink-keyword-icon"},(0,n.createElement)("label",{className:"btl-form-label"},(0,s.__)("Auto-Link Keywords inside","betterlinks-pro"),(0,n.createElement)("span",{style:{display:"block"}},(0,s.__)("Headings","betterlinks-pro"))),(0,n.createElement)("div",{className:"link-options__body"},(0,n.createElement)("label",{className:"btl-checkbox-field block",onClick:r},(0,n.createElement)("input",{className:"btl-check",name:"is_autolink_headings",type:"checkbox",disabled:!0}),(0,n.createElement)("span",{className:"text"})))),(0,n.createElement)(ne,{title:(0,n.createElement)(n.Fragment,null,(0,s.__)("Disable Auto-link keywords","betterlinks"),(0,n.createElement)("span",{style:{display:"block"}},(0,s.__)("for Post Types","betterlinks"))),onClick:r,isMulti:!0,defaultValue:[{value:"",label:(0,s.__)("Page","betterlinks")}]}))},tt=l(2284),lt=l(3503);function at(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),l.push.apply(l,a)}return l}function nt(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?at(Object(l),!0).forEach(function(t){(0,_.A)(e,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):at(Object(l)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))})}return e}var rt=nt(nt({},P.vu),{},{content:nt(nt({},P.vu.content),{},{maxWidth:"500px",padding:"0",border:"none",borderRadius:"12px",background:"transparent",position:"absolute"})});const st=function(e){var t,l=e.isOpen,a=e.modalState,r=e.onClose,i=e.onConfirm,o=e.isApplying,c=e.confirmationTitle,m=e.confirmationMessage,u=e.totalLinks,b=e.confirmationSubMessage,d=e.confirmButtonText,p=e.cancelButtonText,_=e.successMessage,f=e.isResetMode;return(0,n.createElement)(I(),{isOpen:l,onRequestClose:r,style:rt,ariaHideApp:!1,className:"btl-unified-modal-override"},(0,n.createElement)("div",{className:"btl-unified-modal"},(0,n.createElement)("div",{className:"btl-unified-modal__header"},(0,n.createElement)("button",{className:"btl-unified-close-modal",onClick:r,"aria-label":"Close"},(0,n.createElement)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},(0,n.createElement)("path",{d:"M13 1L1 13M1 1L13 13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))),(0,n.createElement)("div",{className:"btl-unified-modal__body"},"confirmation"===a?(0,n.createElement)("div",{className:"btl-unified-modal__content"},(0,n.createElement)("h3",{className:"btl-unified-modal__title"},c),(0,n.createElement)("div",{className:"btl-unified-modal__message"},(0,n.createElement)("p",{className:"btl-unified-modal__main-message"},(0,n.createElement)(n.Fragment,null,m," ",(0,n.createElement)("div",{className:"btl-highlight-number"},u||"0"," ",(0,s.__)("URLs","betterlinks"),"."))),b&&(0,n.createElement)("p",{className:"btl-unified-modal__sub-message"},b)),(0,n.createElement)("div",{className:"btl-unified-modal__actions"},(0,n.createElement)("button",{type:"button",className:"btl-utm-btn btl-utm-btn-secondary",onClick:r,disabled:o},p||(0,s.__)("Cancel","betterlinks")),(0,n.createElement)("button",{type:"button",className:"btl-utm-btn btl-utm-btn-primary",onClick:i,disabled:o},o?(0,s.__)("Applying...","betterlinks"):d||(0,s.__)("Confirm","betterlinks")))):(t=function(e){if(!e||"string"!=typeof e)return null;var t=e.split("\n"),l={};return t.forEach(function(e){var t=e.match(/Updated:\s*(\d+)\s*links?/i),a=e.match(/Skipped:\s*(\d+)\s*links?/i),n=e.match(/Total:\s*(\d+)\s*links?/i);t&&(l.updated=parseInt(t[1])),a&&(l.skipped=parseInt(a[1])),n&&(l.total=parseInt(n[1]))}),Object.keys(l).length>0?l:null}(_),(0,n.createElement)("div",{className:"btl-unified-modal__content btl-unified-modal__content--success"},(0,n.createElement)("div",{className:"btl-unified-modal__success-icon"},(0,n.createElement)("img",{className:"locked",src:P.hq+"assets/images/success-icon.svg",alt:"icon"})),(0,n.createElement)("div",null,(0,n.createElement)("div",{className:"btl-unified-modal__title"},f?(0,s.__)("UTM reset completed!","betterlinks"):0===u?(0,s.__)("Template Updated!","betterlinks"):(0,s.__)("Template applied!","betterlinks")),(0,n.createElement)("div",{className:"btl-unified-modal__subtitle"},f?(0,s.__)("Selected parameters have been reset successfully.","betterlinks"):u>0?(0,s.__)("UTM values applied successfully.","betterlinks"):(0,s.__)("UTM template updated successfully.","betterlinks"))),(0,n.createElement)("div",{className:"btl-unified-modal__message"},t&&(0,n.createElement)("div",{className:"btl-utm-statistics"},(0,n.createElement)("div",{className:"btl-utm-statistics__row"},(0,n.createElement)("span",{className:"btl-utm-statistics__label"},(0,s.__)("Skipped","betterlinks")),(0,n.createElement)("span",{className:"btl-utm-statistics__value btl-utm-statistics__value--blue"},t.skipped||0," ",(0,s.__)("links","betterlinks"))),(0,n.createElement)("div",{className:"btl-utm-statistics__row"},(0,n.createElement)("span",{className:"btl-utm-statistics__label"},(0,s.__)("Updated","betterlinks")),(0,n.createElement)("span",{className:"btl-utm-statistics__value btl-utm-statistics__value--blue"},t.updated||0," ",(0,s.__)("links","betterlinks"))),(0,n.createElement)("div",{className:"btl-utm-statistics__separator"}),(0,n.createElement)("div",{className:"btl-utm-statistics__row btl-utm-statistics__row--total"},(0,n.createElement)("span",{className:"btl-utm-statistics__label btl-utm-statistics__label--total"},(0,s.__)("Total","betterlinks")),(0,n.createElement)("span",{className:"btl-utm-statistics__value btl-utm-statistics__value--total"},t.total||0," ",(0,s.__)("links","betterlinks"))))),(0,n.createElement)("div",{className:"btl-unified-modal__actions"},(0,n.createElement)("button",{type:"button",className:"btl-utm-btn btl-utm-btn-primary",onClick:r},(0,s.__)("OK","betterlinks"))))))))};function it(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),l.push.apply(l,a)}return l}function ot(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?it(Object(l),!0).forEach(function(t){(0,_.A)(e,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):it(Object(l)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))})}return e}var ct=ot(ot({},P.vu),{},{content:ot(ot({},P.vu.content),{},{maxWidth:"700px",padding:"0",border:"none",borderRadius:"12px",position:"absolute"})});const mt=function(e){var t=e.isOpen,l=e.onClose,r=e.isCreatingTemplate,i=(e.activeTemplate,e.templateForm),o=e.setTemplateForm,c=e.terms,m=e.handleTemplateCreate,u=e.handleTemplateUpdate,b=(e.handleTemplateDelete,e.fetch_links_data),d=(0,n.useState)(!1),p=(0,a.A)(d,2),_=p[0],f=p[1],k=(0,n.useState)(!1),g=(0,a.A)(k,2),v=g[0],E=g[1],h=(0,n.useState)("confirmation"),y=(0,a.A)(h,2),N=y[0],x=y[1],w=(0,n.useState)(""),C=(0,a.A)(w,2),A=C[0],O=C[1],S=(0,n.useState)(!1),L=(0,a.A)(S,2),T=(L[0],L[1]),F=(0,n.useState)({total_links:0,links_with_utm:0,links_without_utm:0}),D=(0,a.A)(F,2),j=D[0],B=D[1],U=(0,n.useState)(0),R=(0,a.A)(U,2),z=R[0],H=R[1],W=(0,n.useState)(!1),q=(0,a.A)(W,2),G=q[0],J=q[1],Y=(0,n.useState)(0),K=(0,a.A)(Y,2),Q=K[0],Z=K[1];(0,n.useEffect)(function(){X()},[i.categories]),(0,n.useEffect)(function(){i.categories&&i.categories.length>0&&X()},[i.utm_enable_to_rewrite_existing_utm_template]);var X=function(){var e=(0,M.A)(V().mark(function e(){var t,l,a;return V().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.categories&&0!==i.categories.length){e.next=1;break}return B({total_links:0,links_with_utm:0,links_without_utm:0}),e.abrupt("return");case 1:return e.prev=1,e.next=2,(0,P.In)({action:"betterlinks/admin/get_utm_status_counts",category_ids:i.categories});case 2:null!=(l=e.sent)&&null!==(t=l.data)&&void 0!==t&&t.success?B(l.data.data):B({total_links:0,links_with_utm:0,links_without_utm:0}),e.next=4;break;case 3:e.prev=3,a=e.catch(1),console.error("Error fetching UTM status counts:",a),B({total_links:0,links_with_utm:0,links_without_utm:0});case 4:case"end":return e.stop()}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),$=function(){var e=(0,M.A)(V().mark(function e(){var t;return V().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.categories&&0!==i.categories.length){e.next=1;break}return e.abrupt("return");case 1:t=j.links_with_utm,H(t),Z(t),J(!0),o(ot(ot({},i),{},{utm_enable_to_reset_existing_utm_template:!0})),x("confirmation"),E(!0);case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=(0,M.A)(V().mark(function e(){var t,l,a,n,c,m,u,d,p,_;return V().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f(!0),e.prev=1,t="",!(i.categories&&i.categories.length>0)){e.next=5;break}if(a=i.utm_enable_to_reset_existing_utm_template){e.next=2;break}if(i.utm_source||i.utm_medium||i.utm_campaign||i.utm_term||i.utm_content){e.next=2;break}return O((0,s.__)("Please provide at least one UTM parameter to apply to links.","betterlinks")),x("success"),f(!1),e.abrupt("return");case 2:return e.next=3,(0,P.In)({action:"betterlinks/admin/apply_utm_template_to_links",template_data:{utm_source:a?"":i.utm_source||"",utm_medium:a?"":i.utm_medium||"",utm_campaign:a?"":i.utm_campaign||"",utm_term:a?"":i.utm_term||"",utm_content:a?"":i.utm_content||""},category_ids:i.categories,rewrite_existing:!!a||i.utm_enable_to_rewrite_existing_utm_template||!1,reset_existing:!!a});case 3:if(null!=(n=e.sent)&&null!==(l=n.data)&&void 0!==l&&l.success?(c=n.data.data,m=c.updated_count,u=c.skipped_count,d=c.total_links,a?(p=z,t=(0,s.__)("UTM parameters reset successfully!","betterlinks")+"\n"+(0,s.__)("Updated: %d links","betterlinks").replace("%d",p)+"\n"+(0,s.__)("Skipped: %d links","betterlinks").replace("%d",u)+"\n"+(0,s.__)("Total: %d links","betterlinks").replace("%d",p+u)):t=(0,s.__)("Updated: %d links","betterlinks").replace("%d",m)+"\n"+(0,s.__)("Skipped: %d links","betterlinks").replace("%d",u)+"\n"+(0,s.__)("Total: %d links","betterlinks").replace("%d",d)):t=a?(0,s.__)("Failed to reset UTM parameters.","betterlinks"):(0,s.__)("Failed to apply UTM template to links.","betterlinks"),o(function(e){return ot(ot({},e),{},{utm_enable_to_reset_existing_utm_template:!1})}),!a){e.next=4;break}if(H(0),!b){e.next=4;break}return e.next=4,b();case 4:return e.next=5,X();case 5:t||i.utm_enable_to_reset_existing_utm_template||(t=r?(0,s.__)("UTM template created successfully.","betterlinks"):(0,s.__)("UTM template updated successfully.","betterlinks")),T(!0),O(t),x("success"),f(!1),e.next=7;break;case 6:return e.prev=6,_=e.catch(1),console.error("Error applying UTM template:",_),O((0,s.__)("An error occurred while applying the UTM template.","betterlinks")),x("success"),f(!1),o(function(e){return ot(ot({},e),{},{utm_enable_to_reset_existing_utm_template:!1})}),e.next=7,X();case 7:case"end":return e.stop()}},e,null,[[1,6]])}));return function(){return e.apply(this,arguments)}}();return(0,n.createElement)(I(),{isOpen:t,onRequestClose:l,style:ct,ariaHideApp:!1,className:"btl-utm-template-modal-override"},(0,n.createElement)("div",{className:"btl-utm-template-modal"},(0,n.createElement)("div",{className:"btl-utm-template-modal__header"},(0,n.createElement)("h3",{className:"btl-utm-template-modal__title"},r?(0,s.__)("Create New UTM Template","betterlinks"):(0,s.__)("Edit UTM Template","betterlinks")),(0,n.createElement)("button",{className:"btl-utm-close-modal",onClick:l,"aria-label":"Close"},(0,n.createElement)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},(0,n.createElement)("path",{d:"M13 1L1 13M1 1L13 13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))),(0,n.createElement)("div",{className:"btl-utm-template-modal__body"},(0,n.createElement)("div",{className:"btl-utm-template-fields"},(0,n.createElement)("div",{className:"btl-utm-field-group"},(0,n.createElement)("label",{className:"btl-field-label btl-required"},(0,s.__)("Template Name","betterlinks")),(0,n.createElement)("input",{type:"text",value:i.template_name,onChange:function(e){return o(ot(ot({},i),{},{template_name:e.target.value}))},placeholder:(0,s.__)("Enter template name...","betterlinks"),className:"btl-form-input",required:!0,"aria-required":"true"})),(0,n.createElement)("div",{className:"btl-utm-field-group btl-utm-category-select"},(0,n.createElement)("label",{className:"btl-field-label"},(0,s.__)("Assign to Categories","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("Select the categories where this UTM template will apply.","betterlinks")))),(0,n.createElement)(lt.Ay,{isMulti:!0,value:i.categories&&c&&0!==c.length?i.categories.map(function(e){var t=c.find(function(t){return parseInt(t.ID)===parseInt(e)}),l=c.find(function(t){return String(t.ID)===String(e)}),a=c.find(function(t){return t.ID==e}),n=t||l||a;return n?{value:parseInt(n.ID),label:n.term_name}:null}).filter(Boolean):[],onChange:function(e){var t=e?e.map(function(e){return e.value}):[];0===t.length?(B({total_links:0,links_with_utm:0,links_without_utm:0}),o(ot(ot({},i),{},{categories:t,utm_enable_to_rewrite_existing_utm_template:!1,utm_auto_apply_new_link:!1}))):o(ot(ot({},i),{},{categories:t}))},options:c&&0!==c.length?c.filter(function(e){return"category"===e.term_type}).sort(function(e,t){return e.term_name.localeCompare(t.term_name)}).map(function(e){return{value:parseInt(e.ID),label:e.term_name}}):[],className:"btl-react-select-container",classNamePrefix:"btl-react-select",placeholder:(0,s.__)("Select categories...","betterlinks"),isValidNewOption:function(){return!1},noOptionsMessage:function(){return(0,s.__)("Not Found","betterlinks")},formatCreateLabel:function(){return null}}),i.categories&&i.categories.length>0&&(0,n.createElement)("div",{className:"btl-utm-links-count"},(0,n.createElement)("span",{className:"btl-links-count-text"},"*",(0,s.__)("Total BetterLinks","betterlinks"),": ",(0,n.createElement)("strong",null,j.total_links),j.total_links>0&&(0,n.createElement)(n.Fragment,null," | ",(0,s.__)("Without UTM","betterlinks"),": ",(0,n.createElement)("strong",null,j.links_without_utm)," | ",(0,s.__)("With UTM","betterlinks"),": ",(0,n.createElement)("strong",null,j.links_with_utm))),!r&&j.links_with_utm>0&&(0,n.createElement)("button",{type:"button",className:"btl-utm-btn-reset",onClick:$},(0,s.__)("Reset Existing UTM","betterlinks")))),(0,n.createElement)("div",{className:"btl-utm-global-form"},(0,n.createElement)("div",{className:"btl-utm-field-group"},(0,n.createElement)("label",{className:"btl-field-label"},(0,s.__)("UTM Source","betterlinks")),(0,n.createElement)("input",{type:"text",value:i.utm_source,onChange:function(e){return o(ot(ot({},i),{},{utm_source:e.target.value}))},placeholder:(0,s.__)("eg: Twitter, Facebook","betterlinks"),className:"btl-form-input"})),(0,n.createElement)("div",{className:"btl-utm-field-group"},(0,n.createElement)("label",{className:"btl-field-label"},(0,s.__)("UTM Medium","betterlinks")),(0,n.createElement)("input",{type:"text",value:i.utm_medium,onChange:function(e){return o(ot(ot({},i),{},{utm_medium:e.target.value}))},placeholder:(0,s.__)("e.g. social, email, cpc","betterlinks"),className:"btl-form-input"})),(0,n.createElement)("div",{className:"btl-utm-field-group"},(0,n.createElement)("label",{className:"btl-field-label"},(0,s.__)("UTM Campaign","betterlinks")),(0,n.createElement)("input",{type:"text",value:i.utm_campaign,onChange:function(e){return o(ot(ot({},i),{},{utm_campaign:e.target.value}))},placeholder:(0,s.__)("eg: summer sale","betterlinks"),className:"btl-form-input"})),(0,n.createElement)("div",{className:"btl-utm-field-group"},(0,n.createElement)("label",{className:"btl-field-label"},(0,s.__)("UTM Term","betterlinks")),(0,n.createElement)("input",{type:"text",value:i.utm_term,onChange:function(e){return o(ot(ot({},i),{},{utm_term:e.target.value}))},placeholder:(0,s.__)("e.g: paid keywords","betterlinks"),className:"btl-form-input"})),(0,n.createElement)("div",{className:"btl-utm-field-group"},(0,n.createElement)("label",{className:"btl-field-label"},(0,s.__)("UTM Content","betterlinks")),(0,n.createElement)("input",{type:"text",value:i.utm_content,onChange:function(e){return o(ot(ot({},i),{},{utm_content:e.target.value}))},placeholder:(0,s.__)("eg: newsletter","betterlinks"),className:"btl-form-input"}))),(0,n.createElement)("div",{className:"btl-utm-checkboxes"},(0,n.createElement)("div",{className:"btl-checkbox-group"},(0,n.createElement)("label",{className:"btl-checkbox-label"},(0,n.createElement)("input",{type:"checkbox",checked:i.utm_enable_to_rewrite_existing_utm_template,onChange:function(e){return o(ot(ot({},i),{},{utm_enable_to_rewrite_existing_utm_template:e.target.checked}))},disabled:!(i.categories&&i.categories.length>0),className:"btl-checkbox-input"}),(0,n.createElement)("span",{className:"btl-checkbox-custom"}),(0,n.createElement)("span",{className:"btl-checkbox-text"},(0,s.__)("Overwrite Existing UTM","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("Enabling this will overwrite existing UTM parameters for all URLs under the selected categories.","betterlinks")))))),(0,n.createElement)("div",{className:"btl-checkbox-group"},(0,n.createElement)("label",{className:"btl-checkbox-label"},(0,n.createElement)("input",{type:"checkbox",checked:i.utm_auto_apply_new_link,onChange:function(e){return o(ot(ot({},i),{},{utm_auto_apply_new_link:e.target.checked}))},disabled:!(i.categories&&i.categories.length>0),className:"btl-checkbox-input"}),(0,n.createElement)("span",{className:"btl-checkbox-custom"}),(0,n.createElement)("span",{className:"btl-checkbox-text"},(0,s.__)("Apply this UTM for ALL future Links","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("Enabling this will automatically apply the UTM template to all new URLs in selected categories.","betterlinks"))))))))),(0,n.createElement)("div",{className:"btl-utm-template-modal__footer"},(0,n.createElement)("div",{className:"btl-utm-template-modal__actions"},(0,n.createElement)("button",{type:"button",className:"btl-utm-btn btl-utm-btn-primary",onClick:function(){J(!1),Z(i.utm_enable_to_rewrite_existing_utm_template?j.total_links:i.utm_enable_to_reset_existing_utm_template?j.links_with_utm:j.links_without_utm),i.utm_enable_to_reset_existing_utm_template&&o(function(e){return ot(ot({},e),{},{utm_enable_to_reset_existing_utm_template:!1})}),x("confirmation"),E(!0)},disabled:_||!(i.template_name&&i.template_name.trim().length>0),"aria-disabled":_||!(i.template_name&&i.template_name.trim().length>0)},_?r?(0,s.__)("Create Templating...","betterlinks"):(0,s.__)("Update Templating...","betterlinks"):r?(0,s.__)("Create Template","betterlinks"):(0,s.__)("Update Template","betterlinks")),(0,n.createElement)("button",{type:"button",className:"btl-utm-btn btl-utm-btn-secondary",onClick:l},(0,s.__)("Cancel","betterlinks"))))),(0,n.createElement)(st,{isOpen:v,modalState:N,onClose:function(){if("success"===N){var e=G;if(E(!1),J(!1),Z(0),T(!1),!e)try{r?m():u()}catch(e){console.error("Error saving template:",e)}e||l()}else E(!1),J(!1),Z(0),i.utm_enable_to_reset_existing_utm_template&&o(function(e){return ot(ot({},e),{},{utm_enable_to_reset_existing_utm_template:!1})})},onConfirm:ee,isApplying:_,confirmationTitle:G?(0,s.__)("Reset UTM Parameters","betterlinks"):(0,s.__)("Apply UTM Template","betterlinks"),confirmationMessage:G?i.categories&&i.categories.length>0?(0,s.__)("This will remove all UTM parameters from","betterlinks"):(0,s.__)("This will remove all UTM parameters","betterlinks"):i.categories&&i.categories.length>0?i.utm_enable_to_rewrite_existing_utm_template?(0,s.__)("This will overwrite existing UTM settings on","betterlinks"):(0,s.__)("This action will apply UTM values on","betterlinks"):(0,s.__)("This action will apply UTM values","betterlinks"),totalLinks:Q,confirmationSubMessage:!G&&i.utm_auto_apply_new_link?(0,s.__)("All new shortlinks in this category will automatically use this template.","betterlinks"):"",confirmButtonText:G?(0,s.__)("Reset UTM Parameters","betterlinks"):(0,s.__)("Apply UTM Template","betterlinks"),cancelButtonText:(0,s.__)("Cancel","betterlinks"),successMessage:A,isResetMode:G}))},ut=function(e){var t=e.isOpen,l=e.onClose,r=e.onConfirm,i=e.onSecondaryConfirm,o=void 0===i?null:i,c=e.title,m=void 0===c?(0,s.__)("Confirm Action","betterlinks"):c,u=e.subtitle,b=void 0===u?(0,s.__)("Are you sure you want to proceed?","betterlinks"):u,d=e.icon,p=void 0===d?null:d,_=e.confirmButtonText,f=void 0===_?(0,s.__)("Confirm","betterlinks"):_,k=e.secondaryConfirmButtonText,g=void 0===k?null:k,v=e.cancelButtonText,E=void 0===v?(0,s.__)("Cancel","betterlinks"):v,h=e.showCancelButton,y=void 0===h||h,N=e.confirmButtonClass,x=void 0===N?"button button-primary":N,w=e.secondaryConfirmButtonClass,C=void 0===w?"button button-primary":w,A=e.cancelButtonClass,O=void 0===A?"button button-secondary":A,S=e.isDangerous,L=void 0!==S&&S,T=e.extraClass,F=void 0===T?"":T,D=(0,n.useState)(!1),M=(0,a.A)(D,2),j=M[0],V=M[1];(0,n.useEffect)(function(){var e=function(){V(document.body.classList.contains("betterlinks-dark-mode"))};e();var t=new MutationObserver(e);return t.observe(document.body,{attributes:!0,attributeFilter:["class"]}),function(){return t.disconnect()}},[]);var B=function(){l()},U=p||(L?P.hq+"/assets/images/exclamation.svg":P.hq+"/assets/images/access-icon.svg");return(0,n.createElement)(I(),{isOpen:t,onRequestClose:B,contentLabel:m,className:"".concat(F," btl-confirmation-modal btl-confirmation-modal-expanded"),overlayClassName:"btl-modal-overlay",appElement:document.getElementById("wpbody")||document.body,style:{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(35, 40, 45, 0.62)",zIndex:999998,display:"flex",alignItems:"center",justifyContent:"center"},content:{position:"relative",top:"auto",left:"auto",right:"auto",bottom:"auto",border:"none",background:j?"#1f283d":"#fff",borderRadius:"8px",width:"90%",maxWidth:"700px",margin:"0",transform:"none",overflow:"visible",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.3)",outline:"none",padding:"0",zIndex:999999}}},(0,n.createElement)("div",{className:"btl-modal-header"},(0,n.createElement)("button",{onClick:B,className:"btl-modal-close"},"×")),(0,n.createElement)("div",{className:"btl-modal-confirm-content",style:{backgroundColor:j?"#1f283d":"#fff"}},(0,n.createElement)("div",{className:"btl-permission-message"},(0,n.createElement)("div",{className:"btl-permission-icon"},(0,n.createElement)("img",{width:"48px",height:"48px",src:U,alt:L?"Warning icon":"Confirmation icon",style:{filter:L?"hue-rotate(0deg) saturate(1.5)":"none"}})),(0,n.createElement)("div",{className:"btl-permission-text",style:{color:j?"#fff":"#333"}},m),b&&(0,n.createElement)("div",{className:"btl-permission-sub-text",style:{color:j?"#ccc":"#666"}},b)),(0,n.createElement)("div",{className:"btl-modal-footer",style:{display:"flex",gap:"10px",justifyContent:"center"}},y&&(0,n.createElement)("button",{onClick:B,className:O,style:{backgroundColor:j?"#36405a":"#f1f1f1",color:"#ffffffff",border:j?"1px solid #4a5568":"1px solid #ddd"}},E),(0,n.createElement)("button",{onClick:function(){r&&r(),l()},className:x,style:{backgroundColor:L?"#dc3545":j?"#2961ff":"#0073aa",color:"#fff",border:"none"}},f),o&&g&&(0,n.createElement)("button",{onClick:function(){o&&o(),l()},className:C,style:{backgroundColor:"#28a745",color:"#fff",border:"none"}},g))))};function bt(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),l.push.apply(l,a)}return l}function dt(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(l),!0).forEach(function(t){(0,_.A)(e,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):bt(Object(l)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))})}return e}const pt=(0,c.Ng)(null,function(e){return{update_option:(0,m.zH)(u.YD,e),fetch_links_data:(0,m.zH)(Me.fetch_links_data,e)}})(function(e){var t=e.settings,l=e.update_option,r=e.fetch_links_data,i=(0,n.useState)((0,s.__)("Save Settings","betterlinks")),o=(0,a.A)(i,2),c=(o[0],o[1]),m=(0,n.useState)([]),u=(0,a.A)(m,2),b=u[0],d=u[1],_=(0,n.useState)(null),k=(0,a.A)(_,2),g=k[0],v=k[1],E=(0,n.useState)(!1),h=(0,a.A)(E,2),y=h[0],N=h[1],x=(0,n.useState)(!1),w=(0,a.A)(x,2),C=w[0],A=w[1],O=(0,n.useState)([]),L=(0,a.A)(O,2),T=L[0],F=L[1],D=(0,n.useState)(!0),j=(0,a.A)(D,2),B=j[0],U=j[1],I=(0,n.useState)({}),R=(0,a.A)(I,2),z=R[0],H=R[1],W=(0,n.useState)(!1),q=(0,a.A)(W,2),G=q[0],J=q[1],Y=(0,n.useState)(null),K=(0,a.A)(Y,2),Q=K[0],Z=K[1],X=(0,n.useState)(new Set),ee=(0,a.A)(X,2),te=ee[0],le=ee[1],ae=(0,$.cN)(),ne=(0,a.A)(ae,3),re=ne[0],se=ne[1],ie=ne[2],oe=(0,n.useState)({template_name:"",utm_source:"",utm_medium:"",utm_campaign:"",utm_term:"",utm_content:"",categories:[],utm_enable_to_rewrite_existing_utm_template:!1,utm_enable_to_reset_existing_utm_template:!1,utm_auto_apply_new_link:!1}),ce=(0,a.A)(oe,2),me=ce[0],ue=ce[1],be=function(e){if(null==e||""===e||"NaN"===e||"undefined"===e||"null"===e)return"1";var t=String(e).toLowerCase();if("1"===t||"uncategorized"===t||"true"===t)return"1";var l=parseInt(e);return!isNaN(l)&&l>0?String(l):"1"},de=function(e){if(!T||!Array.isArray(T))return null;var t=be(e);return T.find(function(e){return be(e.ID)===t})},pe=function(e,t,l,a,n){return n?(0,s.__)("Demo Category","betterlinks"):a?(0,s.__)("Loading Category","betterlinks"):l?(0,s.__)("Deleted Category","betterlinks"):e===(0,s.__)("Unassigned","betterlinks")?(0,s.__)("Unassigned Category","betterlinks"):t?(0,s.__)("Active Category","betterlinks"):(0,s.__)("Inactive Category","betterlinks")},_e=function(e){var t={};return e&&"object"===(0,tt.A)(e)?(Object.keys(e).forEach(function(l){var a=be(l),n=e[l];n&&"object"===(0,tt.A)(n)&&n.template_index&&n.applied_at&&(t[a]=n)}),t):t};(0,n.useEffect)(function(){var e=(null==t?void 0:t.global_utm_templates)||[];d(e);var l=(null==t?void 0:t.utm_last_applied_templates)||{},a=_e(l);if(0===Object.keys(a).length&&e.length>0){var n={};e.forEach(function(e){e.categories&&e.categories.length>0&&e.categories.forEach(function(t){var l=be(t),a=n[l],r=new Date(e.updated_at||e.created_at||0).getTime();(!a||r>new Date(a.applied_at||0).getTime())&&(n[l]={template_index:e.template_index,applied_at:e.updated_at||e.created_at||(new Date).toISOString()})})}),H(n)}else H(a);U(!0);var r=new FormData;r.append("action","betterlinks/admin/get_terms"),r.append("security",P.sL),(0,P.In)({action:"betterlinks/admin/get_terms"}).then(function(e){var t,l;null!=e&&null!==(t=e.data)&&void 0!==t&&t.success&&null!=e&&null!==(l=e.data)&&void 0!==l&&l.data&&F(e.data.data)}).catch(function(e){console.error("Error fetching terms:",e)}).finally(function(){U(!1)})},[t]);var fe=function(e,t){var l=be(t),a=z[l];return a&&a.template_index===e.template_index},ke=function(e){return e&&Array.isArray(e)?e.filter(function(e){return null!==de(e)}):[]},ge=function(){if(me.template_name.trim()){var e=Date.now(),a=(new Date).toISOString(),n=ke(me.categories).map(function(e){return be(e)}),r=dt(dt({},me),{},{categories:n,template_index:e,created_at:a}),i=[].concat((0,p.A)(b),[r]);d(i);var o=dt({},_e(z));n&&n.length>0&&n.forEach(function(t){var l=be(t);o[l]={template_index:e,applied_at:a}}),H(o);var m=dt(dt({},t),{},{global_utm_templates:i,utm_last_applied_templates:o});(0,P.PW)(m,l,c),Ce()}else alert((0,s.__)("Please enter a template name","betterlinks"))},ve=function(){if(g){var e=(new Date).toISOString(),a=ke(me.categories).map(function(e){return be(e)}),n=b.map(function(t){return t.template_index===g.template_index?dt(dt({},me),{},{categories:a,template_index:g.template_index,updated_at:e}):t});d(n);var r=dt({},_e(z));a&&a.length>0&&a.forEach(function(t){var l=be(t);r[l]={template_index:g.template_index,applied_at:e}}),H(r);var s=dt(dt({},t),{},{global_utm_templates:n,utm_last_applied_templates:r});(0,P.PW)(s,l,c),Ce()}},Ee=function(){ue({template_name:"",utm_source:"",utm_medium:"",utm_campaign:"",utm_term:"",utm_content:"",categories:[],utm_enable_to_rewrite_existing_utm_template:!1,utm_enable_to_reset_existing_utm_template:!1,utm_auto_apply_new_link:!1})},he=function(e){Z(e),J(!0)},ye=function(){if(Q){var e=b.filter(function(e){return e.template_index!==Q});d(e);var a=dt(dt({},t),{},{global_utm_templates:e});(0,P.PW)(a,l,c),g&&g.template_index===Q&&(v(null),Ee()),Z(null),J(!1)}},Ne=function(){var e=(0,M.A)(V().mark(function e(){var a,n,s,i;return V().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Q){e.next=5;break}if(!((a=b.find(function(e){return e.template_index===Q}))&&a.categories&&a.categories.length>0)){e.next=4;break}return e.prev=1,e.next=2,(0,P.In)({action:"betterlinks/admin/apply_utm_template_to_links",template_data:{utm_source:"",utm_medium:"",utm_campaign:"",utm_term:"",utm_content:""},category_ids:a.categories,rewrite_existing:!0,reset_existing:!0});case 2:r&&r(),e.next=4;break;case 3:e.prev=3,i=e.catch(1),console.error("Error resetting UTM parameters:",i);case 4:n=b.filter(function(e){return e.template_index!==Q}),d(n),s=dt(dt({},t),{},{global_utm_templates:n}),(0,P.PW)(s,l,c),g&&g.template_index===Q&&(v(null),Ee()),Z(null),J(!1);case 5:case"end":return e.stop()}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),xe=function(){Z(null),J(!1)},we=function(){P.JT?(v(null),Ee(),N(!0),A(!0)):se()},Ce=function(){A(!1),Ee(),N(!1),v(null)},Ae=function(e){return te.has(e)},Oe=function(e){return e.template_name.length>25||e.categories&&e.categories.length>2},Se=[{template_name:"Comprehensive Social Media Campaign Strategy to Boost Brand Awareness, Engagement, and Conversions Across Multiple Platforms Through Targeted Content, Analytics, and Audience-Centric Marketing Approaches",utm_source:"facebook",utm_medium:"social",utm_campaign:"product_launch",utm_term:"new_product",utm_content:"ad_creative_1",categories:[],template_index:"demo_1",created_at:"2025-01-01T00:00:00.000Z"},{template_name:"Email Newsletter",utm_source:"email",utm_medium:"newsletter",utm_campaign:"weekly_update",utm_term:"",utm_content:"header_link",categories:["1"],template_index:"demo_2",created_at:"2025-01-01T00:00:00.000Z"},{template_name:"Google Ads Campaign",utm_source:"google",utm_medium:"cpc",utm_campaign:"search_ads",utm_term:"keywords",utm_content:"ad_text",categories:["1"],template_index:"demo_3",created_at:"2025-01-01T00:00:00.000Z"}],Pe=function(){se()};return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(S.A,{isOpenModal:re,closeModal:ie}),(0,n.createElement)(f.l1,{enableReinitialize:!0,initialValues:dt(dt({},t),{},{global_utm_templates:b}),onSubmit:function(e){var t=dt(dt({},e),{},{global_utm_templates:b});(0,P.PW)(t,l,c)}},function(){return(0,n.createElement)(f.lV,null,(0,n.createElement)("div",{className:"btl-utm-global-settings"},(0,n.createElement)("div",{className:"btl-utm-templates-section"},(0,n.createElement)("div",{className:"btl-utm-templates-wrapper"},(0,n.createElement)("div",{className:"btl-utm-templates-title btl-d-title"},(0,s.__)("Dynamic UTM Templates","betterlinks"),(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"dashicons dashicons-info-outline"}),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("Easily create dynamic and reusable UTM templates for your links. For more info, ","betterlinks"),(0,n.createElement)("a",{href:"https://betterlinks.io/docs/Create-Dynamic-UTM-Template-with-BetterLinks",target:"_blank",rel:"noopener noreferrer"},(0,s.__)("click here","betterlinks")),"."))),(0,n.createElement)("button",{className:"button-primary btn-save-settings",onClick:we,style:{cursor:P.JT?"pointer":"not-allowed"}},(0,n.createElement)("img",{style:{marginRight:"8px"},src:P.hq+"assets/images/add-icon.svg",alt:"Add icon"}),(0,s.__)("Create New Template","betterlinks"))),(0,n.createElement)(mt,{isOpen:C,onClose:Ce,isCreatingTemplate:y,activeTemplate:g,templateForm:me,setTemplateForm:ue,terms:T,handleTemplateCreate:ge,handleTemplateUpdate:ve,handleTemplateDelete:he,fetch_links_data:r}),(0,n.createElement)(ut,{isOpen:G,onClose:xe,onConfirm:Ne,onSecondaryConfirm:ye,title:(0,s.__)("Delete UTM Template","betterlinks"),subtitle:(0,s.__)("Are you sure you want to delete this UTM template? This action cannot be undone.","betterlinks"),icon:P.hq+"/assets/images/icons/warning.svg",confirmButtonText:(0,s.__)("Delete & Remove UTM","betterlinks"),secondaryConfirmButtonText:(0,s.__)("Delete Template","betterlinks"),showCancelButton:!1,cancelButtonText:(0,s.__)("Cancel","betterlinks"),isDangerous:!0,extraClass:"btl-utm-delete-confirm-modal"}),(!P.JT||b.length>0)&&(0,n.createElement)("div",{className:"btl-utm-templates-list-display"},(0,n.createElement)("h4",null,(0,s.__)("Configured Templates","betterlinks")),(0,n.createElement)("div",{className:"btl-utm-templates-list"},(P.JT?b:Se).map(function(e){P.JT&&function(e){e.categories&&0!==e.categories.length&&e.categories.some(function(t){var l=be(t),a=z[l];return a&&a.template_index===e.template_index})}(e);var t=!P.JT;return(0,n.createElement)("div",{key:e.template_index,className:"btl-utm-template-item ".concat(Ae(e.template_index)?"expanded":""," ").concat(t?"btl-utm-template-demo":"")},(0,n.createElement)("div",{className:"btl-utm-template-row"},(0,n.createElement)("div",{className:"btl-utm-template-content"},(0,n.createElement)("div",{className:"btl-utm-template-header",onClick:function(){return Oe(e)&&(t=e.template_index,(l=new Set(te)).has(t)?l.delete(t):l.add(t),void le(l));var t,l},style:{cursor:Oe(e)?"pointer":"default"}},(0,n.createElement)("h5",{className:"btl-utm-template-name"},e.template_name),!Ae(e.template_index)&&(0,n.createElement)("div",{className:"btl-utm-template-categories"},(0,n.createElement)("span",{className:"btl-utm-categories-label"},(0,s.__)("Categories:","betterlinks")," "),e.categories&&e.categories.length>0?e.categories.slice(0,2).map(function(l,a){var r,s=t?{term_name:"Uncategorized"}:de(l);r=t?"Uncategorized":B?"Loading...":s?s.term_name:"Deleted";var i=!!P.JT&&fe(e,l),o="Deleted"===r,c="Loading..."===r,m=pe(r,i,o,c,t);return(0,n.createElement)("div",{key:l,className:"btl-tooltip"},(0,n.createElement)("span",{className:"btl-utm-category-tag ".concat(o?"btl-utm-category-deleted":c?"btl-utm-category-loading":i?"btl-utm-category-active":"")},r),(0,n.createElement)("span",{className:"btl-tooltiptext"},m))}):(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"btl-utm-category-tag"},(0,s.__)("Unassigned","betterlinks")),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("Category not assigned yet.","betterlinks"))),e.categories&&e.categories.length>2&&(0,n.createElement)("span",{className:"btl-utm-more-categories"},e.categories.length-2," More...")))),(0,n.createElement)("div",{className:"btl-utm-template-actions"},(0,n.createElement)("button",{type:"button",className:"btl-utm-action-btn btl-utm-btn-ac",style:{cursor:P.JT?"pointer":"not-allowed"},onClick:function(){return t?Pe():function(e){var t=ke(e.categories).map(function(e){return be(e)}),l=dt(dt({},e),{},{categories:t,template_name:"Copy - ".concat(e.template_name),utm_enable_to_rewrite_existing_utm_template:e.utm_enable_to_rewrite_existing_utm_template||!1,utm_auto_apply_new_link:e.utm_auto_apply_new_link||!1});v(null),ue(l),N(!0),A(!0)}(e)}},(0,n.createElement)("div",{className:"btl-tooltip btl-utm-line"},(0,n.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("path",{d:"M3.34333 13.9475C3.08779 13.8018 2.87523 13.5912 2.72715 13.3371C2.57906 13.0829 2.50071 12.7942 2.5 12.5V4.16667C2.5 3.25 3.25 2.5 4.16667 2.5H12.5C13.125 2.5 13.465 2.82083 13.75 3.33333M5.83333 8.05583C5.83333 7.46639 6.06749 6.90109 6.48429 6.48429C6.90109 6.06749 7.46639 5.83333 8.05583 5.83333H15.2775C15.5694 5.83333 15.8584 5.89082 16.128 6.00251C16.3977 6.1142 16.6427 6.27791 16.849 6.48429C17.0554 6.69067 17.2191 6.93567 17.3308 7.20532C17.4425 7.47497 17.5 7.76397 17.5 8.05583V15.2775C17.5 15.5694 17.4425 15.8584 17.3308 16.128C17.2191 16.3977 17.0554 16.6427 16.849 16.849C16.6427 17.0554 16.3977 17.2191 16.128 17.3308C15.8584 17.4425 15.5694 17.5 15.2775 17.5H8.05583C7.76397 17.5 7.47497 17.4425 7.20532 17.3308C6.93567 17.2191 6.69067 17.0554 6.48429 16.849C6.27791 16.6427 6.1142 16.3977 6.00251 16.128C5.89082 15.8584 5.83333 15.5694 5.83333 15.2775V8.05583Z",stroke:"#475467",className:"btl-icon-light",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.createElement)("path",{d:"M3.34333 13.9475C3.08779 13.8018 2.87523 13.5912 2.72715 13.3371C2.57906 13.0829 2.50071 12.7942 2.5 12.5V4.16667C2.5 3.25 3.25 2.5 4.16667 2.5H12.5C13.125 2.5 13.465 2.82083 13.75 3.33333M5.83333 8.05583C5.83333 7.46639 6.06749 6.90109 6.48429 6.48429C6.90109 6.06749 7.46639 5.83333 8.05583 5.83333H15.2775C15.5694 5.83333 15.8584 5.89082 16.128 6.00251C16.3977 6.1142 16.6427 6.27791 16.849 6.48429C17.0554 6.69067 17.2191 6.93567 17.3308 7.20532C17.4425 7.47497 17.5 7.76397 17.5 8.05583V15.2775C17.5 15.5694 17.4425 15.8584 17.3308 16.128C17.2191 16.3977 17.0554 16.6427 16.849 16.849C16.6427 17.0554 16.3977 17.2191 16.128 17.3308C15.8584 17.4425 15.5694 17.5 15.2775 17.5H8.05583C7.76397 17.5 7.47497 17.4425 7.20532 17.3308C6.93567 17.2191 6.69067 17.0554 6.48429 16.849C6.27791 16.6427 6.1142 16.3977 6.00251 16.128C5.89082 15.8584 5.83333 15.5694 5.83333 15.2775V8.05583Z",stroke:"#FFFFFF",className:"btl-icon-dark",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("Duplicate","betterlinks")))),(0,n.createElement)("button",{type:"button",className:"btl-utm-action-btn btl-utm-btn-ac",style:{cursor:P.JT?"pointer":"not-allowed"},onClick:function(){return t?Pe():function(e){v(e);var t=ke(e.categories).map(function(e){return be(e)});ue(dt(dt({},e),{},{categories:t,utm_enable_to_rewrite_existing_utm_template:e.utm_enable_to_rewrite_existing_utm_template||!1,utm_enable_to_reset_existing_utm_template:e.utm_enable_to_reset_existing_utm_template||!1,utm_auto_apply_new_link:e.utm_auto_apply_new_link||!1})),N(!1),A(!0)}(e)},title:(0,s.__)("Edit","betterlinks")},(0,n.createElement)("div",{className:"btl-tooltip btl-utm-line"},(0,n.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("path",{d:"M5.8335 5.83333H5.00016C4.55814 5.83333 4.13421 6.00893 3.82165 6.32149C3.50909 6.63405 3.3335 7.05797 3.3335 7.5V15C3.3335 15.442 3.50909 15.866 3.82165 16.1785C4.13421 16.4911 4.55814 16.6667 5.00016 16.6667H12.5002C12.9422 16.6667 13.3661 16.4911 13.6787 16.1785C13.9912 15.866 14.1668 15.442 14.1668 15V14.1667M13.3335 4.16667L15.8335 6.66667M16.9877 5.48759C17.3159 5.15938 17.5003 4.71424 17.5003 4.25009C17.5003 3.78594 17.3159 3.34079 16.9877 3.01259C16.6595 2.68438 16.2143 2.5 15.7502 2.5C15.286 2.5 14.8409 2.68438 14.5127 3.01259L7.50016 10.0001V12.5001H10.0002L16.9877 5.48759Z",stroke:"#475467",className:"btl-icon-light",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.createElement)("path",{d:"M5.8335 5.83333H5.00016C4.55814 5.83333 4.13421 6.00893 3.82165 6.32149C3.50909 6.63405 3.3335 7.05797 3.3335 7.5V15C3.3335 15.442 3.50909 15.866 3.82165 16.1785C4.13421 16.4911 4.55814 16.6667 5.00016 16.6667H12.5002C12.9422 16.6667 13.3661 16.4911 13.6787 16.1785C13.9912 15.866 14.1668 15.442 14.1668 15V14.1667M13.3335 4.16667L15.8335 6.66667M16.9877 5.48759C17.3159 5.15938 17.5003 4.71424 17.5003 4.25009C17.5003 3.78594 17.3159 3.34079 16.9877 3.01259C16.6595 2.68438 16.2143 2.5 15.7502 2.5C15.286 2.5 14.8409 2.68438 14.5127 3.01259L7.50016 10.0001V12.5001H10.0002L16.9877 5.48759Z",stroke:"#FFFFFF",className:"btl-icon-dark",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("Edit","betterlinks")))),(0,n.createElement)("button",{type:"button",className:"btl-utm-action-btn btl-utm-btn-ac",style:{cursor:P.JT?"pointer":"not-allowed"},onClick:function(){return t?Pe():he(e.template_index)},title:(0,s.__)("Delete","betterlinks")},(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("path",{d:"M3.3335 5.83333H16.6668M8.3335 9.16667V14.1667M11.6668 9.16667V14.1667M4.16683 5.83333L5.00016 15.8333C5.00016 16.2754 5.17576 16.6993 5.48832 17.0118C5.80088 17.3244 6.2248 17.5 6.66683 17.5H13.3335C13.7755 17.5 14.1994 17.3244 14.512 17.0118C14.8246 16.6993 15.0002 16.2754 15.0002 15.8333L15.8335 5.83333M7.50016 5.83333V3.33333C7.50016 3.11232 7.58796 2.90036 7.74424 2.74408C7.90052 2.5878 8.11248 2.5 8.3335 2.5H11.6668C11.8878 2.5 12.0998 2.5878 12.2561 2.74408C12.4124 2.90036 12.5002 3.11232 12.5002 3.33333V5.83333",stroke:"#475467",className:"btl-icon-light",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.createElement)("path",{d:"M3.3335 5.83333H16.6668M8.3335 9.16667V14.1667M11.6668 9.16667V14.1667M4.16683 5.83333L5.00016 15.8333C5.00016 16.2754 5.17576 16.6993 5.48832 17.0118C5.80088 17.3244 6.2248 17.5 6.66683 17.5H13.3335C13.7755 17.5 14.1994 17.3244 14.512 17.0118C14.8246 16.6993 15.0002 16.2754 15.0002 15.8333L15.8335 5.83333M7.50016 5.83333V3.33333C7.50016 3.11232 7.58796 2.90036 7.74424 2.74408C7.90052 2.5878 8.11248 2.5 8.3335 2.5H11.6668C11.8878 2.5 12.0998 2.5878 12.2561 2.74408C12.4124 2.90036 12.5002 3.11232 12.5002 3.33333V5.83333",stroke:"#FFFFFF",className:"btl-icon-dark",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("Delete","betterlinks")))))),Ae(e.template_index)&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"btl-utm-template-separator"}),(0,n.createElement)("div",{className:"btl-utm-template-categories-expanded"},(0,n.createElement)("div",{className:"btl-utm-categories-label"},(0,s.__)("Categories:","betterlinks")),(0,n.createElement)("div",{className:"btl-utm-categories-grid"},e.categories&&e.categories.length>0?e.categories.map(function(l){var a,r=t?{term_name:"Uncategorized"}:de(l);a=t?"Uncategorized":B?"Loading...":r?r.term_name:"Deleted";var s=!!P.JT&&fe(e,l),i="Deleted"===a,o="Loading..."===a,c=pe(a,s,i,o,t);return(0,n.createElement)("div",{key:l,className:"btl-tooltip"},(0,n.createElement)("span",{className:"btl-utm-category-tag ".concat(i?"btl-utm-category-deleted":o?"btl-utm-category-loading":s?"btl-utm-category-active":"")},a),(0,n.createElement)("span",{className:"btl-tooltiptext"},c))}):(0,n.createElement)("div",{className:"btl-tooltip"},(0,n.createElement)("span",{className:"btl-utm-category-tag"},(0,s.__)("Unassigned","betterlinks")),(0,n.createElement)("span",{className:"btl-tooltiptext"},(0,s.__)("Unassigned Category","betterlinks")))))))}))),P.JT&&0===b.length&&(0,n.createElement)("div",{className:"btl-utm-empty-state"},(0,n.createElement)("div",{className:"btl-utm-empty-content"},(0,n.createElement)("div",{className:"btl-utm-empty-icon"},(0,n.createElement)("img",{src:P.hq+"assets/images/icons/empty-template.svg",alt:"No UTM Templates",width:"56",height:"56"})),(0,n.createElement)("h4",{className:"btl-utm-empty-title"},(0,s.__)("No UTM Templates Found","betterlinks")),(0,n.createElement)("p",{className:"btl-utm-empty-description"},(0,s.__)("Create your first UTM template to auto-apply parameters to links by category and track campaign performance.","betterlinks")),(0,n.createElement)("button",{className:"btl-utm-empty-cta",onClick:we},(0,s.__)("Create First Template","betterlinks")))))))}))}),_t=function(){return betterLinksHooks.applyFilters("BetterLinksAISettings",null,{})||(0,n.createElement)(ft,null)};var ft=function(){var e=(0,$.cN)(),t=(0,a.A)(e,3),l=t[0],r=t[1],i=t[2],o=(0,P.OS)("2.6.0");return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(S.A,{isOpenModal:l,closeModal:i}),(0,n.createElement)("div",{className:"btl-ai-settings"},(0,n.createElement)("div",{style:{borderBottom:"1px solid #DEE1E9"}},(0,n.createElement)("h3",{style:{margin:"0 0 20px 0",fontSize:"20px",fontWeight:"600"}},(0,s.__)("API Configuration","betterlinks"))),(0,n.createElement)("div",{className:"btl-form-group"},(0,n.createElement)("div",{className:"btl-form-field"},(0,n.createElement)("div",{className:"short-description"},(0,n.createElement)("b",{style:{fontWeight:700}},"Note: "),(0,n.createElement)("span",null,o?(0,s.__)("Make sure to save your API key and configure it to use AI features. For more details, ","betterlinks"):(0,s.__)("AI Bulk Link Generator requires BetterLinks Pro v2.6.0 or newer. Please update the plugin to use it.","betterlinks")),o&&(0,n.createElement)("a",{className:"external-analytic-tooltip-anchor",href:"https://betterlinks.io/docs/ai-bulk-link-generator-in-betterlinks/",target:"_blank",style:{color:"inherit"}},(0,s.__)("click here","betterlinks-pro"))))),(0,n.createElement)("div",{style:{marginBottom:"30px"},onClick:r},(0,n.createElement)("label",{style:{display:"block",marginBottom:"12px",fontWeight:"500",fontSize:"14px"}},(0,s.__)("Select AI Provider","betterlinks")),(0,n.createElement)("div",{style:{maxWidth:"350px",opacity:.6,pointerEvents:"none"}},(0,n.createElement)("div",{style:{width:"100%",padding:"10px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px",backgroundColor:"#f9f9f9",color:"#999"}},(0,s.__)("Select AI Provider","betterlinks"))),(0,n.createElement)("div",{style:{fontSize:"12px",color:"#999",marginTop:"8px"}},(0,s.__)("Choose your preferred AI provider","betterlinks"))),(0,n.createElement)("div",{style:{marginBottom:"30px"},onClick:r},(0,n.createElement)("label",{style:{display:"block",marginBottom:"12px",fontWeight:"500",fontSize:"14px"}},(0,s.__)("AI Model","betterlinks")),(0,n.createElement)("div",{style:{maxWidth:"350px",opacity:.6,pointerEvents:"none"}},(0,n.createElement)("div",{style:{width:"100%",padding:"10px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px",backgroundColor:"#f9f9f9",color:"#999"}},(0,s.__)("GPT-4o Mini","betterlinks"))),(0,n.createElement)("div",{style:{fontSize:"12px",color:"#999",marginTop:"8px"}},(0,s.__)("Choose the AI model for link generation based on your selected provider","betterlinks"))),(0,n.createElement)("div",{style:{marginBottom:"30px"},onClick:r},(0,n.createElement)("label",{style:{display:"block",marginBottom:"12px",fontWeight:"500",fontSize:"14px"}},(0,s.__)("OpenAI API Key","betterlinks")),(0,n.createElement)("input",{type:"password",placeholder:(0,s.__)("*****************************","betterlinks"),readOnly:!0,style:{width:"100%",maxWidth:"350px",padding:"10px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px",boxSizing:"border-box",backgroundColor:"#f9f9f9",opacity:.6,cursor:"not-allowed"}}),(0,n.createElement)("div",{style:{fontSize:"12px",color:"#999",marginTop:"8px"}},(0,s.__)("Get your API key from","betterlinks")," ",(0,n.createElement)("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",style:{color:"#2563EB",textDecoration:"none"}},(0,s.__)("OpenAI Platform","betterlinks")))),(0,n.createElement)("div",{style:{marginBottom:"30px"},onClick:r},(0,n.createElement)("label",{style:{display:"block",marginBottom:"12px",fontWeight:"500",fontSize:"14px"}},(0,s.__)("Gemini AI API Key","betterlinks")),(0,n.createElement)("input",{type:"password",placeholder:(0,s.__)("*****************************","betterlinks"),readOnly:!0,style:{width:"100%",maxWidth:"350px",padding:"10px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px",boxSizing:"border-box",backgroundColor:"#f9f9f9",opacity:.6,cursor:"not-allowed"}}),(0,n.createElement)("div",{style:{fontSize:"12px",color:"#999",marginTop:"8px"}},(0,s.__)("Get your API key from","betterlinks")," ",(0,n.createElement)("a",{href:"https://makersuite.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",style:{color:"#2563EB",textDecoration:"none"}},(0,s.__)("Google AI Studio","betterlinks")))),(0,n.createElement)("div",{style:{marginTop:"30px"},onClick:r},(0,n.createElement)("button",{type:"button",style:{padding:"10px 24px",background:"#2563EB",color:"white",border:"none",borderRadius:"4px",fontSize:"14px",fontWeight:"500",cursor:"not-allowed"}},(0,s.__)("Requires BetterLinks Pro v2.6.0+","betterlinks")))))};const kt=function(e){var t=e.settings,l=e.postdatas,a=e.autoCreateLinkSettings,r=e.terms,s=e.trackingSettings,o=e.setAutoCreateLinkSettings,c=[(0,n.createElement)(_t,null),(0,n.createElement)(We,{settings:t}),(0,n.createElement)(Be,null),(0,n.createElement)(pt,{settings:t}),(0,n.createElement)(ce,{settings:t,terms:r}),P.Ry&&(0,n.createElement)(Ze,{settings:t,terms:r}),(0,n.createElement)(Ce,{trackingSettings:s}),(0,n.createElement)(ge,{autoCreateLinkSettings:a,terms:r,setAutoCreateLinkSettings:o}),(0,n.createElement)(ke,{settings:t,postTypes:(null==l?void 0:l.postTypes)||[]}),(0,n.createElement)(Se,{settings:t}),(0,n.createElement)(ye,{settings:t}),(0,n.createElement)($e,{settings:t,postdatas:l})].filter(Boolean),m=betterLinksHooks.applyFilters("betterLinksSettingsOptionsTabList",O.gj),u=betterLinksHooks.applyFilters("betterLinksSettingsOptionsTabPanelList",c);return(0,n.createElement)("div",{className:"betterlinks-options-tabs-wrapper"},(0,n.createElement)(i.tU,null,(0,n.createElement)(i.wb,null,m.map(function(e,t){return(0,n.createElement)(i.oz,{key:t},e.label,"pro"===e.type&&!P.JT&&(0,n.createElement)(L.A,null))})),(0,n.createElement)("div",{className:"btl-tab-panel-inner",style:{height:"fit-content",width:"800px"}},u.map(function(e,t){return(0,n.createElement)(i.Kp,{key:t},e)}))))},gt=(0,c.Ng)(function(e){return{settings:e.settings,postdatas:e.postdatas,terms:e.terms}},function(e){return{fetch_settings_data:(0,m.zH)(u.kc,e),fetch_tracking_settings:(0,m.zH)(u.nQ,e),fetch_post_types_data:(0,m.zH)(b.P,e),fetch_terms_data:(0,m.zH)(Ge.fetch_terms_data,e)}})(function(e){var t,l=(0,n.useState)({}),c=(0,a.A)(l,2),m=c[0],u=c[1],b=(0,n.useState)({}),p=(0,a.A)(b,2),_=(p[0],p[1]),f=new URLSearchParams((0,o.useLocation)().search),k=f.get("import"),g=f.get("migration"),v=f.get("advanced"),E=e.settings.settings,h=e.terms.terms,y=betterLinksHooks.applyFilters("betterLinksSettingsFilterTabList",[(0,s.__)("General","betterlinks"),(0,s.__)("Advanced Options","betterlinks"),(0,s.__)("Tools","betterlinks"),(0,s.__)("Role Management","betterlinks"),(0,s.__)("Go Premium","betterlinks")]),N=betterLinksHooks.applyFilters("betterLinksSettingsFilterTabPanel",[(0,n.createElement)(D,{settings:E}),(0,n.createElement)(kt,{settings:E,postdatas:(null==e?void 0:e.postdatas)||{},autoCreateLinkSettings:m,terms:h,trackingSettings:null===(t=e.settings)||void 0===t?void 0:t.tracking,setTrackingSettings:_,setAutoCreateLinkSettings:u}),(0,n.createElement)(B,{query:f}),(0,n.createElement)(Q,null),(0,n.createElement)(Z,null)]);return(0,n.useEffect)(function(){var t;E||e.fetch_settings_data(),null!=e&&null!==(t=e.settings)&&void 0!==t&&t.tracking||e.fetch_tracking_settings(),e.postdatas.fetchedAll||e.fetch_post_types_data(),P.JT&&(0,P.In)({action:"betterlinks/admin/get_auto_create_links_settings"}).then(function(e){if(e.data.data){var t=e.data.data;u({enable_auto_link:t.enable_auto_link,post_shortlinks:t.enable_auto_link&&t.post_shortlinks,post_default_cat:t.enable_auto_link&&t.post_shortlinks&&t.post_default_cat,page_shortlinks:t.enable_auto_link&&t.page_shortlinks,page_default_cat:t.enable_auto_link&&t.page_shortlinks&&t.page_default_cat,custom_post_type_shortlinks:t.enable_auto_link&&t.custom_post_type_shortlinks,custom_post_type_default_cat:t.enable_auto_link&&t.custom_post_type_shortlinks&&t.custom_post_type_default_cat,custom_post_types_selection:t.enable_auto_link&&t.custom_post_type_shortlinks&&t.custom_post_types_selection})}}),h||e.fetch_terms_data()},[]),(0,n.createElement)(r().Fragment,null,(0,n.createElement)(d.A,{label:(0,s.__)("BetterLinks Settings","betterlinks")}),(0,n.createElement)(i.tU,{defaultIndex:"true"==k?2:"true"==v?1:0},(0,n.createElement)(i.wb,null,y.map(function(e,t){return(0,n.createElement)(i.oz,{key:t},e)})),N.map(function(e,t){return(0,n.createElement)(i.Kp,{key:t},e)})),g&&(0,n.createElement)(z,{mode:g}),(0,n.createElement)(X,null))})},3503(e,t,l){l.d(t,{Ay:()=>E});var a,n,r,s=l(8168),i=l(5458),o=l(3029),c=l(2901),m=l(5501),u=l(246),b=l(1609),d=l.n(b),p=l(4125),_=l(8294),f=(l(9132),l(5795),function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,l=String(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase(),a=String(t.getOptionValue(e)).toLowerCase(),n=String(t.getOptionLabel(e)).toLowerCase();return a===l||n===l}),k={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,l,a){return!(!e||t.some(function(t){return f(e,t,a)})||l.some(function(t){return f(e,t,a)}))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}},getOptionValue:p.g,getOptionLabel:p.a},g=(0,u.a)({allowCreateWhileLoading:!1,createOptionPosition:"last"},k),v=(a=p.S,r=n=function(e){(0,m.A)(l,e);var t=(0,u._)(l);function l(e){var a;(0,o.A)(this,l),(a=t.call(this,e)).select=void 0,a.onChange=function(e,t){var l=a.props,n=l.getNewOptionData,r=l.inputValue,s=l.isMulti,o=l.onChange,c=l.onCreateOption,m=l.value,b=l.name;if("select-option"!==t.action)return o(e,t);var d=a.state.newOption,p=Array.isArray(e)?e:[e];if(p[p.length-1]!==d)o(e,t);else if(c)c(r);else{var _=n(r,r),f={action:"create-option",name:b,option:_};o(s?[].concat((0,i.A)((0,u.E)(m)),[_]):_,f)}};var n=e.options||[];return a.state={newOption:void 0,options:n},a}return(0,c.A)(l,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var e=this,t=this.state.options;return d().createElement(a,(0,s.A)({},this.props,{ref:function(t){e.select=t},options:t,onChange:this.onChange}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var l=e.allowCreateWhileLoading,a=e.createOptionPosition,n=e.formatCreateLabel,r=e.getNewOptionData,s=e.inputValue,o=e.isLoading,c=e.isValidNewOption,m=e.value,b=e.getOptionValue,d=e.getOptionLabel,p=e.options||[],_=t.newOption;return{newOption:_=c(s,(0,u.E)(m),p,{getOptionValue:b,getOptionLabel:d})?r(s,n(s)):void 0,options:!l&&o||!_?p:"first"===a?[_].concat((0,i.A)(p)):[].concat((0,i.A)(p),[_])}}}]),l}(b.Component),n.defaultProps=g,r);const E=(0,_.m)(v)}}]);