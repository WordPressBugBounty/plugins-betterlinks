"use strict";(globalThis.webpackChunkbetterlinks=globalThis.webpackChunkbetterlinks||[]).push([[841],{220(e,t,a){a.d(t,{h:()=>i});var n,l=a(1609);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(null,arguments)}var i=function(e){return l.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 40 47"},e),n||(n=l.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m19.557 26.171-2.514-1.864a5.6 5.6 0 0 0-7.834 1.162l-5.873 7.92a5.6 5.6 0 0 0 1.162 7.834l2.514 1.864a5.6 5.6 0 0 0 7.834-1.162l5.874-7.92a5.6 5.6 0 0 0-1.163-7.834M35.109 5.2l-2.514-1.864a5.6 5.6 0 0 0-7.834 1.162l-5.873 7.92a5.6 5.6 0 0 0 1.162 7.834l2.514 1.864a5.6 5.6 0 0 0 7.834-1.162l5.873-7.92A5.6 5.6 0 0 0 35.11 5.2M12.89 32.524l13.82-18.63"})))}},907(e,t,a){a.d(t,{A:()=>c});var n=a(4467),l=a(1609),r=a(3516);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}const c=function(e){return(0,l.createElement)(r.Ay,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({speed:2,width:"100%",height:"100%",viewBox:"0 0 532 148",backgroundColor:"#e8e8e8",foregroundColor:"#c2c2c2"},e),(0,l.createElement)("rect",{x:"2",y:"2",rx:"0",ry:"0",width:"530",height:"11"}),(0,l.createElement)("rect",{x:"3",y:"21",rx:"0",ry:"0",width:"527",height:"10"}),(0,l.createElement)("rect",{x:"2",y:"46",rx:"0",ry:"0",width:"530",height:"3"}),(0,l.createElement)("rect",{x:"2",y:"61",rx:"0",ry:"0",width:"530",height:"3"}),(0,l.createElement)("rect",{x:"2",y:"76",rx:"0",ry:"0",width:"530",height:"3"}),(0,l.createElement)("rect",{x:"2",y:"91",rx:"0",ry:"0",width:"530",height:"3"}),(0,l.createElement)("rect",{x:"2",y:"106",rx:"0",ry:"0",width:"530",height:"3"}),(0,l.createElement)("rect",{x:"1",y:"2",rx:"0",ry:"0",width:"3",height:"107"}),(0,l.createElement)("rect",{x:"529",y:"2",rx:"0",ry:"0",width:"3",height:"106"}),(0,l.createElement)("rect",{x:"2",y:"8",rx:"0",ry:"0",width:"8",height:"16"}),(0,l.createElement)("rect",{x:"25",y:"8",rx:"0",ry:"0",width:"84",height:"17"}),(0,l.createElement)("rect",{x:"144",y:"10",rx:"0",ry:"0",width:"83",height:"14"}),(0,l.createElement)("rect",{x:"264",y:"9",rx:"0",ry:"0",width:"77",height:"16"}),(0,l.createElement)("rect",{x:"476",y:"8",rx:"0",ry:"0",width:"54",height:"18"}),(0,l.createElement)("rect",{x:"374",y:"8",rx:"0",ry:"0",width:"71",height:"16"}),(0,l.createElement)("rect",{x:"10",y:"39",rx:"0",ry:"0",width:"16",height:"2"}),(0,l.createElement)("rect",{x:"110",y:"38",rx:"0",ry:"0",width:"39",height:"2"}),(0,l.createElement)("rect",{x:"227",y:"38",rx:"0",ry:"0",width:"65",height:"3"}),(0,l.createElement)("rect",{x:"341",y:"38",rx:"0",ry:"0",width:"39",height:"2"}),(0,l.createElement)("rect",{x:"445",y:"38",rx:"0",ry:"0",width:"54",height:"3"}),(0,l.createElement)("rect",{x:"10",y:"55",rx:"0",ry:"0",width:"16",height:"2"}),(0,l.createElement)("rect",{x:"110",y:"54",rx:"0",ry:"0",width:"39",height:"2"}),(0,l.createElement)("rect",{x:"227",y:"54",rx:"0",ry:"0",width:"58",height:"3"}),(0,l.createElement)("rect",{x:"341",y:"54",rx:"0",ry:"0",width:"39",height:"2"}),(0,l.createElement)("rect",{x:"445",y:"54",rx:"0",ry:"0",width:"49",height:"3"}),(0,l.createElement)("rect",{x:"10",y:"70",rx:"0",ry:"0",width:"16",height:"2"}),(0,l.createElement)("rect",{x:"110",y:"69",rx:"0",ry:"0",width:"39",height:"2"}),(0,l.createElement)("rect",{x:"227",y:"69",rx:"0",ry:"0",width:"60",height:"3"}),(0,l.createElement)("rect",{x:"341",y:"69",rx:"0",ry:"0",width:"39",height:"2"}),(0,l.createElement)("rect",{x:"445",y:"68",rx:"0",ry:"0",width:"56",height:"3"}),(0,l.createElement)("rect",{x:"10",y:"85",rx:"0",ry:"0",width:"16",height:"2"}),(0,l.createElement)("rect",{x:"110",y:"84",rx:"0",ry:"0",width:"39",height:"2"}),(0,l.createElement)("rect",{x:"227",y:"84",rx:"0",ry:"0",width:"54",height:"3"}),(0,l.createElement)("rect",{x:"341",y:"84",rx:"0",ry:"0",width:"39",height:"2"}),(0,l.createElement)("rect",{x:"445",y:"84",rx:"0",ry:"0",width:"45",height:"3"}),(0,l.createElement)("rect",{x:"10",y:"100",rx:"0",ry:"0",width:"16",height:"2"}),(0,l.createElement)("rect",{x:"110",y:"99",rx:"0",ry:"0",width:"39",height:"2"}),(0,l.createElement)("rect",{x:"227",y:"99",rx:"0",ry:"0",width:"58",height:"3"}),(0,l.createElement)("rect",{x:"341",y:"99",rx:"0",ry:"0",width:"39",height:"2"}),(0,l.createElement)("rect",{x:"445",y:"99",rx:"0",ry:"0",width:"54",height:"3"}))}},5051(e,t,a){a.d(t,{A:()=>i});var n=a(1609),l=a(7723),r=a(9735);const i=function(e){var t=e.mode,a=void 0===t?"#f2f2f2":t,i=e.noticeType,c=void 0===i?"warning":i,s=e.compatibleProVersion,o=e.notice;if((0,r.OS)(s))return"";var d={group:{marginLeft:0,padding:0},notice:{padding:"15px",background:a}};return(0,n.createElement)("div",{className:"btl-form-group ".concat(""!==c?"notice notice-"+c:""),style:d.group},(0,n.createElement)("div",{style:d.notice},(0,n.createElement)("b",{style:{fontWeight:700}},(0,l.__)("Note: ")),o))}},2057(e,t,a){a.d(t,{M:()=>g});var n,l,r=a(1609),i=a(426),c=a(6272),s=a(4392),o=a(7723);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d.apply(null,arguments)}var u=function(e){return r.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",width:21,height:21,fill:"none"},e),n||(n=r.createElement("g",{clipPath:"url(#locked-2_svg__a)"},r.createElement("path",{fill:"#3C3A60",d:"M15.171 11.09a.807.807 0 0 1-.806-.806V5.979a3.87 3.87 0 0 0-3.866-3.866 3.87 3.87 0 0 0-3.867 3.866v4.305a.806.806 0 1 1-1.612 0V5.979A5.485 5.485 0 0 1 10.499.5a5.485 5.485 0 0 1 5.479 5.48v4.304a.807.807 0 0 1-.807.806"}),r.createElement("path",{fill:"#9FACBA",d:"M10.5.5q-.41 0-.805.06a5.49 5.49 0 0 1 4.675 5.42v4.304l-.002.046a.806.806 0 0 0 1.61-.046V5.979A5.485 5.485 0 0 0 10.5.5"}),r.createElement("path",{fill:"#FEB137",d:"M16.999 20.5H4a1.36 1.36 0 0 1-1.36-1.36V9.506c0-.75.61-1.359 1.36-1.359h12.999c.75 0 1.359.609 1.359 1.36v9.634c0 .75-.608 1.359-1.36 1.359"}),r.createElement("path",{fill:"#F6AB31",d:"M16.999 8.147H15.39c.75 0 1.359.609 1.359 1.36v9.634c0 .75-.609 1.359-1.36 1.359H17c.75 0 1.36-.609 1.36-1.36V9.506c0-.75-.61-1.359-1.36-1.359"}),r.createElement("path",{fill:"#272847",d:"M12.56 13.249a2.061 2.061 0 1 0-3.095 1.783v2.377a1.034 1.034 0 1 0 2.067 0v-2.377a2.06 2.06 0 0 0 1.028-1.783"}))),l||(l=r.createElement("defs",null,r.createElement("clipPath",{id:"locked-2_svg__a"},r.createElement("path",{fill:"#fff",d:"M.5.5h20v20H.5z"})))))},m=a(9735),g=function(e){var t=e.title,a=void 0===t?null:t,n=e.description,l=void 0===n?"":n,d=e.children;return m.JT?null:(0,r.createElement)("div",{className:"btl-analytics-chart-overlay",style:{zIndex:"10"}},(0,r.createElement)(i.A,{sx:{minWidth:275}},(0,r.createElement)(c.A,null,(0,r.createElement)(s.A,{variant:"h5",color:"text.secondary",gutterBottom:!0},a||(0,o.__)("Get BetterLinks PRO ","betterlinks"),(0,r.createElement)(u,null)),(0,r.createElement)(s.A,{variant:"p",color:"text.secondary",gutterBottom:!0},l),(0,r.createElement)("div",null,d),(0,r.createElement)("div",{className:"analytics-upgrade-btn"},(0,r.createElement)("a",{href:"https://wpdeveloper.com/in/upgrade-betterlinks",target:"_blank"},(0,r.createElement)("img",{src:m.hq+"/assets/images/crown.svg",alt:""}),(0,o.__)("Upgrade To BetterLinks PRO","betterlinks"))))))}},6560(e,t,a){a.d(t,{A:()=>C});var n=a(3453),l=a(45),r=a(1609),i=a.n(r),c=a(1225),s=a(8238),o=a(7723),d=a(9735),u=a(4086),m=a(7154),g=a(5458),h=a(8766),y=a(7400),p=a(312),f=a.n(p),v=a(20),_=a(979),b=a(2505),k=a.n(b),E=a(3348),w=[].concat((0,g.A)(v.c),[{label:"Delete All",range:function(){return{startDate:new Date("2000-01-01"),endDate:new Date}},isSelected:function(e){var t=new Date("2000-01-01"),a=new Date;return e.startDate.toDateString()===t.toDateString()&&e.endDate.toDateString()===a.toDateString()}}]);const x=(0,c.Ng)(function(){return{}},function(e){return{fetchCustomClicksData:(0,s.zH)(h.lC,e),dispatch_new_links_data:(0,s.zH)(y.dispatch_new_links_data,e),fetch_clicks_data:(0,s.zH)(h.AK,e),get_chart_data:(0,s.zH)(h.Hr,e),get_graph_data:(0,s.zH)(h.rF,e),get_medium_data:(0,s.zH)(h._I,e)}})(function(e){var t=e.fetchCustomClicksData,a=e.dispatch_new_links_data,l=e.fetch_clicks_data,i=e.get_chart_data,c=e.get_graph_data,s=e.get_medium_data,u=(e.propsForAnalytics||{}).customDateFilter,m=(0,r.useState)(0),g=(0,n.A)(m,2),h=g[0],y=g[1],p=(0,r.useState)(!1),b=(0,n.A)(p,2),x=b[0],N=b[1],A=(0,r.useState)(0),D=(0,n.A)(A,2),L=D[0],S=D[1],O=(0,r.useState)("reset_modal_step_1"),C=(0,n.A)(O,2),q=C[0],P=C[1],j=(0,r.useState)([{startDate:(0,_.A)(new Date,30),endDate:new Date,key:"selection"}]),F=(0,n.A)(j,2),H=F[0],z=F[1],M=(0,r.useState)(""),T=(0,n.A)(M,2),R=T[0],Y=T[1],B=(0,r.useState)(0),I=(0,n.A)(B,2),V=I[0],W=I[1],J=(0,r.useState)((0,o.__)("Refresh Stats","betterlinks")),U=(0,n.A)(J,2),G=U[0],K=U[1],Q=(0,r.useState)((0,o.__)("Active Now","betterlinks")),X=(0,n.A)(Q,2),Z=X[0],$=X[1],ee=(0,r.useState)(d.cw),te=(0,n.A)(ee,2),ae=te[0],ne=te[1];(0,r.useEffect)(function(){var e,t;return x?null===(e=document)||void 0===e||null===(e=e.body)||void 0===e||null===(e=e.classList)||void 0===e||e.add("betterlinks-delete-clicks-modal-popup-opened"):null===(t=document)||void 0===t||null===(t=t.body)||void 0===t||null===(t=t.classList)||void 0===t||t.remove("betterlinks-delete-clicks-modal-popup-opened"),function(){var e;null===(e=document)||void 0===e||null===(e=e.body)||void 0===e||null===(e=e.classList)||void 0===e||e.remove("betterlinks-delete-clicks-modal-popup-opened")}},[x]);var le=function(){clearTimeout(h),P("reset_modal_step_1"),N(!1),z([{startDate:(0,_.A)(new Date,30),endDate:new Date,key:"selection"}]),Y("")},re=function(){le()},ie=(0,E.useLocation)(),ce=new URLSearchParams(ie.search).get("id"),se="RESET CLICKS"===R.trim();return(0,r.createElement)("div",{className:"btl-analytic-reset-wrapeer btl-btn-groups betterlinks"},(0,r.createElement)("button",{className:"button-secondary-gray btl-reset-analytics-initial-button",onClick:function(){N(!0),P("reset_modal_step_1")}},ce?"Reset Link Clicks":"Reset"),(0,r.createElement)("div",{className:"status btl-refresh-btn"},ae?(0,r.createElement)(r.Fragment,null,(0,r.createElement)("img",{width:18,height:18,src:d.hq+"/assets/images/icons/refresh.svg",alt:"Refresh"}),(0,r.createElement)("button",{type:"button",onClick:function(){K((0,o.__)("Refreshing...","betterlinks")),k().post("".concat(ajaxurl,"?action=betterlinks/admin/analytics&security=").concat(d.sL)).then(function(e){if(e.data)if((0,d.o6)(null,(0,o.__)("Done!","betterlinks"),(0,o.__)("Refresh Stats","betterlinks"),K),u&&u[0]){var t={from:(0,d.Yq)(u[0].startDate,"yyyy-mm-dd"),to:(0,d.Yq)(u[0].endDate,"yyyy-mm-dd"),setLoading:function(){}};l(t),i(t),c(t),s(t)}else{var a={setLoading:function(){}};l(a),i(a),c(a),s(a)}},function(e){console.log(e)})},className:"btl-refresh-btn button button-primary"},G)):(0,r.createElement)(r.Fragment,null,(0,r.createElement)("button",{type:"button",onClick:function(){$((0,o.__)("Activating...","betterlinks")),k().post("".concat(ajaxurl,"?action=betterlinks/admin/write_json_clicks&security=").concat(d.sL)).then(function(e){e.data&&((0,d.o6)(null,(0,o.__)("Activated!","betterlinks"),(0,o.__)("Active Now","betterlinks"),$),setTimeout(function(){ne(!0)},1500))},function(e){console.log(e)})},className:"btl-refresh-btn button button-primary"},Z))),(0,r.createElement)(f(),{isOpen:x,onRequestClose:le,ariaHideApp:!1,className:"".concat("reset_modal_step_1"!==q?"btl-anl-delete-clicks-modal":""),style:{position:"absolute",inset:"40px"}},(0,r.createElement)("div",{className:"btl-reset-modal-popup-wrapper ".concat("reset_modal_step_1"===q?"step-1-active":""," ").concat("reset_modal_step_2"===q?"step-2-active":"")},"reset_modal_step_1"!==q&&(0,r.createElement)("span",{className:"btl-close-modal",onClick:le},(0,r.createElement)("i",{className:"btl btl-cancel"})),"reset_modal_step_1"===q&&(0,r.createElement)("div",{className:"btl-reset-modal-popup btl-reset-modal-popup-step-1 betterlinks-body"},(0,r.createElement)("div",{className:"btl-compact-date-picker"},(0,r.createElement)("div",{className:"btl-date-picker-title"},ce?"Select Date Range for Link Clicks":"Pick the range of BetterLinks Analytics that you want to reset."),(0,r.createElement)("button",{onClick:re,className:"btn-date-range-close"},(0,r.createElement)("span",{className:"dashicons dashicons-no-alt"})),(0,r.createElement)(v.Ur,{onChange:function(e){z([e.selection])},showSelectionPreview:!0,moveRangeOnFirstSelection:!1,months:2,ranges:H,direction:"horizontal",showMonthAndYearPickers:!0,showDateDisplay:!0,rangeColors:["#007cba"],color:"#007cba",staticRanges:w,inputRanges:[]}),(0,r.createElement)("div",{className:"btl-date-picker-actions"},(0,r.createElement)("button",{className:"button-primary btl-apply-date-range",onClick:function(){if(H&&H[0]){var e=(0,d.Yq)(H[0].startDate,"yyyy-mm-dd"),t=(0,d.Yq)(H[0].endDate,"yyyy-mm-dd"),a=new FormData;a.append("action","betterlinks/admin/get_clicks_count"),a.append("security",d.sL),a.append("from",e),a.append("to",t),null!==ce&&a.append("link_id",ce),k().post(ajaxurl,a).then(function(e){e.data&&e.data.success&&W(e.data.data.count||0),P("reset_modal_step_2"),Y("")},function(e){console.log(e),W(0),P("reset_modal_step_2"),Y("")})}}},(0,r.createElement)("img",{width:16,height:16,src:d.hq+"/assets/images/icons/trash-red.svg"}),"Reset Click"),(0,r.createElement)("button",{className:"button-primary btl-cancel-date-range",onClick:re},"Cancel")))),"reset_modal_step_2"===q&&(0,r.createElement)("div",{className:"btl-reset-modal-popup btl-reset-modal-popup-step-2 betterlinks-body"},(0,r.createElement)("img",{width:48,height:48,src:d.hq+"/assets/images/icons/warning.svg",alt:"Warning",className:"btl-warning-icon"}),(0,r.createElement)("div",{className:"btl-reset-modal-popup-title"},"This Action Cannot be Undone"),(0,r.createElement)("p",{className:"btl-delete-description"},"You are about to permanently delete click analytics from"),(0,r.createElement)("div",{className:"btl-analytics-dlt-date"},(0,r.createElement)("span",{className:"btl-date-range"},H[0].startDate.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})," â€“ ",H[0].endDate.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})),"."),(0,r.createElement)("div",{className:"btl-delete-count-box"},"A total of ",(0,r.createElement)("strong",{className:"btl-delete-count"},V.toLocaleString())," click record",1!==V?"s":""," will be removed."),(0,r.createElement)("div",{className:"btl-confirmation-section"},(0,r.createElement)("div",{className:"btl-confirmation-label"},"To confirm, type ",(0,r.createElement)("b",null,"RESET CLICKS")),(0,r.createElement)("input",{type:"text",required:!0,className:"btl-modal-form-control btl-reset-confirmation-input",placeholder:"RESET CLICKS",value:R,onChange:function(e){Y(e.target.value)}})),(0,r.createElement)("div",{className:"btl-btn-reset-popup-step-2-buttons"},(0,r.createElement)("button",{className:"btl-button-cancel btl-btn-reset-cancel",onClick:function(){return P("reset_modal_step_1")}},"Cancel"),(0,r.createElement)("button",{className:"btl-button-danger btl-btn-reset-apply-2 ".concat(se?"":"disabled"),onClick:function(){if("RESET CLICKS"===R.trim()){if(H&&H[0]){var e=(0,d.Yq)(H[0].startDate,"yyyy-mm-dd"),n=(0,d.Yq)(H[0].endDate,"yyyy-mm-dd");P("deleting"),(0,d.Xq)(!1,e,n,ce).then(function(e){var n,r=setTimeout(function(){le()},444e3);if(y(r),null!=e&&null!==(n=e.data)&&void 0!==n&&n.success){var o,m,g;if(S(null==e||null===(o=e.data)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.count),t({data:null==e||null===(m=e.data)||void 0===m||null===(m=m.data)||void 0===m?void 0:m.new_clicks_data}),a({data:null==e||null===(g=e.data)||void 0===g||null===(g=g.data)||void 0===g?void 0:g.new_links_data}),u&&u[0]){var h={from:(0,d.Yq)(u[0].startDate,"yyyy-mm-dd"),to:(0,d.Yq)(u[0].endDate,"yyyy-mm-dd"),setLoading:function(){}};l(h),i(h),c(h),s(h)}else{var p={setLoading:function(){}};l(p),i(p),c(p),s(p)}P("success")}else P("failed")}).catch(function(e){console.log("---caught error on DeleteClicks",{err:e});var t=setTimeout(function(){le()},3e3);y(t)})}}else{var r=document.querySelector(".btl-confirmation-input");r&&r.focus()}},disabled:!se},(0,r.createElement)("img",{width:14,height:14,src:d.hq+"/assets/images/icons/delete.svg",alt:"Delete"}),"Delete"))),"deleting"===q&&(0,r.createElement)("div",{className:"btl-reset-deleting-modal"},(0,r.createElement)("img",{width:48,height:48,src:d.hq+"/assets/images/icons/warning.svg",alt:"Deleting",className:"btl-deleting-icon"}),(0,r.createElement)("div",{className:"btl-reset-deleting-modal-title"},"Processing..."),(0,r.createElement)("div",{className:"btl-reset-deleting-modal-description"},"Deleting click analytics data from ",(0,r.createElement)("span",{className:"btl-date-range-processing"}," ",H[0].startDate.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"})," to ",H[0].endDate.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"})," ")," ."),(0,r.createElement)("div",{className:"btl-reset-deleting-modal-processing"}," This may take a moment.")),"success"===q&&0!==L&&(0,r.createElement)("div",{className:"btl-reset-finish-modal"},(0,r.createElement)("img",{width:90,height:90,src:d.hq+"/assets/images/icons/completed.svg"}),(0,r.createElement)("span",{className:"btl-reset-finish-modal-title"},L," Click data has been successfully deleted"),(0,r.createElement)("span",{className:"btl-reset-finish-modal-description"},"Click data has been successfully deleted for ",H[0].startDate.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"})," to ",H[0].endDate.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"}),"."),(0,r.createElement)("button",{className:"button-primary btl-cancel-finish-date-range",onClick:re},"Back to Analytics")),"success"===q&&0===L&&(0,r.createElement)("div",{className:"btl-reset-not-found-wrapper"},(0,r.createElement)("img",{width:90,height:90,src:d.hq+"/assets/images/icons/not-found.svg"}),(0,r.createElement)("h2",{className:"btl-reset-not-found-modal-title"},"No clicks data found ",ce?"for this link ":"","in the selected date range ",(0,r.createElement)("span",{className:"btl-reset-date-range"}," ",H[0].startDate.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"})," to ",H[0].endDate.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"})," "))),"failed"===q&&(0,r.createElement)("h2",null,"Failed!!"))))});var N=a(5556),A=a.n(N),D=a(150),L=["is_pro","render"],S={label:A().string,render:A().func},O=function(e){var t=e.is_pro,a=void 0!==t&&t,c=e.render,s=void 0===c?function(){}:c,u=(0,l.A)(e,L),m=u.propsForAnalytics,g=u.activity.darkMode,h=(0,r.useState)(g),y=(0,n.A)(h,2),p=y[0],f=y[1];(0,r.useEffect)(function(){g?document.body.classList.add("betterlinks-dark-mode"):document.body.classList.remove("betterlinks-dark-mode")},[]);var v=betterLinksQuery.get("page"),_=u.favouriteSort.sortByFav;return(0,r.createElement)("div",{className:"topbar"},(0,r.createElement)("div",{className:"topbar__logo_container"},(0,r.createElement)("div",{className:"topbar__logo"},(0,r.createElement)("img",{src:d.hq+"assets/images/logo-large".concat(p?"-white":"",".svg"),alt:"logo"}),(0,r.createElement)("span",{className:"topbar__logo__text"},u.label),a&&(0,r.createElement)(D.A,null)),s()),(0,r.createElement)("div",{className:"topbar-inner"},"betterlinks"===v&&(0,r.createElement)(i().Fragment,null,(0,r.createElement)("div",{className:"btl-view-control"},(0,r.createElement)("button",{title:(0,o.__)("Favorite Links","betterlinks"),className:"btl-link-view-toggler btl-sortby-fav ".concat(_?"active":""),onClick:function(){return u.sortFavourite(!_)}},(0,r.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"favorite-svg",viewBox:"0 0 512 512",xmlSpace:"preserve"},(0,r.createElement)("path",{className:"fav-icon-svg-path",d:"M392.2 317.5c-3 2.9-4.4 7.1-3.7 11.3L414 477.4c1.2 7-3.5 13.6-10.5 14.9-2.8.5-5.6 0-8.1-1.3L262 420.9c-3.7-2-8.2-2-12 0L116.6 491c-3.1 1.7-6.8 1.9-10.1.8-6-2.1-9.5-8.1-8.5-14.4l25.4-148.5c.7-4.2-.7-8.4-3.7-11.4L11.9 212.4c-5.1-5-5.2-13.1-.2-18.2 2-2 4.6-3.3 7.3-3.7l149.1-21.7c4.2-.6 7.8-3.2 9.7-7l66.7-135c2.6-5.3 8.4-8.1 14.2-6.9 3.9.7 7.2 3.3 8.9 6.9l66.7 135c1.9 3.8 5.5 6.4 9.7 7l149 21.6c7 1 11.9 7.6 10.9 14.6-.4 2.7-1.7 5.3-3.7 7.2l-108 105.3z"}))),(0,r.createElement)("button",{title:(0,o.__)("List View","betterlinks"),className:"btl-link-view-toggler ".concat("list"==u.activity.linksView?"active":""),onClick:function(){return u.linksView("list")}},(0,r.createElement)("i",{className:"btl btl-list"})),(0,r.createElement)("button",{title:(0,o.__)("Grid View","betterlinks"),className:"btl-link-view-toggler ".concat("grid"==u.activity.linksView?"active":""),onClick:function(){return u.linksView("grid")}},(0,r.createElement)("i",{className:"btl btl-grid"})))),(null==m?void 0:m.isResetAnalytics)&&(0,r.createElement)(x,{propsForAnalytics:m}),(0,r.createElement)("label",{className:"theme-mood-button",htmlFor:"theme-mood",title:(0,o.__)("Theme Mode","betterlinks")},(0,r.createElement)("input",{type:"checkbox",name:"theme-mood",id:"theme-mood",value:p,onChange:function(){return function(e){e?document.body.classList.add("betterlinks-dark-mode"):document.body.classList.remove("betterlinks-dark-mode"),u.update_theme_mode(e),f(e)}(!p)},checked:p}),(0,r.createElement)("span",{className:"theme-mood"},(0,r.createElement)("span",{className:"icon"},(0,r.createElement)("i",{className:"btl btl-sun"})),(0,r.createElement)("span",{className:"icon"},(0,r.createElement)("i",{className:"btl btl-moon"}))))))};O.propTypes=S;const C=(0,c.Ng)(function(e){return{activity:e.activity,favouriteSort:e.favouriteSort}},function(e){return{linksView:(0,s.zH)(u.xb,e),sortFavourite:(0,s.zH)(m.sortFavourite,e),update_theme_mode:(0,s.zH)(u.Q7,e)}})(O)},5901(e,t,a){a.r(t),a.d(t,{default:()=>Ue});var n=a(4467),l=a(3453),r=a(1609),i=a.n(r),c=a(6663),s=a(7723),o=a(6560),d=a(8238),u=a(1225),m=a(7153),g=a(979),h=a(2078),y=a(9735),p=a(138),f=a(1912),v=[{label:"Browser",value:"browser"},{label:"IP",value:"ip"},{label:"Country",value:"country_name"},{label:"Timestamp",value:"created_at"},{label:"Referer",value:"referer"},{label:"Parameters",value:"query_params"},{label:"OS",value:"os"},{label:"Device",value:"device"}],_=function(){return function(e){var t=localStorage.getItem("btl_analytics_settings")?JSON.parse(localStorage.getItem("btl_analytics_settings")):v;e({type:f.FETCH_ANALYTICS_SETTINGS,payload:t})}},b=function(e){return function(t){localStorage.setItem("btl_analytics_settings",JSON.stringify(e)),t({type:f.FETCH_ANALYTICS_SETTINGS,payload:e})}},k=a(467),E=a(9280),w=a.n(E),x=a(907),N=a(3757),A=a(5458);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const S=function(e){var t=e.searchStatus;return(0,r.createElement)("div",{className:"search-wrapper"},(0,r.createElement)("div",{className:"search loading"},(0,r.createElement)("div",{className:"search__circle",style:L({},t&&{animation:"load8 1.1s infinite linear","-webkit-animation":"load8 1.1s infinite linear","border-left-color":"#ef726c"})}),(0,r.createElement)("div",{className:"search__rectangle"})))};var O=a(7622),C=a(150),q=a(6005);const P=function(e){var t=e.filterText,a=e.onFilter,n=e.searchClickHandler,i=e.searchStatus,c=e.isSearching,o=e.resetSearch,d=e.analytics,u=e.update_analytics_settings,m=e.id,g=e.selectedRows,h=e.bulkAction,p=e.setBulkAction,f=e.rowDeleteHandler,v=e.warning,_=(0,r.useState)([]),b=(0,l.A)(_,2),k=b[0],E=b[1];(0,r.useEffect)(function(){E(Object.values(d||[]))},[d]);var w=betterLinksQuery.get("tag_id"),x=[{label:(0,s.__)("Browser","betterlinks"),value:"browser"},{label:(0,s.__)("IP","betterlinks"),value:"ip"},{label:(0,r.createElement)("div",null,(0,s.__)("Country","betterlinks")," ",!y.JT&&(0,r.createElement)(C.A,null)),value:"country_name"},{label:(0,s.__)("Timestamp","betterlinks"),value:"created_at"},{label:(0,s.__)("Referer","betterlinks"),value:"referer"},{label:(0,r.createElement)("div",null,(0,s.__)("Parameters","betterlinks")," ",!y.JT&&(0,r.createElement)(C.A,null)),value:"query_params"},{label:(0,s.__)("OS","betterlinks"),value:"os"},{label:(0,s.__)("Device","betterlinks"),value:"device"}];return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"btl-click-filter"},(0,r.createElement)("div",{className:"btl-flex"},(0,r.createElement)("div",{style:{display:"flex",alignItems:"center"}},m&&(0,r.createElement)("a",{className:"btl-go-back-btn dashicons dashicons-arrow-left-alt",onClick:function(){return window.history.go(-1),!1},href:"#"})),g&&g.length>0&&(0,r.createElement)("div",{className:"btl-bulk-actions"},(0,r.createElement)(q.Ay,{className:"btl-list-view-select",classNamePrefix:"btl-react-select",defaultValue:{value:"",label:(0,s.__)("Bulk Actions","betterlinks")},value:null!=h&&h.value?h:{value:"",label:(0,s.__)("Bulk Actions","betterlinks")},options:[{value:"delete",label:(0,s.__)("Delete","betterlinks")}].concat((0,A.A)(m?[{value:"fetch_country",label:(0,r.createElement)(r.Fragment,null,(0,s.__)("Fetch Country","betterlinks")," ",(!y.JT||!(0,y.OS)("2.5.0"))&&(0,r.createElement)(C.A,null))}]:[])),onChange:function(e){return p(e)}}),(0,r.createElement)("div",{className:"btl-tooltip"},(0,r.createElement)("button",{className:"btl-link-apply-button",onClick:function(){f()},disabled:!("fetch_country"!==(null==h?void 0:h.value)||y.JT&&(0,y.OS)("2.5.0")),title:"fetch_country"!==(null==h?void 0:h.value)||(0,y.OS)("2.5.0")?"":(0,s.__)("Please update BetterLinks Pro to v2.5.0 or newer","betterlinks")},(0,s.__)("Apply","betterlinks")),v&&"delete"!==h.value&&"fetch_country"!==h.value&&(0,r.createElement)("span",{className:"btl-tooltiptext"},"Please Select Action.")))),(0,r.createElement)("div",{style:{display:"flex"}},(0,r.createElement)("form",{onSubmit:n},(0,r.createElement)("input",{id:"search",type:"text",placeholder:(0,s.__)("Search...","betterlinks"),value:t,onChange:a}),(0,r.createElement)("button",{className:"btl-search-button",type:"submit",title:(0,s.__)("Searching","betterlinks")},(0,r.createElement)(S,{searchStatus:i})),c&&(0,r.createElement)("button",{className:"btl-search-button btl-search-reset",type:"button",title:(0,s.__)("Reset Search","betterlinks"),onClick:o},(0,r.createElement)("span",{class:"dashicons dashicons-image-rotate"}))),m&&!w&&(0,r.createElement)(O.KF,{options:x,value:k,onChange:function(e){E(e),u(e)},labelledBy:"Select",disableSearch:!0,hasSelectAll:!1}))))};var j,F,H=a(8766);function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},z.apply(null,arguments)}var M,T,R=function(e){return r.createElement("svg",z({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),j||(j=r.createElement("g",{stroke:"#9FA1B8",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,clipPath:"url(#link_svg__a)"},r.createElement("path",{d:"m9 15 6-6m-4-3 .463-.536a5 5 0 0 1 7.071 7.072L18 13m-5 5-.397.534a5.07 5.07 0 0 1-7.127 0 4.97 4.97 0 0 1 0-7.071L6 11"}))),F||(F=r.createElement("defs",null,r.createElement("clipPath",{id:"link_svg__a"},r.createElement("path",{fill:"#fff",d:"M0 0h24v24H0z"})))))};function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Y.apply(null,arguments)}var B,I,V=function(e){return r.createElement("svg",Y({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),M||(M=r.createElement("g",{stroke:"#9FA1B8",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,clipPath:"url(#target_svg__a)"},r.createElement("path",{d:"M12 6H6a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-6m-7 1 9-9m-5 0h5v5"}))),T||(T=r.createElement("defs",null,r.createElement("clipPath",{id:"target_svg__a"},r.createElement("path",{fill:"#fff",d:"M0 0h24v24H0z"})))))};function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},W.apply(null,arguments)}var J=function(e){return r.createElement("svg",W({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),B||(B=r.createElement("g",{stroke:"#9FA1B8",strokeLinecap:"round",strokeLinejoin:"round",clipPath:"url(#www_svg__a)"},r.createElement("path",{strokeWidth:2,d:"M19.5 7A9 9 0 0 0 12 3a8.99 8.99 0 0 0-7.484 4"}),r.createElement("path",{strokeWidth:2,d:"M11.5 3a17 17 0 0 0-1.826 4M12.5 3a17 17 0 0 1 1.828 4M19.5 17a9 9 0 0 1-7.5 4 8.99 8.99 0 0 1-7.484-4"}),r.createElement("path",{strokeWidth:2,d:"M11.5 21a17 17 0 0 1-1.826-4m2.826 4a17 17 0 0 0 1.828-4"}),r.createElement("path",{strokeWidth:1.5,d:"m2 10 1 4 1.5-4L6 14l1-4m10 0 1 4 1.5-4 1.5 4 1-4M9.5 10l1 4 1.5-4 1.5 4 1-4"}))),I||(I=r.createElement("defs",null,r.createElement("clipPath",{id:"www_svg__a"},r.createElement("path",{fill:"#fff",d:"M0 0h24v24H0z"})))))},U=function(e,t){var a={clicks:{},unique_clicks:{}};return e&&e.total_count&&e.unique_count?(e.total_count.forEach(function(e){a.clicks[e.c_date]=e.click_count}),e.unique_count.forEach(function(e){a.unique_clicks[e.c_date]=e.uniq_count}),a):a},G=function(e,t,a){var n,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(l&&!(arguments.length>4&&void 0!==arguments[4]&&arguments[4]))return null==e||null===(n=e.filter)||void 0===n?void 0:n.call(e,function(e){if(e.link_id==l)return JSON.stringify(e).toLowerCase().includes(a.toLowerCase())});for(var r=[],i=function(){var t=e[c];r.find(function(e){return e.link_id==t.link_id})||(t.link_title&&t.link_title.toLowerCase().includes(null==a?void 0:a.toLowerCase()),r.push(t))},c=0;c<e.length;c++)i();return 1==t?y.JT||is_extra_data_tracking_compatible?r.sort(function(e,t){return+(null==e?void 0:e.total_clicks)-+(null==t?void 0:t.total_clicks)}).reverse().slice(0,5):[]:r.filter(function(e){return JSON.stringify(e).toLowerCase().includes(null==a?void 0:a.toLowerCase())})};const K=(0,u.Ng)(function(e){return{analytics:e.analytics,activity:e.activity}},function(e){return{searchClicksData:(0,d.zH)(H.Iz,e),fetch_clicks_data:(0,d.zH)(H.AK,e),fetch_individual_clicks:(0,d.zH)(H.fn,e),fetch_analytics_settings:(0,d.zH)(_,e),update_analytics_settings:(0,d.zH)(b,e),delete_clicks:(0,d.zH)(H.O3,e),delete_links_analytics:(0,d.zH)(H.j4,e),update_clicks_with_country:(0,d.zH)(H.qe,e)}})(function(e){var t=e.columns,a=e.data,n=e.progressPending,i=e.id,c=void 0===i?null:i,o=e.from,d=void 0===o?null:o,u=e.customDateFilter,m=(0,r.useState)(!1),g=(0,l.A)(m,2),h=g[0],p=g[1],f=(0,r.useState)(!1),v=(0,l.A)(f,2),_=v[0],b=v[1],E=(0,r.useState)(!1),A=(0,l.A)(E,2),D=A[0],L=A[1],S=(0,r.useState)(""),O=(0,l.A)(S,2),C=O[0],q=O[1],j=(0,r.useState)([]),F=(0,l.A)(j,2),H=F[0],z=F[1],M=(0,r.useState)({}),T=(0,l.A)(M,2),R=T[0],Y=T[1],B=(0,r.useState)(!1),I=(0,l.A)(B,2),V=I[0],W=I[1],J=(0,r.useState)(!1),U=(0,l.A)(J,2),K=U[0],Q=U[1],X=e.activity.analyticsTab,Z=e.analytics.analytics;(0,r.useEffect)(function(){Z||e.fetch_analytics_settings()},[]);var $=function(){var t=(0,k.A)(w().mark(function t(){var a,n,l,r,i;return w().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("delete"!==R.value){t.next=1;break}return Q(!1),W(!V),c?(a=H.map(function(e){return e.ID}),n={click_ids:a,link_id:c},u&&u[0]&&(n.from=(0,y.Yq)(u[0].startDate,"yyyy-mm-dd"),n.to=(0,y.Yq)(u[0].endDate,"yyyy-mm-dd")),e.delete_clicks(n)):(l=H.map(function(e){return e.link_id}),r={link_ids:l},u&&u[0]&&(r.from=(0,y.Yq)(u[0].startDate,"yyyy-mm-dd"),r.to=(0,y.Yq)(u[0].endDate,"yyyy-mm-dd")),e.delete_links_analytics(r)),Y({}),z([]),t.abrupt("return");case 1:if("fetch_country"!==R.value){t.next=4;break}if(Q(!1),c){t.next=2;break}return Q(!0),t.abrupt("return");case 2:return i=function(t){var a=(0,y.Yq)(u[0].startDate,"yyyy-mm-dd"),n=(0,y.Yq)(u[0].endDate,"yyyy-mm-dd")||(0,y.Yq)(new Date,"yyyy-mm-dd"),l=a||(0,y.Yq)(new Date,"yyyy-mm-dd");e.fetch_individual_clicks({link_id:c,from:l,to:n,setLoading:function(){}})},t.next=3,(0,y.P4)(H,c,i);case 3:return Y({}),z([]),W(!V),t.abrupt("return");case 4:Q(!0);case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),ee=(0,r.useMemo)(function(){return(0,r.createElement)(P,{onFilter:function(e){return q(e.target.value)},onClear:function(){C&&(p(!h),q(""))},filterText:C,searchClickHandler:function(t){t.preventDefault(),C&&(b(!0),e.searchClicksData(y.sL,C).then(function(){b(!1),L(!0)}))},searchStatus:_,isSearching:D,resetSearch:function(){if(L(!1),q(""),u&&u[0]){var t={from:(0,y.Yq)(u[0].startDate,"yyyy-mm-dd"),to:(0,y.Yq)(u[0].endDate,"yyyy-mm-dd")};e.fetch_clicks_data(t)}else e.fetch_clicks_data({})},analytics:Z,update_analytics_settings:e.update_analytics_settings,id:c,analyticsTab:X,update_activity:e.update_activity,selectedRows:H,bulkAction:R,setBulkAction:Y,rowDeleteHandler:$,warning:K})},[C,h,_,D,Z,X,c,H.length,R,K]);return(0,r.createElement)(N.Ay,{className:"btl-analytic-table",title:(0,s.__)("Single Clicks","betterlinks"),columns:t,data:G(a,X,C,c,d),pagination:!0,progressPending:n,progressComponent:(0,r.createElement)(x.A,null),paginationResetDefaultPage:h,subHeader:!0,subHeaderComponent:ee,persistTableHead:!0,defaultSortFieldId:"name",paginationRowsPerPageOptions:y._t,onChangeRowsPerPage:function(e){return localStorage.setItem("btlAnalyticsRowsPerPage",e)},paginationPerPage:+localStorage.getItem("btlAnalyticsRowsPerPage")||10,selectableRows:!0,selectableRowsVisibleOnly:!0,onSelectedRowsChange:function(e){z(e.selectedRows)},clearSelectedRows:V})}),Q=(0,u.Ng)(function(e){var t,a=null===(t=e.clicks)||void 0===t?void 0:t.unique_list;return{settings:e.settings,analytics:e.analytics,clicks:e.clicks,unique_list:a}},function(e){return{fetch_settings_data:(0,d.zH)(p.kc,e),fetch_analytics_settings:(0,d.zH)(_,e)}})(function(e){var t=e.analyticsTab,a=e.unique_list,n=e.id,l=void 0===n?null:n,i=e.from,c=void 0===i?null:i,s=e.customDateFilter,o=e.settings.settings,d=e.analytics.analytics;(0,r.useEffect)(function(){o||e.fetch_settings_data(),d||e.fetch_analytics_settings()},[]);var u=(0,r.useCallback)((0,y.GH)(d,t),[d,t]),m=null!=o&&o.is_disable_analytics_ip?u.filter(function(e){return"ip"!==e.selector}):u;return(0,r.createElement)(K,{columns:m,data:a||[],progressPending:!a,id:l,from:c,customDateFilter:s})});var X,Z,$=a(20),ee=a(3486),te=a(384),ae=a(7430);function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ne.apply(null,arguments)}var le,re=function(e){return r.createElement("svg",ne({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 44 30"},e),X||(X=r.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M42.43 14.68V2.85c0-.24-.05-.48-.14-.71s-.23-.43-.4-.6c-.01-.01-.02-.01-.03-.02a2 2 0 0 0-.57-.38c-.18-.07-.36-.09-.55-.11-.06 0-.1-.03-.16-.03H28.7"})),Z||(Z=r.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m1 28.04 12.75-12.07 5.62 7.19a1.852 1.852 0 0 0 2.77.17L40.77 2.69"})))},ie=a(220);function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ce.apply(null,arguments)}var se,oe,de=function(e){return r.createElement("svg",ce({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 40 41"},e),le||(le=r.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.65 39.39H1V22.72h8.65zM23.67 39.39h-8.65V8.08h8.65zM38.6 39.39h-8.65V1h8.65z"})))};function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ue.apply(null,arguments)}var me,ge=function(e){return r.createElement("svg",ue({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 55 47"},e),se||(se=r.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M33.23 45.25c-1.9.33-3.84.49-5.77.49-4.25 0-8.5-.78-12.34-2.31-6.06-2.4-10.87-6.49-13.91-11.81-.29-.51-.29-1.13 0-1.64 2.56-4.48 6.46-8.15 11.27-10.62 4.48-2.29 9.65-3.5 14.95-3.5s10.47 1.21 14.95 3.5c4.81 2.46 8.71 6.13 11.27 10.62.29.51.29 1.13 0 1.64-2.2 3.85-5.29 7.02-9.19 9.44-4.37 2.83-11.23 4.19-11.23 4.19M27.34 10.21V1.79M36.3 12.15l4.21-7.3M14.36 4.85l4.21 7.3"})),oe||(oe=r.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m31.78 38.69 4.27 5.23m-4.27-5.23a8.9 8.9 0 0 1-5.72 1.63c-4.96-.3-8.74-4.57-8.44-9.52s4.57-8.74 9.52-8.44 8.74 4.57 8.44 9.52c-.13 2.12-1.23 4.68-3.8 6.82z"})))};function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},he.apply(null,arguments)}var ye=function(e){return r.createElement("svg",he({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 38 37"},e),me||(me=r.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m21.61 6.16 1.48-4.67M16.35 4.33 16.68 1M2.42 24.55l4.4-2.15M1 18.28l3.24-.82M35.96 30.1l-7.76-7.77a.32.32 0 0 1-.09-.28c.02-.1.09-.19.18-.23l7-3.05a2.193 2.193 0 0 0-.2-4.07L10.05 6.52A2.19 2.19 0 0 0 7.3 9.27l8.18 25.04a2.17 2.17 0 0 0 1.97 1.5h.11c.87 0 1.65-.52 1.99-1.31l3.04-7c.04-.1.13-.17.23-.18.1-.02.21.01.28.09l7.77 7.77c.86.86 2.24.86 3.1 0l1.99-1.99c.86-.86.86-2.24 0-3.1z"})))},pe=a(2057);const fe=function(){return y.JT?null:(0,r.createElement)(pe.M,{description:(0,s.__)("Track your links with detailed analytics, dynamic infographics, insights on OS,  browser,top medium - social, search platforms and more.","betterlinks")},(0,r.createElement)(ee.A,null,[(0,r.createElement)("div",{className:"btl-graphteaser-icon"},(0,r.createElement)(re,null),(0,r.createElement)("p",null,(0,s.__)("Track your top-performing link Click Sources","betterlinks"))),(0,r.createElement)("div",{className:"btl-graphteaser-icon"},(0,r.createElement)(ie.h,null),(0,r.createElement)("p",null,(0,s.__)("Access exclusive click data for Better Insights","betterlinks"))),(0,r.createElement)("div",{className:"btl-graphteaser-icon"},(0,r.createElement)(de,null),(0,r.createElement)("p",null,(0,s.__)("Measure the performance of your shortened links","betterlinks"))),(0,r.createElement)("div",{className:"btl-graphteaser-icon"},(0,r.createElement)(ge,null),(0,r.createElement)("p",null,(0,s.__)("Identify your most-clicked links for optimal strategy","betterlinks"))),(0,r.createElement)("div",{className:"btl-graphteaser-icon"},(0,r.createElement)(ye,null),(0,r.createElement)("p",null,(0,s.__)("Get detailed individual click stats at your fingertips","betterlinks")))].map(function(e){return(0,r.createElement)(te.A,{disableGutters:!0},(0,r.createElement)(ae.A,{primary:e}))})))},ve=function(e){var t=e.darkMode;return(0,r.createElement)("div",{className:"btl-top-charts btl-top-charts-teaser"},(0,r.createElement)("img",{style:{width:"100%"},src:"".concat(y.hq,"assets/images/teasers/").concat(t?"dark":"light","-chart-teaser.png")}),(0,r.createElement)(fe,null))},_e=function(){return(0,r.createElement)("div",{className:"btl-chart-preloader"},(0,r.createElement)("img",{src:"".concat(y.hq,"assets/images/dark-mode-loader.gif")}))};function be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?be(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ee=function(){};const we=(0,u.Ng)(function(e){return{clicks:e.clicks,activity:e.activity}},function(e){return{fetchCustomClicksData:(0,d.zH)(H.lC,e),get_chart_data:(0,d.zH)(H.Hr,e),get_graph_data:(0,d.zH)(H.rF,e),get_medium_data:(0,d.zH)(H._I,e),fetch_clicks_data:(0,d.zH)(H.AK,e),fetch_individual_clicks:(0,d.zH)(H.fn,e),get_analytics_graph_by_tag:(0,d.zH)(H.MI,e),get_analytics_unique_list_by_id:(0,d.zH)(H.Nr,e),get_individual_chart_data:(0,d.zH)(H.hU,e),get_individual_medium_data:(0,d.zH)(H.qA,e)}})(function(e){var t,a,n,i=e.customDateFilter,c=e.setCustomDateFilter,o=e.extraAnalytics,d=e.chartLoading,u=void 0!==d&&d,g=e.setChartLoading,h=void 0===g?Ee:g,p=e.setLoading,f=void 0===p?Ee:p,v=e.setGraphLoading,_=void 0===v?Ee:v,b=e.setMediumLoading,E=void 0===b?Ee:b,x=e.activity,N=betterLinksQuery.get("id"),A=betterLinksQuery.get("tag_id"),D=(0,r.useState)((0,s.__)("Filter","betterlinks")),L=(0,l.A)(D,2),S=L[0],O=L[1],C=(0,r.useState)(!1),q=(0,l.A)(C,2),P=q[0],j=q[1],F=(0,r.useState)(!0),H=(0,l.A)(F,2),z=H[0],M=H[1],T=x.darkMode,R=(0,r.useMemo)(function(){var t;return(0,y.bI)((null===(t=e.data)||void 0===t?void 0:t.clicks)||{})},[null===(t=e.data)||void 0===t?void 0:t.clicks]),Y=(0,r.useState)(!1),B=(0,l.A)(Y,2),I=(B[0],B[1]);(0,r.useEffect)(function(){return M(!0),function(){M(!1)}},[]),(0,r.useEffect)(function(){var t,a,n=(null===(t=e.data)||void 0===t?void 0:t.clicks)&&Object.keys(e.data.clicks).length>0,l=(null===(a=e.data)||void 0===a?void 0:a.unique_clicks)&&Object.keys(e.data.unique_clicks).length>0,r=void 0!==e.uniqueIpCount&&null!==e.uniqueIpCount;I(!!(n&&l&&r)||!(!n||l||r))},[null===(a=e.data)||void 0===a?void 0:a.clicks,null===(n=e.data)||void 0===n?void 0:n.unique_clicks,e.uniqueIpCount]);var V=function(){var t=(0,k.A)(w().mark(function t(){var a,n;return w().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:O((0,s.__)("Filtering...","betterlinks"));try{a=(0,y.Yq)(i[0].startDate,"yyyy-mm-dd"),n=(0,y.Yq)(i[0].endDate,"yyyy-mm-dd"),N||(e.fetch_clicks_data({from:a,to:n,setLoading:f}),e.get_graph_data({from:a,to:n,setLoading:_}),e.get_chart_data({from:a,to:n,setLoading:h}),e.get_medium_data({from:a,to:n,setLoading:E})),N&&y.JT&&(e.fetch_individual_clicks({link_id:N,from:a,to:n,setLoading:f}),e.get_individual_chart_data({link_id:N,from:a,to:n,setLoading:h}),e.get_individual_medium_data({link_id:N,from:a,to:n,setLoading:E})),A&&(e.get_analytics_graph_by_tag({from:a,to:n,tag_id:A,setLoading:f}),e.get_analytics_unique_list_by_id({from:a,to:n,tag_id:A,setLoading:f})),setTimeout(function(){O((0,s.__)("Done!","betterlinks")),setTimeout(function(){O((0,s.__)("Filter","betterlinks"))},3e3)},1e3)}catch(e){console.log({error:e.message})}case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),W=(0,r.useMemo)(function(){return{options:{chart:{id:"analytics-click-count",toolbar:{export:{csv:{headerCategory:"Date"}}},animations:{enabled:!0,dynamicAnimation:{enabled:!1}},redrawOnParentResize:!1,redrawOnWindowResize:!1},xaxis:{categories:R},stroke:{curve:"smooth"},colors:["#FF7818","#6034E6"],markers:{size:5},legend:{position:"top"}},series:(0,y.vh)(e.data,e.uniqueIpCount)}},[R,e.data,e.uniqueIpCount]);return z?(0,r.createElement)("div",null,(0,r.createElement)("div",{className:"btl-analytics-filter"},(0,r.createElement)("h3",{className:"btl-analytics-filter__heading"},(0,s.__)("Click Analytics","betterlinks")),(0,r.createElement)("div",{className:"btl-analytics-filter__control"},(0,r.createElement)("button",{onClick:function(){(0,y.AX)(),j(!P)},className:"btl-list-view-calendar"},(0,r.createElement)("span",{className:"dashicons dashicons-calendar"}),String(i[0].startDate).slice(4,15)," - ",String(i[0].endDate).slice(4,15)),P&&(0,r.createElement)("div",{className:"btl-date-range-picker-wrap"},(0,r.createElement)("div",{className:"btl-date-range-picker"},(0,r.createElement)("button",{onClick:function(){(0,y.jT)(),j(!1)},className:"btn-date-range-close"},(0,r.createElement)("span",{className:"dashicons dashicons-no-alt"})),(0,r.createElement)($.Ur,{onChange:function(e){return function(e){c([e.selection]),e.selection.endDate!=e.selection.startDate&&((0,y.jT)(),j(!1))}(e)},showSelectionPreview:!0,moveRangeOnFirstSelection:!1,months:2,ranges:i}))),(0,r.createElement)("button",{className:"btl-filter-action",onClick:V},S))),(0,r.createElement)("div",{className:"btl-analytics-chart"},(0,r.createElement)("div",{className:"btl-analytics-chart-line".concat(!y.JT&&N?" btl-analytics-chart-line-teaser":"")},!y.JT&&N?(0,r.createElement)("img",{className:"btl-analytics-chart-image",src:y.hq+"assets/images/teasers/individual-analytics.png"}):(0,r.createElement)(m.A,{options:W.options,series:W.series,type:"area",height:350}),N&&(0,r.createElement)(fe,null)),y.JT&&u?(0,r.createElement)(_e,null):!A&&betterLinksHooks.applyFilters("BetterlinksAnalyticsChart",!y.uL&&(0,r.createElement)(ve,{darkMode:T}),ke(ke({},o),{},{id:N})))):null});var xe=a(702),Ne=a(3516);const Ae=function(){return(0,r.createElement)(Ne.Ay,{width:"100%",height:"100%",viewBox:"0 0 350 300"},(0,r.createElement)("rect",{x:"6",y:"24",rx:"0",ry:"0",width:"57",height:"259"}),(0,r.createElement)("rect",{x:"76",y:"89",rx:"0",ry:"0",width:"57",height:"195"}),(0,r.createElement)("rect",{x:"144",y:"120",rx:"0",ry:"0",width:"57",height:"167"}),(0,r.createElement)("rect",{x:"214",y:"163",rx:"0",ry:"0",width:"57",height:"123"}),(0,r.createElement)("rect",{x:"282",y:"53",rx:"0",ry:"0",width:"57",height:"233"}))},De=(0,u.Ng)(function(e){return{clicks:e.clicks,activity:e.activity}},function(e){return{get_chart_data:(0,d.zH)(H.Hr,e),get_graph_data:(0,d.zH)(H.rF,e),get_medium_data:(0,d.zH)(H._I,e),fetch_clicks_data:(0,d.zH)(H.AK,e),fetch_individual_clicks:(0,d.zH)(H.fn,e)}})(function(e){var t=(0,r.useState)(!1),a=(0,l.A)(t,2),n=a[0],i=a[1],c=(0,r.useState)(!1),s=(0,l.A)(c,2),o=s[0],d=s[1],u=(0,r.useState)(!1),p=(0,l.A)(u,2),f=p[0],v=p[1],_=(0,r.useState)(!1),b=(0,l.A)(_,2),k=(b[0],b[1]),E=(0,xe.cN)(),w=(0,l.A)(E,3),x=w[0],N=(w[1],w[2]),A=(null==e?void 0:e.propsForAnalytics)||{},D=A.customDateFilter,L=A.setCustomDateFilter,S=e.clicks,O=S.clicks,C=S.unique_list,q=S.unique_count,P=S.referer,j=S.devices,F=S.os,H=S.browser,z=S.medium,M=e.activity,T=M.darkMode,R=M.analyticsTab;return(0,r.useEffect)(function(){var t=(0,y.Yq)(D[0].startDate,"yyyy-mm-dd"),a=(0,y.Yq)(D[0].endDate,"yyyy-mm-dd")||(0,y.Yq)(new Date,"yyyy-mm-dd"),n=betterLinksHooks.applyFilters("betterLinksAnalyticsFilterStartDate",(0,g.A)(new Date,30));n=t||(0,y.Yq)(n,"yyyy-mm-dd"),O||(e.get_chart_data({from:n,to:a,setLoading:v}),e.get_graph_data({from:n,to:a,setLoading:d}),e.get_medium_data({from:n,to:a,setLoading:k})),null!=O&&O.unique_list||e.fetch_clicks_data({from:n,to:a,setLoading:i})},[O]),(0,r.useEffect)(function(){},[O,C,q,P,j,F,H,z]),(0,r.createElement)("div",{className:"btl-analytic"},(0,r.createElement)(h.A,{isOpenModal:x,closeModal:N}),(0,r.createElement)(we,{key:"graph-".concat(q,"-").concat((null==P?void 0:P.length)||0),data:U(O||{total_count:[],unique_count:[]}),uniqueIpCount:q,customDateFilter:D,setCustomDateFilter:L,chartLoading:f,setChartLoading:v,loading:n,setLoading:i,graphLoading:o,setGraphLoading:d,setMediumLoading:k,extraAnalytics:{top_referer:P||[],devices:j||[],os:F||[],browser:H||[],top_medium:z||[],darkMode:T,Chart:m.A,BarLoader:Ae}}),(0,r.createElement)("div",{className:"btl-analytic-table-wrapper"},(0,r.createElement)(Q,{analyticsTab:R,unique_list:C,loading:n,customDateFilter:D})))}),Le=function(e){var t=e.clicks,a=t.link_title,n=t.short_url,l=t.target_url,i=function(){return(0,r.createElement)(Ne.Ay,{speed:2,width:"100%",height:10,viewBox:"0 0 300 10",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},(0,r.createElement)("rect",{x:"1",y:"2",rx:"3",ry:"3",width:"196",height:"13"}))},c=betterLinksHooks.applyFilters("site_url",y.IV),s="".concat(c,"/").concat(n);return(0,r.createElement)("div",{className:"btl-single-click-info-header"},(0,r.createElement)("div",{className:"btl-single-info--name"},(0,r.createElement)("span",{className:"btl-single-info-svg-icon",style:{width:"20px",height:"20px",transform:"scale(0.8)"}},(0,r.createElement)(R,null)),(0,r.createElement)("span",{className:"btl-column-name",style:{marginRight:"5px"}},"Link Name:"),(0,r.createElement)("span",{className:"btl-link-name",title:a},(null==a?void 0:a.slice(0,40))||(0,r.createElement)(i,null))),(0,r.createElement)("div",{className:"btl-single-info-short-url btl-single-info--name"},(0,r.createElement)("span",{className:"btl-single-info-svg-icon",style:{width:"20px",height:"20px",transform:"scale(0.8)"}},(0,r.createElement)(J,null)),(0,r.createElement)("span",{className:"btl-column-name",style:{marginRight:"5px"}},"Shortened URL:"),(0,r.createElement)("a",{href:s,className:"btl-link-name",target:"_blank",title:s},(null==n?void 0:n.slice(0,40))||(0,r.createElement)(i,null))),(0,r.createElement)("div",{className:"btl-single-info-target-url btl-single-info--name"},(0,r.createElement)("span",{className:"btl-single-info-svg-icon",style:{width:"20px",height:"20px",transform:"scale(0.8)"}},(0,r.createElement)(V,null)),(0,r.createElement)("span",{className:"btl-column-name",style:{marginRight:"5px"}},"Target URL:"),(0,r.createElement)("a",{href:l,className:"btl-link-name",title:l,target:"_blank"},(null==l?void 0:l.slice(0,40))||(0,r.createElement)(i,null),(null==l?void 0:l.length)>40&&"[...]")))};var Se=a(5051);const Oe=(0,u.Ng)(function(e){return{clicks:e.clicks,activity:e.activity,settings:e.settings,analytics:e.analytics}},function(e){return{fetch_clicks_data:(0,d.zH)(H.AK,e),fetch_individual_clicks:(0,d.zH)(H.fn,e),fetch_settings_data:(0,d.zH)(p.kc,e),fetch_analytics_settings:(0,d.zH)(_,e),update_analytics_settings:(0,d.zH)(b,e),get_individual_chart_data:(0,d.zH)(H.hU,e),get_individual_medium_data:(0,d.zH)(H.qA,e)}})(function(e){var t,a,n,i,c,o,d=(0,xe.cN)(),u=(0,l.A)(d,3),p=u[0],f=(u[1],u[2]),v=(null==e?void 0:e.propsForAnalytics)||{},_=v.customDateFilter,b=v.setCustomDateFilter,k=e.clicks,E=k.individual_clicks,w=(0,r.useState)(!1),x=(0,l.A)(w,2),N=(x[0],x[1]),D=(0,r.useState)(!1),L=(0,l.A)(D,2),S=L[0],O=L[1],C=(0,r.useState)(!1),q=(0,l.A)(C,2),P=(q[0],q[1]),j=e.activity,F=j.darkMode,H=j.analyticsTab,z=e.settings.settings,M=e.analytics.analytics,T=betterLinksQuery.get("id");(0,r.useEffect)(function(){window.scrollTo(0,y.JT?0:270);var t=(0,y.Yq)(_[0].startDate,"yyyy-mm-dd"),a=(0,y.Yq)(_[0].endDate,"yyyy-mm-dd")||(0,y.Yq)(new Date,"yyyy-mm-dd"),n=betterLinksHooks.applyFilters("betterLinksAnalyticsFilterStartDate",(0,g.A)(new Date,30));n=t||(0,y.Yq)(n,"yyyy-mm-dd"),z||e.fetch_settings_data(),M||e.fetch_analytics_settings(),k||e.fetch_clicks_data({from:n,to:a,setLoading:N})},[]),(0,r.useEffect)(function(){var t=(0,y.Yq)(_[0].startDate,"yyyy-mm-dd"),a=(0,y.Yq)(_[0].endDate,"yyyy-mm-dd")||(0,y.Yq)(new Date,"yyyy-mm-dd"),n=betterLinksHooks.applyFilters("betterLinksAnalyticsFilterStartDate",(0,g.A)(new Date,30));n=t||(0,y.Yq)(n,"yyyy-mm-dd"),e.fetch_individual_clicks({link_id:T,from:n,to:a,setLoading:N}),y.JT&&(e.get_individual_chart_data({link_id:T,from:n,to:a,setLoading:O}),e.get_individual_medium_data({link_id:T,from:n,to:a,setLoading:P}))},[T,_]);var R=(0,r.useCallback)(function(t,a){var n=(0,y.Yq)(_[0].startDate,"yyyy-mm-dd"),l=(0,y.Yq)(_[0].endDate,"yyyy-mm-dd")||(0,y.Yq)(new Date,"yyyy-mm-dd"),r=betterLinksHooks.applyFilters("betterLinksAnalyticsFilterStartDate",(0,g.A)(new Date,30));r=n||(0,y.Yq)(r,"yyyy-mm-dd"),e.fetch_individual_clicks({link_id:T,from:r,to:l,setLoading:N})},[T,_,e]),Y=(0,r.useCallback)((0,y.GH)(M,H,T,R),[M,H,T,R]),B=null!=z&&z.is_disable_analytics_ip?Y.filter(function(e){return"ip"!==e.selector}):Y,I=null!=E&&null!==(t=E[T])&&void 0!==t&&t.analytics?(0,A.A)(new Set(E[T].analytics.map(function(e){return e.ip}))).length:0,V=y.JT&&null!=E&&E[T]?{top_referer:E[T].individual_referer||[],devices:E[T].individual_devices||[],os:E[T].individual_os||[],browser:E[T].individual_browser||{},top_medium:E[T].individual_medium||{},darkMode:F,Chart:m.A,BarLoader:Ae,id:T}:null;return(0,r.createElement)("div",{className:"btl-analytic"},(0,r.createElement)(h.A,{isOpenModal:p,closeModal:f}),null!=E&&null!==(a=E[T])&&void 0!==a&&a.graph_data?(0,r.createElement)(we,{data:U(E[T].graph_data),customDateFilter:_,setCustomDateFilter:b,setLoading:N,uniqueIpCount:I,chartLoading:S,setChartLoading:O,setMediumLoading:P,extraAnalytics:V}):(0,r.createElement)(_e,null),(0,r.createElement)(Se.A,{mode:"white",notice:(0,s.__)("To use the Parameter Tracking feature, please ensure that you have at least BetterLinks Pro v2.1.0 or later","betterlinks"),compatibleProVersion:"2.1.0"}),T&&(0,r.createElement)(Le,{clicks:null!=E&&null!==(n=E[T])&&void 0!==n&&n.link_details?null==E||null===(i=E[T])||void 0===i?void 0:i.link_details:{link_title:null,short_url:null,target_url:null}}),(0,r.createElement)("div",{className:"btl-analytic-table-wrapper btl-analytic-table-wrapper-single-clicks"},(0,r.createElement)(K,{id:T,columns:B,data:(null==E||null===(c=E[T])||void 0===c?void 0:c.analytics)||[],progressPending:null==E||null===(o=E[T])||void 0===o||!o.analytics,customDateFilter:_})))});var Ce,qe,Pe=a(1582);function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},je.apply(null,arguments)}var Fe,He,ze=function(e){return r.createElement("svg",je({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),Ce||(Ce=r.createElement("g",{clipPath:"url(#total-click_svg__a)"},r.createElement("path",{stroke:"#9FA1B8",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7.904 17.563a1.2 1.2 0 0 0 2.228.308l2.09-3.093 4.907 4.907a1.066 1.066 0 0 0 1.509 0l1.047-1.047a1.066 1.066 0 0 0 0-1.509l-4.907-4.907 3.113-2.09a1.2 1.2 0 0 0-.309-2.228L4 4z"}))),qe||(qe=r.createElement("defs",null,r.createElement("clipPath",{id:"total-click_svg__a"},r.createElement("path",{fill:"#fff",d:"M0 0h24v24H0z"})))))};function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Me.apply(null,arguments)}var Te,Re,Ye=function(e){return r.createElement("svg",Me({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),Fe||(Fe=r.createElement("g",{stroke:"#9FA1B8",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.8,clipPath:"url(#unique-click_svg__a)"},r.createElement("path",{d:"M8 13V4.5a1.5 1.5 0 0 1 3 0V12m0-.5v-2a1.5 1.5 0 1 1 3 0V12m0-1.5a1.5 1.5 0 1 1 3 0V12"}),r.createElement("path",{d:"M17 11.5a1.5 1.5 0 1 1 3 0V16a6 6 0 0 1-6 6h-2 .208a6 6 0 0 1-5.012-2.7L7 19q-.468-.718-3.286-5.728a1.5 1.5 0 0 1 .536-2.022 1.87 1.87 0 0 1 2.28.28L8 13M5 3 4 2m0 5H3m11-4 1-1m0 4h1"}))),He||(He=r.createElement("defs",null,r.createElement("clipPath",{id:"unique-click_svg__a"},r.createElement("path",{fill:"#fff",d:"M0 0h24v24H0z"})))))};function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Be.apply(null,arguments)}var Ie=function(e){return r.createElement("svg",Be({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),Te||(Te=r.createElement("g",{stroke:"#9FA1B8",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,clipPath:"url(#tag_svg__a)"},r.createElement("path",{d:"M3 8v4.172a2 2 0 0 0 .586 1.414l5.71 5.71a2.41 2.41 0 0 0 3.408 0l3.592-3.592a2.41 2.41 0 0 0 0-3.408l-5.71-5.71A2 2 0 0 0 9.172 6H5a2 2 0 0 0-2 2"}),r.createElement("path",{d:"m18 19 1.592-1.592a4.82 4.82 0 0 0 0-6.816L15 6m-8 4h-.01"}))),Re||(Re=r.createElement("defs",null,r.createElement("clipPath",{id:"tag_svg__a"},r.createElement("path",{fill:"#fff",d:"M0 0h24v24H0z"})))))};const Ve=(0,u.Ng)(function(e){return{clicks:e.clicks,terms:e.terms}},function(e){return{get_analytics_unique_list_by_id:(0,d.zH)(H.Nr,e),get_analytics_graph_by_tag:(0,d.zH)(H.MI,e),fetch_all_tags:(0,d.zH)(Pe.fetch_all_tags,e)}})(function(e){var t=(0,r.useState)(!1),a=(0,l.A)(t,2),n=a[0],i=a[1],c=e.tag_id,s=e.clicks,o=s.tag_clicks,d=s.tag_graphs,u=e.terms,m=u.tags,h=u.tag_analytics,p=(null==e?void 0:e.propsForAnalytics)||{},f=p.customDateFilter,v=p.setCustomDateFilter;(0,r.useEffect)(function(){var t=(0,y.Yq)(f[0].startDate,"yyyy-mm-dd"),a=(0,y.Yq)(f[0].endDate,"yyyy-mm-dd")||(0,y.Yq)(new Date,"yyyy-mm-dd"),n=(0,g.A)(new Date,30);n=t||(0,y.Yq)(n,"yyyy-mm-dd"),null!=o&&o[c]||e.get_analytics_unique_list_by_id({from:n,to:a,tag_id:c,setLoading:i}),null!=d&&d[c]||e.get_analytics_graph_by_tag({from:n,to:a,tag_id:c,setLoading:i}),m||e.fetch_all_tags()},[c]);var _=(0,r.useCallback)(function(){var e;return{tagName:null==m||null===(e=m.find(function(e){return e.id===c}))||void 0===e?void 0:e.term_name,totalClicks:(null==h?void 0:h.total_clicks[c])||0,uniqueClicks:(null==h?void 0:h.unique_clicks[c])||0}},[m])(),b=(0,r.useCallback)(function(){return null!=o&&o[c]?(0,A.A)(new Set(o[c].map(function(e){return e.ip}))).length:0},[o,c])(),k=function(){return(0,r.createElement)(Ne.Ay,{speed:2,width:"100%",height:10,viewBox:"0 0 300 10",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},(0,r.createElement)("rect",{x:"1",y:"2",rx:"3",ry:"3",width:"196",height:"13"}))};return(0,r.createElement)("div",{className:"btl-analytic"},(0,r.createElement)(we,{data:U((null==d?void 0:d[c])||{total_count:[],unique_count:[]}),customDateFilter:f,setCustomDateFilter:v,loading:n,setLoading:i,uniqueIpCount:b}),(null==_?void 0:_.tagName)&&(0,r.createElement)("div",{className:"btl-single-click-info-header"},(0,r.createElement)("div",{className:"btl-single-click-tag-info"},(0,r.createElement)("div",{className:"btl-single-info--name"},(0,r.createElement)("span",{className:"btl-single-info-svg-icon"},(0,r.createElement)(Ie,null)),(0,r.createElement)("span",{className:"btl-column-name",style:{marginRight:"5px"}},"Tag Name:"),(0,r.createElement)("span",{className:"btl-link-name",title:null==_?void 0:_.tagName},(null==_?void 0:_.tagName)||(0,r.createElement)(k,null))),(0,r.createElement)("div",{className:"btl-single-info--name"},(0,r.createElement)("span",{className:"btl-single-info-svg-icon"},(0,r.createElement)(ze,null)),(0,r.createElement)("span",{className:"btl-column-name",style:{marginRight:"5px"}},"Total Clicks:"),(0,r.createElement)("span",{className:"btl-link-name",title:"".concat(null==_?void 0:_.totalClicks," Clicks")},(null==_?void 0:_.totalClicks)||(0,r.createElement)(k,null))),(0,r.createElement)("div",{className:"btl-single-info--name",style:{marginRight:"15px"}},(0,r.createElement)("span",{className:"btl-single-info-svg-icon"},(0,r.createElement)(Ye,null)),(0,r.createElement)("span",{className:"btl-column-name",style:{marginRight:"5px"}},"Unique Clicks:"),(0,r.createElement)("span",{className:"btl-link-name",title:"".concat(null==_?void 0:_.uniqueClicks," Clicks")},(null==_?void 0:_.uniqueClicks)||(0,r.createElement)(k,null))))),(0,r.createElement)("div",{className:"btl-analytic-table-wrapper btl-analytic-table-wrapper-manage-tags"},(0,r.createElement)(Q,{analyticsTab:null,unique_list:null==o?void 0:o[c],loading:n,id:c,from:"manage_tags"})))});function We(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Je(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?We(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):We(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const Ue=function(){var e=(0,r.useState)([{startDate:betterLinksHooks.applyFilters("betterLinksAnalyticsFilterStartDate",(0,g.A)(new Date,30)),endDate:new Date,key:"selection"}]),t=(0,l.A)(e,2),a={customDateFilter:t[0],setCustomDateFilter:t[1],isResetAnalytics:!0},n=c.parse(location.search),d=betterLinksQuery.get("id"),u=betterLinksQuery.get("tag_id");return(0,r.createElement)(i().Fragment,null,(0,r.createElement)(o.A,{propsForAnalytics:a,label:(0,s.__)("BetterLinks Analytics","betterlinks")}),u?(0,r.createElement)(Ve,{propsForAnalytics:a,tag_id:u}):betterLinksHooks.applyFilters("analyticsInnerChild",d?(0,r.createElement)(Oe,{id:d,propsForAnalytics:a}):(0,r.createElement)(De,{propsForAnalytics:a}),Je(Je({},n),{},{Chart:m.A})))}}}]);